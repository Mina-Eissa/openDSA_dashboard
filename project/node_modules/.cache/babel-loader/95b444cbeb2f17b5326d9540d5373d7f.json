{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ChartLocation } from '../../common/utils/helper';\nimport { stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { Tooltip as SVGTooltip } from '@syncfusion/ej2-svg-base';\n/**\r\n * Tooltip Module used to render the tooltip for series.\r\n */\n\nvar BaseTooltip =\n/** @class */\nfunction (_super) {\n  __extends(BaseTooltip, _super);\n  /**\r\n   * Constructor for tooltip module.\r\n   *\r\n   * @private\r\n   */\n\n\n  function BaseTooltip(chart) {\n    var _this = _super.call(this, chart) || this;\n\n    _this.element = _this.chart.element;\n    _this.textStyle = chart.tooltip.textStyle;\n    _this.control = chart;\n    _this.template = chart.tooltip.template;\n    return _this;\n  }\n\n  BaseTooltip.prototype.getElement = function (id) {\n    return document.getElementById(id);\n  };\n  /**\r\n   * Renders the tooltip.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n    this.inverted = this.chart.requireInvertedAxis;\n    this.header = this.control.tooltip.header === null ? this.control.tooltip.shared ? '<b>${point.x}</b>' : '<b>${series.name}</b>' : this.control.tooltip.header;\n    this.formattedText = [];\n    var tooltipDiv = document.getElementById(this.chart.element.id + '_tooltip');\n    var isStockChart = this.chart.element.id.indexOf('stockChart') > -1;\n\n    if (!isTooltip && !tooltipDiv || isStockChart) {\n      return this.createElement();\n    }\n\n    return null;\n  };\n\n  BaseTooltip.prototype.createElement = function () {\n    var tooltipDiv = document.createElement('div');\n    tooltipDiv.id = this.element.id + '_tooltip';\n    tooltipDiv.className = 'ejSVGTooltip';\n    tooltipDiv.style.pointerEvents = 'none';\n    tooltipDiv.style.position = 'absolute';\n    tooltipDiv.style.zIndex = '1';\n    return tooltipDiv;\n  };\n\n  BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart) {\n    if (data.series.enableTooltip) {\n      if (isChart) {\n        this.currentPoints.push(data);\n      } else {\n        this.currentPoints.push(data);\n      }\n\n      this.stopAnimation();\n\n      if (tooltipDiv && !document.getElementById(tooltipDiv.id)) {\n        if (!this.chart.stockChart) {\n          document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        } else {\n          document.getElementById(this.chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  BaseTooltip.prototype.removeHighlight = function () {\n    var item;\n    var series;\n\n    for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n      item = this.previousPoints[i];\n\n      if (item.series.isRectSeries) {\n        if (item.series.visible) {\n          this.highlightPoint(item.series, item.point.index, false);\n        }\n\n        continue;\n      }\n\n      series = item.series;\n\n      if (!series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\n        this.previousPoints.shift();\n        len -= 1;\n      }\n    }\n  };\n\n  BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n    var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n    var selectionModule = this.control.accumulationSelectionModule;\n    var isSelectedElement = selectionModule && selectionModule.selectedDataIndexes.length > 0 ? true : false;\n\n    if (element) {\n      if (!isSelectedElement || isSelectedElement && element.getAttribute('class') && element.getAttribute('class').indexOf('_ej2_chart_selection_series_') === -1) {\n        if (this.chart.highlightColor !== '' && !isNullOrUndefined(this.chart.highlightColor)) {\n          element.setAttribute('fill', highlight ? this.chart.highlightColor : series.pointColorMapping !== '' ? series.points[0].color : series.interior);\n        } else {\n          element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\n        }\n      } else {\n        element.setAttribute('opacity', series.opacity.toString());\n      }\n    }\n  };\n\n  BaseTooltip.prototype.highlightPoints = function () {\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (item.series.isRectSeries && item.series.category === 'Series') {\n        this.highlightPoint(item.series, item.point.index, true);\n      }\n    }\n  }; // tslint:disable-next-line:max-func-body-length\n\n\n  BaseTooltip.prototype.createTooltip = function (chart, isFirst, location, clipLocation, point, shapes, offset, bounds, extraPoints, templatePoint, customTemplate) {\n    if (extraPoints === void 0) {\n      extraPoints = null;\n    }\n\n    if (templatePoint === void 0) {\n      templatePoint = null;\n    }\n\n    var series = this.currentPoints[0].series;\n    var module = chart.tooltipModule || chart.accumulationTooltipModule;\n\n    if (!module || location === null) {\n      // For the tooltip enable is false.\n      return;\n    }\n\n    if (isFirst) {\n      this.svgTooltip = new SVGTooltip({\n        opacity: chart.tooltip.opacity,\n        header: this.headerText,\n        content: this.text,\n        fill: chart.tooltip.fill,\n        border: chart.tooltip.border,\n        enableAnimation: chart.tooltip.enableAnimation,\n        location: location,\n        shared: chart.tooltip.shared,\n        shapes: shapes,\n        clipBounds: this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation,\n        areaBounds: bounds,\n        palette: this.findPalette(),\n        template: customTemplate || this.template,\n        data: templatePoint,\n        theme: chart.theme,\n        offset: offset,\n        textStyle: chart.tooltip.textStyle,\n        isNegative: series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0,\n        inverted: this.chart.requireInvertedAxis && series.isRectSeries,\n        arrowPadding: this.text.length > 1 || this.chart.stockChart ? 0 : 12,\n        availableSize: chart.availableSize,\n        duration: this.chart.tooltip.duration,\n        isCanvas: this.chart.enableCanvas,\n        isTextWrap: chart.tooltip.enableTextWrap && chart.getModuleName() === 'chart',\n        blazorTemplate: {\n          name: 'Template',\n          parent: this.chart.tooltip\n        },\n        controlInstance: this.chart,\n        enableRTL: chart.enableRtl,\n        tooltipRender: function () {\n          module.removeHighlight();\n          module.highlightPoints();\n          module.updatePreviousPoint(extraPoints);\n        },\n        animationComplete: function (args) {\n          if (args.tooltip.fadeOuted) {\n            module.fadeOut(module.previousPoints);\n          }\n        }\n      }, '#' + this.element.id + '_tooltip');\n    } else {\n      if (this.svgTooltip) {\n        this.svgTooltip.location = location;\n        this.svgTooltip.content = this.text;\n        this.svgTooltip.header = this.headerText;\n        this.svgTooltip.offset = offset;\n        this.svgTooltip.palette = this.findPalette();\n        this.svgTooltip.shapes = shapes;\n        this.svgTooltip.data = templatePoint;\n        this.svgTooltip.template = this.template;\n        this.svgTooltip.textStyle = chart.tooltip.textStyle;\n        this.svgTooltip.isNegative = series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0;\n        this.svgTooltip.clipBounds = this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation;\n        this.svgTooltip.arrowPadding = this.text.length > 1 || this.chart.stockChart ? 0 : 12;\n        this.svgTooltip.dataBind();\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    if (this.chart.isReact) {\n      this.chart.renderReactTemplates();\n    }\n  };\n\n  BaseTooltip.prototype.findPalette = function () {\n    var colors = [];\n\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var data = _a[_i];\n      colors.push(this.findColor(data, data.series));\n    }\n\n    return colors;\n  };\n\n  BaseTooltip.prototype.findColor = function (data, series) {\n    if (series.isRectSeries && (series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) {\n      return data.point.color;\n    } else {\n      return (data.point.color && data.point.color !== '#ffffff' ? data.point.color : data.point.interior) || series.marker.fill || series.interior;\n    }\n  };\n\n  BaseTooltip.prototype.updatePreviousPoint = function (extraPoints) {\n    if (extraPoints) {\n      this.currentPoints = this.currentPoints.concat(extraPoints);\n    }\n\n    this.previousPoints = extend([], this.currentPoints, null, true);\n  };\n\n  BaseTooltip.prototype.fadeOut = function (data) {\n    var svgElement = this.chart.enableCanvas ? this.getElement(this.element.id + '_tooltip_group') : this.getElement(this.element.id + '_tooltip_svg');\n    var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0;\n\n    if (!isTooltip) {\n      this.valueX = null;\n      this.valueY = null;\n      this.currentPoints = [];\n      this.removeHighlight();\n      this.removeHighlightedMarker(data);\n      this.svgTooltip = null;\n      this.control.trigger('animationComplete', {});\n    }\n  };\n  /*\r\n  * @hidden\r\n  */\n\n\n  BaseTooltip.prototype.removeHighlightedMarker = function (data) {\n    if (this.chart.markerRender) {\n      for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n        var item = data_1[_i];\n        removeElement(this.element.id + '_Series_' + item.series.index + '_Point_' + item.point.index + '_Trackball');\n      }\n\n      this.chart.markerRender.removeHighlightedMarker();\n    }\n\n    this.previousPoints = [];\n  }; // public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {\n  //     let argsData: ITooltipRenderEventArgs = {\n  //         cancel: false, name: tooltipRender, text: textCollection,\n  //         point: point.point, series: point.series, textStyle: this.textStyle\n  //     };\n  //     this.chart.trigger(tooltipRender, argsData);\n  //     if (!argsData.cancel) {\n  //         if (point.series.type === 'BoxAndWhisker') {\n  //             this.removeText();\n  //             isFirst = true;\n  //         }\n  //         this.formattedText = this.formattedText.concat(argsData.text);\n  //         this.text = this.formattedText;\n  //     }\n  //     return !argsData.cancel;\n  // }\n\n\n  BaseTooltip.prototype.removeText = function () {\n    this.textElements = [];\n    var element = this.getElement(this.element.id + '_tooltip_group');\n\n    if (element && element.childNodes.length > 0) {\n      while (element.lastChild && element.childNodes.length !== 1) {\n        element.removeChild(element.lastChild);\n      }\n    }\n  };\n\n  BaseTooltip.prototype.stopAnimation = function () {\n    stopTimer(this.toolTipInterval);\n  };\n  /**\r\n   * Removes the tooltip on mouse leave.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  BaseTooltip.prototype.removeTooltip = function (duration) {\n    var _this = this;\n\n    var tooltipElement = this.getElement(this.element.id + '_tooltip');\n    var tooltipTemplate = tooltipElement ? this.getElement(tooltipElement.id + 'parent_template') : null;\n    var isTemplateRendered = tooltipTemplate && tooltipTemplate.innerHTML !== '<div></div>';\n    this.stopAnimation(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    if (this.chart.isReact && isTemplateRendered) {\n      this.chart.clearTemplate([tooltipTemplate.id], [0]);\n    }\n\n    if (tooltipElement && this.previousPoints.length > 0) {\n      this.toolTipInterval = +setTimeout(function () {\n        if (_this.svgTooltip) {\n          _this.svgTooltip.fadeOut();\n        }\n      }, duration);\n    }\n  };\n\n  return BaseTooltip;\n}(ChartData);\n\nexport { BaseTooltip };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/common/user-interaction/tooltip.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","isNullOrUndefined","ChartLocation","stopTimer","removeElement","ChartData","Tooltip","SVGTooltip","BaseTooltip","_super","chart","_this","call","element","textStyle","tooltip","control","template","getElement","id","document","getElementById","getTooltipElement","isTooltip","inverted","requireInvertedAxis","header","shared","formattedText","tooltipDiv","isStockChart","indexOf","createElement","className","style","pointerEvents","position","zIndex","pushData","data","isFirst","isChart","series","enableTooltip","currentPoints","push","stopAnimation","stockChart","appendChild","removeHighlight","item","i","len","previousPoints","length","isRectSeries","visible","highlightPoint","point","index","marker","type","shift","pointIndex","highlight","selectionModule","accumulationSelectionModule","isSelectedElement","selectedDataIndexes","getAttribute","highlightColor","setAttribute","pointColorMapping","points","color","interior","opacity","toString","highlightPoints","_i","_a","category","createTooltip","location","clipLocation","shapes","offset","bounds","extraPoints","templatePoint","customTemplate","module","tooltipModule","accumulationTooltipModule","svgTooltip","headerText","content","text","fill","border","enableAnimation","clipBounds","chartAreaType","areaBounds","palette","findPalette","theme","isNegative","y","arrowPadding","availableSize","duration","isCanvas","enableCanvas","isTextWrap","enableTextWrap","getModuleName","blazorTemplate","name","parent","controlInstance","enableRTL","enableRtl","tooltipRender","updatePreviousPoint","animationComplete","args","fadeOuted","fadeOut","dataBind","isReact","renderReactTemplates","colors","findColor","concat","svgElement","parseInt","valueX","valueY","removeHighlightedMarker","trigger","markerRender","data_1","removeText","textElements","childNodes","lastChild","removeChild","toolTipInterval","removeTooltip","tooltipElement","tooltipTemplate","isTemplateRendered","innerHTML","clearTemplate","setTimeout"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* eslint-disable @typescript-eslint/no-inferrable-types */\r\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\r\nimport { ChartLocation } from '../../common/utils/helper';\r\nimport { stopTimer, removeElement } from '../../common/utils/helper';\r\nimport { ChartData } from '../../chart/utils/get-data';\r\nimport { Tooltip as SVGTooltip } from '@syncfusion/ej2-svg-base';\r\n/**\r\n * Tooltip Module used to render the tooltip for series.\r\n */\r\nvar BaseTooltip = /** @class */ (function (_super) {\r\n    __extends(BaseTooltip, _super);\r\n    /**\r\n     * Constructor for tooltip module.\r\n     *\r\n     * @private\r\n     */\r\n    function BaseTooltip(chart) {\r\n        var _this = _super.call(this, chart) || this;\r\n        _this.element = _this.chart.element;\r\n        _this.textStyle = chart.tooltip.textStyle;\r\n        _this.control = chart;\r\n        _this.template = chart.tooltip.template;\r\n        return _this;\r\n    }\r\n    BaseTooltip.prototype.getElement = function (id) {\r\n        return document.getElementById(id);\r\n    };\r\n    /**\r\n     * Renders the tooltip.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\r\n        this.inverted = this.chart.requireInvertedAxis;\r\n        this.header = (this.control.tooltip.header === null) ?\r\n            ((this.control.tooltip.shared) ? '<b>${point.x}</b>' : '<b>${series.name}</b>')\r\n            : (this.control.tooltip.header);\r\n        this.formattedText = [];\r\n        var tooltipDiv = document.getElementById(this.chart.element.id + '_tooltip');\r\n        var isStockChart = this.chart.element.id.indexOf('stockChart') > -1;\r\n        if (!isTooltip && !tooltipDiv || isStockChart) {\r\n            return this.createElement();\r\n        }\r\n        return null;\r\n    };\r\n    BaseTooltip.prototype.createElement = function () {\r\n        var tooltipDiv = document.createElement('div');\r\n        tooltipDiv.id = this.element.id + '_tooltip';\r\n        tooltipDiv.className = 'ejSVGTooltip';\r\n        tooltipDiv.style.pointerEvents = 'none';\r\n        tooltipDiv.style.position = 'absolute';\r\n        tooltipDiv.style.zIndex = '1';\r\n        return tooltipDiv;\r\n    };\r\n    BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart) {\r\n        if (data.series.enableTooltip) {\r\n            if (isChart) {\r\n                this.currentPoints.push(data);\r\n            }\r\n            else {\r\n                this.currentPoints.push(data);\r\n            }\r\n            this.stopAnimation();\r\n            if (tooltipDiv && !document.getElementById(tooltipDiv.id)) {\r\n                if (!this.chart.stockChart) {\r\n                    document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\r\n                }\r\n                else {\r\n                    document.getElementById(this.chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    BaseTooltip.prototype.removeHighlight = function () {\r\n        var item;\r\n        var series;\r\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\r\n            item = this.previousPoints[i];\r\n            if (item.series.isRectSeries) {\r\n                if (item.series.visible) {\r\n                    this.highlightPoint(item.series, item.point.index, false);\r\n                }\r\n                continue;\r\n            }\r\n            series = item.series;\r\n            if (!series.marker.visible && item.series.type !== 'Scatter' && item.series.type !== 'Bubble') {\r\n                this.previousPoints.shift();\r\n                len -= 1;\r\n            }\r\n        }\r\n    };\r\n    BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\r\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\r\n        var selectionModule = this.control.accumulationSelectionModule;\r\n        var isSelectedElement = selectionModule && selectionModule.selectedDataIndexes.length > 0 ? true : false;\r\n        if (element) {\r\n            if ((!isSelectedElement || isSelectedElement && element.getAttribute('class')\r\n                && element.getAttribute('class').indexOf('_ej2_chart_selection_series_') === -1)) {\r\n                if (this.chart.highlightColor !== '' && !isNullOrUndefined(this.chart.highlightColor)) {\r\n                    element.setAttribute('fill', (highlight ? this.chart.highlightColor : series.pointColorMapping !== '' ? (series.points[0]).color : series.interior));\r\n                }\r\n                else {\r\n                    element.setAttribute('opacity', (highlight ? series.opacity / 2 : series.opacity).toString());\r\n                }\r\n            }\r\n            else {\r\n                element.setAttribute('opacity', series.opacity.toString());\r\n            }\r\n        }\r\n    };\r\n    BaseTooltip.prototype.highlightPoints = function () {\r\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.series.isRectSeries && item.series.category === 'Series') {\r\n                this.highlightPoint(item.series, item.point.index, true);\r\n            }\r\n        }\r\n    };\r\n    // tslint:disable-next-line:max-func-body-length\r\n    BaseTooltip.prototype.createTooltip = function (chart, isFirst, location, clipLocation, point, shapes, offset, bounds, extraPoints, templatePoint, customTemplate) {\r\n        if (extraPoints === void 0) { extraPoints = null; }\r\n        if (templatePoint === void 0) { templatePoint = null; }\r\n        var series = this.currentPoints[0].series;\r\n        var module = chart.tooltipModule || chart.accumulationTooltipModule;\r\n        if (!module || location === null) { // For the tooltip enable is false.\r\n            return;\r\n        }\r\n        if (isFirst) {\r\n            this.svgTooltip = new SVGTooltip({\r\n                opacity: chart.tooltip.opacity,\r\n                header: this.headerText,\r\n                content: this.text,\r\n                fill: chart.tooltip.fill,\r\n                border: chart.tooltip.border,\r\n                enableAnimation: chart.tooltip.enableAnimation,\r\n                location: location,\r\n                shared: chart.tooltip.shared,\r\n                shapes: shapes,\r\n                clipBounds: this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation,\r\n                areaBounds: bounds,\r\n                palette: this.findPalette(),\r\n                template: customTemplate || this.template,\r\n                data: templatePoint,\r\n                theme: chart.theme,\r\n                offset: offset,\r\n                textStyle: chart.tooltip.textStyle,\r\n                isNegative: (series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0),\r\n                inverted: this.chart.requireInvertedAxis && series.isRectSeries,\r\n                arrowPadding: this.text.length > 1 || this.chart.stockChart ? 0 : 12,\r\n                availableSize: chart.availableSize,\r\n                duration: this.chart.tooltip.duration,\r\n                isCanvas: this.chart.enableCanvas,\r\n                isTextWrap: chart.tooltip.enableTextWrap && chart.getModuleName() === 'chart',\r\n                blazorTemplate: { name: 'Template', parent: this.chart.tooltip },\r\n                controlInstance: this.chart,\r\n                enableRTL: chart.enableRtl,\r\n                tooltipRender: function () {\r\n                    module.removeHighlight();\r\n                    module.highlightPoints();\r\n                    module.updatePreviousPoint(extraPoints);\r\n                },\r\n                animationComplete: function (args) {\r\n                    if (args.tooltip.fadeOuted) {\r\n                        module.fadeOut(module.previousPoints);\r\n                    }\r\n                }\r\n            }, '#' + this.element.id + '_tooltip');\r\n        }\r\n        else {\r\n            if (this.svgTooltip) {\r\n                this.svgTooltip.location = location;\r\n                this.svgTooltip.content = this.text;\r\n                this.svgTooltip.header = this.headerText;\r\n                this.svgTooltip.offset = offset;\r\n                this.svgTooltip.palette = this.findPalette();\r\n                this.svgTooltip.shapes = shapes;\r\n                this.svgTooltip.data = templatePoint;\r\n                this.svgTooltip.template = this.template;\r\n                this.svgTooltip.textStyle = chart.tooltip.textStyle;\r\n                this.svgTooltip.isNegative = (series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0);\r\n                this.svgTooltip.clipBounds = this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation;\r\n                this.svgTooltip.arrowPadding = this.text.length > 1 || this.chart.stockChart ? 0 : 12;\r\n                this.svgTooltip.dataBind();\r\n            }\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (this.chart.isReact) {\r\n            this.chart.renderReactTemplates();\r\n        }\r\n    };\r\n    BaseTooltip.prototype.findPalette = function () {\r\n        var colors = [];\r\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\r\n            var data = _a[_i];\r\n            colors.push(this.findColor(data, data.series));\r\n        }\r\n        return colors;\r\n    };\r\n    BaseTooltip.prototype.findColor = function (data, series) {\r\n        if (series.isRectSeries && (series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) {\r\n            return data.point.color;\r\n        }\r\n        else {\r\n            return (data.point.color && data.point.color !== '#ffffff' ? data.point.color\r\n                : data.point.interior) ||\r\n                series.marker.fill || series.interior;\r\n        }\r\n    };\r\n    BaseTooltip.prototype.updatePreviousPoint = function (extraPoints) {\r\n        if (extraPoints) {\r\n            this.currentPoints = this.currentPoints.concat(extraPoints);\r\n        }\r\n        this.previousPoints = extend([], this.currentPoints, null, true);\r\n    };\r\n    BaseTooltip.prototype.fadeOut = function (data) {\r\n        var svgElement = this.chart.enableCanvas ? this.getElement(this.element.id + '_tooltip_group') :\r\n            this.getElement(this.element.id + '_tooltip_svg');\r\n        var isTooltip = (svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0);\r\n        if (!isTooltip) {\r\n            this.valueX = null;\r\n            this.valueY = null;\r\n            this.currentPoints = [];\r\n            this.removeHighlight();\r\n            this.removeHighlightedMarker(data);\r\n            this.svgTooltip = null;\r\n            this.control.trigger('animationComplete', {});\r\n        }\r\n    };\r\n    /*\r\n    * @hidden\r\n    */\r\n    BaseTooltip.prototype.removeHighlightedMarker = function (data) {\r\n        if (this.chart.markerRender) {\r\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n                var item = data_1[_i];\r\n                removeElement(this.element.id + '_Series_' + item.series.index +\r\n                    '_Point_' + item.point.index + '_Trackball');\r\n            }\r\n            this.chart.markerRender.removeHighlightedMarker();\r\n        }\r\n        this.previousPoints = [];\r\n    };\r\n    // public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {\r\n    //     let argsData: ITooltipRenderEventArgs = {\r\n    //         cancel: false, name: tooltipRender, text: textCollection,\r\n    //         point: point.point, series: point.series, textStyle: this.textStyle\r\n    //     };\r\n    //     this.chart.trigger(tooltipRender, argsData);\r\n    //     if (!argsData.cancel) {\r\n    //         if (point.series.type === 'BoxAndWhisker') {\r\n    //             this.removeText();\r\n    //             isFirst = true;\r\n    //         }\r\n    //         this.formattedText = this.formattedText.concat(argsData.text);\r\n    //         this.text = this.formattedText;\r\n    //     }\r\n    //     return !argsData.cancel;\r\n    // }\r\n    BaseTooltip.prototype.removeText = function () {\r\n        this.textElements = [];\r\n        var element = this.getElement(this.element.id + '_tooltip_group');\r\n        if (element && element.childNodes.length > 0) {\r\n            while (element.lastChild && element.childNodes.length !== 1) {\r\n                element.removeChild(element.lastChild);\r\n            }\r\n        }\r\n    };\r\n    BaseTooltip.prototype.stopAnimation = function () {\r\n        stopTimer(this.toolTipInterval);\r\n    };\r\n    /**\r\n     * Removes the tooltip on mouse leave.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    BaseTooltip.prototype.removeTooltip = function (duration) {\r\n        var _this = this;\r\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\r\n        var tooltipTemplate = tooltipElement ? this.getElement(tooltipElement.id + 'parent_template') : null;\r\n        var isTemplateRendered = tooltipTemplate && tooltipTemplate.innerHTML !== '<div></div>';\r\n        this.stopAnimation();\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        if (this.chart.isReact && isTemplateRendered) {\r\n            this.chart.clearTemplate([tooltipTemplate.id], [0]);\r\n        }\r\n        if (tooltipElement && this.previousPoints.length > 0) {\r\n            this.toolTipInterval = +setTimeout(function () {\r\n                if (_this.svgTooltip) {\r\n                    _this.svgTooltip.fadeOut();\r\n                }\r\n            }, duration);\r\n        }\r\n    };\r\n    return BaseTooltip;\r\n}(ChartData));\r\nexport { BaseTooltip };\r\n"]},"metadata":{},"sourceType":"module"}