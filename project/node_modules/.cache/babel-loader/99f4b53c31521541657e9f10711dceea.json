{"ast":null,"code":"/* eslint-disable @typescript-eslint/ban-types */\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n/* eslint-disable valid-jsdoc */\n\n/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable jsdoc/require-param */\nimport { Animation, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DoubleRange } from '../utils/double-range';\nimport { appendChildElement, redrawElement, pathAnimation, valueToCoefficient, getVisiblePoints } from '../../common/utils/helper';\nimport { getAnimationFunction, getPoint, getMinPointsDelta } from '../../common/utils/helper';\nimport { PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { pointRender } from '../../common/model/constants';\n/**\r\n * Column Series Base\r\n */\n\nvar ColumnBase =\n/** @class */\nfunction () {\n  function ColumnBase() {}\n  /**\r\n   * To get the position of the column series.\r\n   *\r\n   * @returns {DoubleRange} doubleRange\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.getSideBySideInfo = function (series) {\n    if (series.chart.enableSideBySidePlacement && !series.position) {\n      this.getSideBySidePositions(series);\n    }\n\n    if (series.columnWidthInPixel) {\n      return new DoubleRange(0, 0);\n    }\n\n    var position = !series.chart.enableSideBySidePlacement ? 0 : series.position;\n    var rectCount = !series.chart.enableSideBySidePlacement ? 1 : series.rectCount;\n    series.isRectSeries = true;\n    var visibleSeries = series.chart.visibleSeries;\n    var seriesSpacing = series.chart.enableSideBySidePlacement ? series.columnSpacing : 0; // Column Spacing\n\n    var pointSpacing = series.columnWidth === null || isNaN(+series.columnWidth) ? series.type === 'Histogram' ? 1 : 0.7 : series.columnWidth; // Column width\n\n    var minimumPointDelta = getMinPointsDelta(series.xAxis, visibleSeries);\n    var width = minimumPointDelta * pointSpacing;\n    var radius;\n    var location = position / rectCount - 0.5;\n    var doubleRange = new DoubleRange(location, location + 1 / rectCount);\n\n    if (!(isNaN(doubleRange.start) || isNaN(doubleRange.end))) {\n      if (series.groupName && series.type.indexOf('Stacking') === -1) {\n        var mainColumnWidth_1 = 0.7;\n        series.chart.series.filter(function (series) {\n          if (series.columnWidth > mainColumnWidth_1) {\n            mainColumnWidth_1 = series.columnWidth;\n          }\n        });\n        var mainWidth = minimumPointDelta * mainColumnWidth_1;\n        var mainDoubleRange = new DoubleRange(doubleRange.start * mainWidth, doubleRange.end * mainWidth);\n        var difference = (mainDoubleRange.delta - (doubleRange.end * width - doubleRange.start * width)) / 2;\n        doubleRange = new DoubleRange(mainDoubleRange.start + difference, mainDoubleRange.end - difference);\n      } else {\n        doubleRange = new DoubleRange(doubleRange.start * width, doubleRange.end * width);\n      }\n\n      radius = seriesSpacing * doubleRange.delta;\n      doubleRange = new DoubleRange(doubleRange.start + radius / 2, doubleRange.end - radius / 2);\n    }\n\n    return doubleRange;\n  };\n  /**\r\n   * To get the rect values.\r\n   *\r\n   * @returns {Rect} rect region values\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.getRectangle = function (x1, y1, x2, y2, series) {\n    var point1 = getPoint(x1, y1, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n    var point2 = getPoint(x2, y2, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\n    return new Rect(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y), Math.abs(point2.x - point1.x), Math.abs(point2.y - point1.y));\n  };\n  /**\r\n   * To get the position of each series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.getSideBySidePositions = function (series) {\n    var chart = series.chart;\n\n    for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\n      var columnItem = _a[_i];\n\n      for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\n        var item = _c[_b];\n        this.findRectPosition(series.findSeriesCollection(columnItem, item, false));\n      }\n    }\n  };\n\n  ColumnBase.prototype.findRectPosition = function (seriesCollection) {\n    var groupingValues = [];\n    var vSeries = {\n      rectCount: 0,\n      position: null\n    };\n\n    for (var i = 0; i < seriesCollection.length; i++) {\n      var value = seriesCollection[i];\n\n      if (value.type.indexOf('Stacking') !== -1 || value.groupName !== '') {\n        var groupName = value.type.indexOf('Stacking') !== -1 ? value.stackingGroup : value.type + value.groupName;\n\n        if (groupName) {\n          if (groupingValues[groupName] === undefined) {\n            value.position = vSeries.rectCount;\n            groupingValues[groupName] = vSeries.rectCount++;\n          } else {\n            value.position = groupingValues[groupName];\n          }\n        } else {\n          if (vSeries.position === null) {\n            value.position = vSeries.rectCount;\n            vSeries.position = vSeries.rectCount++;\n          } else {\n            value.position = vSeries.position;\n          }\n        }\n      } else {\n        value.position = vSeries.rectCount++;\n      }\n    }\n\n    for (var i = 0; i < seriesCollection.length; i++) {\n      var value = seriesCollection[i];\n      value.rectCount = vSeries.rectCount;\n    }\n  };\n  /**\r\n   * Updates the symbollocation for points\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.updateSymbolLocation = function (point, rect, series) {\n    if (!series.chart.requireInvertedAxis) {\n      this.updateXRegion(point, rect, series);\n    } else {\n      this.updateYRegion(point, rect, series);\n    }\n\n    if (series.type === 'Histogram') {\n      point.minimum = +point.x - series.histogramValues.binWidth / 2;\n      point.maximum = +point.x + series.histogramValues.binWidth / 2;\n    }\n  };\n  /**\r\n   * Update the region for the point.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.updateXRegion = function (point, rect, series) {\n    point.symbolLocations.push({\n      x: rect.x + rect.width / 2,\n      y: series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 || point.yValue >= 0 === !series.yAxis.isAxisInverse ? rect.y : rect.y + rect.height\n    });\n    this.getRegion(point, rect, series);\n\n    if (series.type === 'RangeColumn') {\n      point.symbolLocations.push({\n        x: rect.x + rect.width / 2,\n        y: rect.y + rect.height\n      });\n    }\n  };\n  /**\r\n   * Update the region for the point in bar series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.updateYRegion = function (point, rect, series) {\n    point.symbolLocations.push({\n      x: series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 || point.yValue >= 0 === !series.yAxis.isAxisInverse ? rect.x + rect.width : rect.x,\n      y: rect.y + rect.height / 2\n    });\n    this.getRegion(point, rect, series);\n\n    if (series.type === 'RangeColumn') {\n      point.symbolLocations.push({\n        x: rect.x,\n        y: rect.y + rect.height / 2\n      });\n    }\n  };\n  /**\r\n   * To render the marker for the series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.renderMarker = function (series) {\n    if (series.marker && series.marker.visible) {\n      series.chart.markerRender.render(series);\n    }\n  };\n  /**\r\n   * To get the marker region when Y value is 0\r\n   *\r\n   * @param {Points} point point\r\n   * @param {rect} rect rect\r\n   * @param {Series} series series\r\n   */\n\n\n  ColumnBase.prototype.getRegion = function (point, rect, series) {\n    if (point.y === 0) {\n      var markerWidth = series.marker && series.marker.width ? series.marker.width : 0;\n      var markerHeight = series.marker && series.marker.height ? series.marker.height : 0;\n      point.regions.push(new Rect(point.symbolLocations[0].x - markerWidth, point.symbolLocations[0].y - markerHeight, 2 * markerWidth, 2 * markerHeight));\n    } else {\n      point.regions.push(rect);\n    }\n  };\n  /**\r\n   * To trigger the point rendering event.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.triggerEvent = function (series, point, fill, border) {\n    var argsData = {\n      cancel: false,\n      name: pointRender,\n      series: series,\n      point: point,\n      fill: series.setPointColor(point, fill),\n      border: series.setBorderColor(point, border)\n    };\n    series.chart.trigger(pointRender, argsData);\n    point.color = argsData.fill;\n    return argsData;\n  };\n  /**\r\n   * To draw the rectangle for points.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.drawRectangle = function (series, point, rect, argsData) {\n    var chart = series.chart;\n    var check = chart.requireInvertedAxis ? rect.height : rect.width;\n\n    if (check <= 0) {\n      return null;\n    }\n\n    var direction;\n\n    if (point.y === 0) {\n      // For 0 values corner radius will not calculate\n      direction = this.calculateRoundedRectPath(rect, 0, 0, 0, 0);\n    } else {\n      direction = this.calculateRoundedRectPath(rect, series.cornerRadius.topLeft, series.cornerRadius.topRight, series.cornerRadius.bottomLeft, series.cornerRadius.bottomRight);\n    }\n\n    var name = series.category === 'Indicator' ? chart.element.id + '_Indicator_' + series.index + '_' + series.name + '_Point_' + point.index : chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\n    var previousElement = redrawElement(chart.redraw, name);\n    var previousDirection = previousElement ? previousElement.getAttribute('d') : '';\n    var options = new PathOption(name, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\n    var element = chart.renderer.drawPath(options, new Int32Array([series.clipRect.x, series.clipRect.y]));\n\n    switch (series.seriesType) {\n      case 'XY':\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.yValue.toString());\n        break;\n\n      case 'HighLow':\n        element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString() + ':' + point.low.toString());\n        break;\n    }\n\n    appendChildElement(series.chart.enableCanvas, series.seriesElement, element, chart.redraw);\n\n    if (!series.chart.enableCanvas) {\n      pathAnimation(element, direction, chart.redraw, previousDirection, chart.duration);\n    }\n  };\n  /**\r\n   * To animate the series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.animate = function (series) {\n    var rectElements = series.seriesElement.childNodes;\n    var count = series.category === 'Indicator' ? 0 : 1;\n    var visiblePoints = getVisiblePoints(series);\n\n    for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\n      var point = visiblePoints_1[_i];\n\n      if (!point.symbolLocations.length && !(series.type === 'BoxAndWhisker' && point.regions.length)) {\n        continue;\n      }\n\n      this.animateRect(rectElements[count], series, point);\n      count++;\n    }\n  };\n  /**\r\n   * To animate the series.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  ColumnBase.prototype.animateRect = function (element, series, point) {\n    var option = series.animation;\n    var duration = series.chart.animated ? series.chart.duration : option.duration;\n    var effect = getAnimationFunction('Linear');\n    var isPlot = point.yValue < 0;\n    var x;\n    var y;\n    var elementHeight = +point.regions[0].height;\n    var elementWidth = +point.regions[0].width;\n    var centerX;\n    var centerY;\n\n    if (!series.chart.requireInvertedAxis) {\n      x = +point.regions[0].x;\n\n      if (series.type.indexOf('Stacking') > -1) {\n        y = (1 - valueToCoefficient(0, series.yAxis)) * series.yAxis.rect.height;\n        centerX = x;\n        centerY = y;\n      } else {\n        y = +point.regions[0].y;\n        centerY = series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1 ? y + elementHeight / 2 : isPlot !== series.yAxis.isAxisInverse ? y : y + elementHeight;\n        centerX = isPlot ? x : x + elementWidth;\n      }\n    } else {\n      y = +point.regions[0].y;\n\n      if (series.type.indexOf('Stacking') > -1) {\n        x = valueToCoefficient(0, series.yAxis) * series.yAxis.rect.width;\n        centerX = x;\n        centerY = y;\n      } else {\n        x = +point.regions[0].x;\n        centerY = isPlot ? y : y + elementHeight;\n        centerX = series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1 ? x + elementWidth / 2 : isPlot !== series.yAxis.isAxisInverse ? x + elementWidth : x;\n      }\n    }\n\n    var value;\n\n    if (!isNullOrUndefined(element)) {\n      element.style.visibility = 'hidden';\n      new Animation({}).animate(element, {\n        duration: duration,\n        delay: option.delay,\n        progress: function (args) {\n          if (args.timeStamp >= args.delay) {\n            element.style.visibility = 'visible';\n\n            if (!series.chart.requireInvertedAxis) {\n              elementHeight = elementHeight ? elementHeight : 1;\n              value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\n              element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY + ') scale(1,' + value / elementHeight + ') translate(' + -centerX + ' ' + -centerY + ')');\n            } else {\n              elementWidth = elementWidth ? elementWidth : 1;\n              value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\n              element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY + ') scale(' + value / elementWidth + ', 1) translate(' + -centerX + ' ' + -centerY + ')');\n            }\n          }\n        },\n        end: function () {\n          element.setAttribute('transform', 'translate(0,0)');\n          var seriesElement = series.seriesElement;\n\n          if (element === seriesElement.lastElementChild || point.index === series.points.length - 1 || series.type === 'Waterfall' && element === seriesElement.children[seriesElement.childElementCount - 2]) {\n            series.chart.trigger('animationComplete', {\n              series: series.chart.isBlazor ? {} : series\n            });\n\n            if (series.type === 'Waterfall') {\n              var rectElements = seriesElement.childNodes;\n\n              for (var i = 0; i < rectElements.length; i++) {\n                if (rectElements[i].id.indexOf('Connector') !== -1) {\n                  rectElements[i].style.visibility = 'visible';\n                  rectElements[i].setAttribute('transform', 'translate(0,0)');\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n  };\n  /**\r\n   * To get rounded rect path direction\r\n   */\n\n\n  ColumnBase.prototype.calculateRoundedRectPath = function (rect, topLeft, topRight, bottomLeft, bottomRight) {\n    return 'M' + ' ' + rect.x + ' ' + (topLeft + rect.y) + ' Q ' + rect.x + ' ' + rect.y + ' ' + (rect.x + topLeft) + ' ' + rect.y + ' ' + 'L' + ' ' + (rect.x + rect.width - topRight) + ' ' + rect.y + ' Q ' + (rect.x + rect.width) + ' ' + rect.y + ' ' + (rect.x + rect.width) + ' ' + (rect.y + topRight) + ' ' + 'L ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height - bottomRight) + ' Q ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height) + ' ' + (rect.x + rect.width - bottomRight) + ' ' + (rect.y + rect.height) + ' ' + 'L ' + (rect.x + bottomLeft) + ' ' + (rect.y + rect.height) + ' Q ' + rect.x + ' ' + (rect.y + rect.height) + ' ' + rect.x + ' ' + (rect.y + rect.height - bottomLeft) + ' ' + 'L' + ' ' + rect.x + ' ' + (topLeft + rect.y) + ' ' + 'Z';\n  };\n\n  return ColumnBase;\n}();\n\nexport { ColumnBase };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/chart/series/column-base.js"],"names":["Animation","isNullOrUndefined","DoubleRange","appendChildElement","redrawElement","pathAnimation","valueToCoefficient","getVisiblePoints","getAnimationFunction","getPoint","getMinPointsDelta","PathOption","Rect","pointRender","ColumnBase","prototype","getSideBySideInfo","series","chart","enableSideBySidePlacement","position","getSideBySidePositions","columnWidthInPixel","rectCount","isRectSeries","visibleSeries","seriesSpacing","columnSpacing","pointSpacing","columnWidth","isNaN","type","minimumPointDelta","xAxis","width","radius","location","doubleRange","start","end","groupName","indexOf","mainColumnWidth_1","filter","mainWidth","mainDoubleRange","difference","delta","getRectangle","x1","y1","x2","y2","point1","yAxis","requireInvertedAxis","point2","Math","min","x","y","abs","_i","_a","columns","length","columnItem","_b","_c","rows","item","findRectPosition","findSeriesCollection","seriesCollection","groupingValues","vSeries","i","value","stackingGroup","undefined","updateSymbolLocation","point","rect","updateXRegion","updateYRegion","minimum","histogramValues","binWidth","maximum","symbolLocations","push","seriesType","yValue","isAxisInverse","height","getRegion","renderMarker","marker","visible","markerRender","render","markerWidth","markerHeight","regions","triggerEvent","fill","border","argsData","cancel","name","setPointColor","setBorderColor","trigger","color","drawRectangle","check","direction","calculateRoundedRectPath","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","category","element","id","index","previousElement","redraw","previousDirection","getAttribute","options","opacity","dashArray","renderer","drawPath","Int32Array","clipRect","setAttribute","toString","high","low","enableCanvas","seriesElement","duration","animate","rectElements","childNodes","count","visiblePoints","visiblePoints_1","animateRect","option","animation","animated","effect","isPlot","elementHeight","elementWidth","centerX","centerY","style","visibility","delay","progress","args","timeStamp","lastElementChild","points","children","childElementCount","isBlazor"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable @typescript-eslint/no-inferrable-types */\r\n/* eslint-disable valid-jsdoc */\r\n/* eslint-disable jsdoc/require-returns */\r\n/* eslint-disable jsdoc/require-param */\r\nimport { Animation, isNullOrUndefined } from '@syncfusion/ej2-base';\r\nimport { DoubleRange } from '../utils/double-range';\r\nimport { appendChildElement, redrawElement, pathAnimation, valueToCoefficient, getVisiblePoints } from '../../common/utils/helper';\r\nimport { getAnimationFunction, getPoint, getMinPointsDelta } from '../../common/utils/helper';\r\nimport { PathOption, Rect } from '@syncfusion/ej2-svg-base';\r\nimport { pointRender } from '../../common/model/constants';\r\n/**\r\n * Column Series Base\r\n */\r\nvar ColumnBase = /** @class */ (function () {\r\n    function ColumnBase() {\r\n    }\r\n    /**\r\n     * To get the position of the column series.\r\n     *\r\n     * @returns {DoubleRange} doubleRange\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.getSideBySideInfo = function (series) {\r\n        if (series.chart.enableSideBySidePlacement && !series.position) {\r\n            this.getSideBySidePositions(series);\r\n        }\r\n        if (series.columnWidthInPixel) {\r\n            return new DoubleRange(0, 0);\r\n        }\r\n        var position = !series.chart.enableSideBySidePlacement ? 0 : series.position;\r\n        var rectCount = !series.chart.enableSideBySidePlacement ? 1 : series.rectCount;\r\n        series.isRectSeries = true;\r\n        var visibleSeries = series.chart.visibleSeries;\r\n        var seriesSpacing = series.chart.enableSideBySidePlacement ? series.columnSpacing : 0; // Column Spacing\r\n        var pointSpacing = (series.columnWidth === null || isNaN(+series.columnWidth)) ? ((series.type === 'Histogram') ? 1 : 0.7) :\r\n            series.columnWidth; // Column width\r\n        var minimumPointDelta = getMinPointsDelta(series.xAxis, visibleSeries);\r\n        var width = minimumPointDelta * pointSpacing;\r\n        var radius;\r\n        var location = (position) / rectCount - 0.5;\r\n        var doubleRange = new DoubleRange(location, location + (1 / rectCount));\r\n        if (!(isNaN(doubleRange.start) || isNaN(doubleRange.end))) {\r\n            if (series.groupName && series.type.indexOf('Stacking') === -1) {\r\n                var mainColumnWidth_1 = 0.7;\r\n                series.chart.series.filter(function (series) { if (series.columnWidth > mainColumnWidth_1) {\r\n                    mainColumnWidth_1 = series.columnWidth;\r\n                } });\r\n                var mainWidth = minimumPointDelta * mainColumnWidth_1;\r\n                var mainDoubleRange = new DoubleRange(doubleRange.start * mainWidth, doubleRange.end * mainWidth);\r\n                var difference = ((mainDoubleRange.delta) - (doubleRange.end * width - doubleRange.start * width)) / 2;\r\n                doubleRange = new DoubleRange(mainDoubleRange.start + difference, mainDoubleRange.end - difference);\r\n            }\r\n            else {\r\n                doubleRange = new DoubleRange(doubleRange.start * width, doubleRange.end * width);\r\n            }\r\n            radius = seriesSpacing * doubleRange.delta;\r\n            doubleRange = new DoubleRange(doubleRange.start + radius / 2, doubleRange.end - radius / 2);\r\n        }\r\n        return doubleRange;\r\n    };\r\n    /**\r\n     * To get the rect values.\r\n     *\r\n     * @returns {Rect} rect region values\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.getRectangle = function (x1, y1, x2, y2, series) {\r\n        var point1 = getPoint(x1, y1, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\r\n        var point2 = getPoint(x2, y2, series.xAxis, series.yAxis, series.chart.requireInvertedAxis);\r\n        return new Rect(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y), Math.abs(point2.x - point1.x), Math.abs(point2.y - point1.y));\r\n    };\r\n    /**\r\n     * To get the position of each series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.getSideBySidePositions = function (series) {\r\n        var chart = series.chart;\r\n        for (var _i = 0, _a = chart.columns; _i < _a.length; _i++) {\r\n            var columnItem = _a[_i];\r\n            for (var _b = 0, _c = chart.rows; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                this.findRectPosition(series.findSeriesCollection(columnItem, item, false));\r\n            }\r\n        }\r\n    };\r\n    ColumnBase.prototype.findRectPosition = function (seriesCollection) {\r\n        var groupingValues = [];\r\n        var vSeries = { rectCount: 0, position: null };\r\n        for (var i = 0; i < seriesCollection.length; i++) {\r\n            var value = seriesCollection[i];\r\n            if (value.type.indexOf('Stacking') !== -1 || value.groupName !== '') {\r\n                var groupName = value.type.indexOf('Stacking') !== -1 ? value.stackingGroup : value.type + value.groupName;\r\n                if (groupName) {\r\n                    if (groupingValues[groupName] === undefined) {\r\n                        value.position = vSeries.rectCount;\r\n                        groupingValues[groupName] = vSeries.rectCount++;\r\n                    }\r\n                    else {\r\n                        value.position = groupingValues[groupName];\r\n                    }\r\n                }\r\n                else {\r\n                    if (vSeries.position === null) {\r\n                        value.position = vSeries.rectCount;\r\n                        vSeries.position = vSeries.rectCount++;\r\n                    }\r\n                    else {\r\n                        value.position = vSeries.position;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                value.position = vSeries.rectCount++;\r\n            }\r\n        }\r\n        for (var i = 0; i < seriesCollection.length; i++) {\r\n            var value = seriesCollection[i];\r\n            value.rectCount = vSeries.rectCount;\r\n        }\r\n    };\r\n    /**\r\n     * Updates the symbollocation for points\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.updateSymbolLocation = function (point, rect, series) {\r\n        if (!series.chart.requireInvertedAxis) {\r\n            this.updateXRegion(point, rect, series);\r\n        }\r\n        else {\r\n            this.updateYRegion(point, rect, series);\r\n        }\r\n        if (series.type === 'Histogram') {\r\n            point.minimum = +point.x - series.histogramValues.binWidth / 2;\r\n            point.maximum = +point.x + series.histogramValues.binWidth / 2;\r\n        }\r\n    };\r\n    /**\r\n     * Update the region for the point.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.updateXRegion = function (point, rect, series) {\r\n        point.symbolLocations.push({\r\n            x: rect.x + (rect.width) / 2,\r\n            y: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\r\n                (point.yValue >= 0 === !series.yAxis.isAxisInverse)) ? rect.y : (rect.y + rect.height)\r\n        });\r\n        this.getRegion(point, rect, series);\r\n        if (series.type === 'RangeColumn') {\r\n            point.symbolLocations.push({\r\n                x: rect.x + (rect.width) / 2,\r\n                y: rect.y + rect.height\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Update the region for the point in bar series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.updateYRegion = function (point, rect, series) {\r\n        point.symbolLocations.push({\r\n            x: (series.seriesType === 'BoxPlot' || series.seriesType.indexOf('HighLow') !== -1 ||\r\n                (point.yValue >= 0 === !series.yAxis.isAxisInverse)) ? rect.x + rect.width : rect.x,\r\n            y: rect.y + rect.height / 2\r\n        });\r\n        this.getRegion(point, rect, series);\r\n        if (series.type === 'RangeColumn') {\r\n            point.symbolLocations.push({\r\n                x: rect.x,\r\n                y: rect.y + rect.height / 2\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * To render the marker for the series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.renderMarker = function (series) {\r\n        if (series.marker && series.marker.visible) {\r\n            series.chart.markerRender.render(series);\r\n        }\r\n    };\r\n    /**\r\n     * To get the marker region when Y value is 0\r\n     *\r\n     * @param {Points} point point\r\n     * @param {rect} rect rect\r\n     * @param {Series} series series\r\n     */\r\n    ColumnBase.prototype.getRegion = function (point, rect, series) {\r\n        if (point.y === 0) {\r\n            var markerWidth = (series.marker && series.marker.width) ? series.marker.width : 0;\r\n            var markerHeight = (series.marker && series.marker.height) ? series.marker.height : 0;\r\n            point.regions.push(new Rect(point.symbolLocations[0].x - markerWidth, point.symbolLocations[0].y - markerHeight, 2 * markerWidth, 2 * markerHeight));\r\n        }\r\n        else {\r\n            point.regions.push(rect);\r\n        }\r\n    };\r\n    /**\r\n     * To trigger the point rendering event.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.triggerEvent = function (series, point, fill, border) {\r\n        var argsData = {\r\n            cancel: false, name: pointRender, series: series, point: point,\r\n            fill: series.setPointColor(point, fill),\r\n            border: series.setBorderColor(point, border)\r\n        };\r\n        series.chart.trigger(pointRender, argsData);\r\n        point.color = argsData.fill;\r\n        return argsData;\r\n    };\r\n    /**\r\n     * To draw the rectangle for points.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.drawRectangle = function (series, point, rect, argsData) {\r\n        var chart = series.chart;\r\n        var check = chart.requireInvertedAxis ? rect.height : rect.width;\r\n        if (check <= 0) {\r\n            return null;\r\n        }\r\n        var direction;\r\n        if (point.y === 0) {\r\n            // For 0 values corner radius will not calculate\r\n            direction = this.calculateRoundedRectPath(rect, 0, 0, 0, 0);\r\n        }\r\n        else {\r\n            direction = this.calculateRoundedRectPath(rect, series.cornerRadius.topLeft, series.cornerRadius.topRight, series.cornerRadius.bottomLeft, series.cornerRadius.bottomRight);\r\n        }\r\n        var name = series.category === 'Indicator' ? chart.element.id + '_Indicator_' + series.index + '_' + series.name +\r\n            '_Point_' + point.index : chart.element.id + '_Series_' + series.index + '_Point_' + point.index;\r\n        var previousElement = redrawElement(chart.redraw, name);\r\n        var previousDirection = previousElement ? previousElement.getAttribute('d') : '';\r\n        var options = new PathOption(name, argsData.fill, argsData.border.width, argsData.border.color, series.opacity, series.dashArray, direction);\r\n        var element = chart.renderer.drawPath(options, new Int32Array([series.clipRect.x, series.clipRect.y]));\r\n        switch (series.seriesType) {\r\n            case 'XY':\r\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.yValue.toString());\r\n                break;\r\n            case 'HighLow':\r\n                element.setAttribute('aria-label', point.x.toString() + ':' + point.high.toString() + ':' + point.low.toString());\r\n                break;\r\n        }\r\n        appendChildElement(series.chart.enableCanvas, series.seriesElement, element, chart.redraw);\r\n        if (!series.chart.enableCanvas) {\r\n            pathAnimation(element, direction, chart.redraw, previousDirection, chart.duration);\r\n        }\r\n    };\r\n    /**\r\n     * To animate the series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.animate = function (series) {\r\n        var rectElements = series.seriesElement.childNodes;\r\n        var count = series.category === 'Indicator' ? 0 : 1;\r\n        var visiblePoints = getVisiblePoints(series);\r\n        for (var _i = 0, visiblePoints_1 = visiblePoints; _i < visiblePoints_1.length; _i++) {\r\n            var point = visiblePoints_1[_i];\r\n            if (!point.symbolLocations.length && !(series.type === 'BoxAndWhisker' && point.regions.length)) {\r\n                continue;\r\n            }\r\n            this.animateRect(rectElements[count], series, point);\r\n            count++;\r\n        }\r\n    };\r\n    /**\r\n     * To animate the series.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    ColumnBase.prototype.animateRect = function (element, series, point) {\r\n        var option = series.animation;\r\n        var duration = series.chart.animated ? series.chart.duration : option.duration;\r\n        var effect = getAnimationFunction('Linear');\r\n        var isPlot = point.yValue < 0;\r\n        var x;\r\n        var y;\r\n        var elementHeight = +point.regions[0].height;\r\n        var elementWidth = +point.regions[0].width;\r\n        var centerX;\r\n        var centerY;\r\n        if (!series.chart.requireInvertedAxis) {\r\n            x = +point.regions[0].x;\r\n            if (series.type.indexOf('Stacking') > -1) {\r\n                y = (1 - valueToCoefficient(0, series.yAxis)) * (series.yAxis.rect.height);\r\n                centerX = x;\r\n                centerY = y;\r\n            }\r\n            else {\r\n                y = +point.regions[0].y;\r\n                centerY = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? y + elementHeight / 2 :\r\n                    (isPlot !== series.yAxis.isAxisInverse) ? y : y + elementHeight;\r\n                centerX = isPlot ? x : x + elementWidth;\r\n            }\r\n        }\r\n        else {\r\n            y = +point.regions[0].y;\r\n            if (series.type.indexOf('Stacking') > -1) {\r\n                x = (valueToCoefficient(0, series.yAxis)) * series.yAxis.rect.width;\r\n                centerX = x;\r\n                centerY = y;\r\n            }\r\n            else {\r\n                x = +point.regions[0].x;\r\n                centerY = isPlot ? y : y + elementHeight;\r\n                centerX = (series.seriesType.indexOf('HighLow') !== -1 || series.type.indexOf('Waterfall') !== -1) ? x + elementWidth / 2 :\r\n                    (isPlot !== series.yAxis.isAxisInverse) ? x + elementWidth : x;\r\n            }\r\n        }\r\n        var value;\r\n        if (!isNullOrUndefined(element)) {\r\n            element.style.visibility = 'hidden';\r\n            new Animation({}).animate(element, {\r\n                duration: duration,\r\n                delay: option.delay,\r\n                progress: function (args) {\r\n                    if (args.timeStamp >= args.delay) {\r\n                        element.style.visibility = 'visible';\r\n                        if (!series.chart.requireInvertedAxis) {\r\n                            elementHeight = elementHeight ? elementHeight : 1;\r\n                            value = effect(args.timeStamp - args.delay, 0, elementHeight, args.duration);\r\n                            element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\r\n                                ') scale(1,' + (value / elementHeight) + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\r\n                        }\r\n                        else {\r\n                            elementWidth = elementWidth ? elementWidth : 1;\r\n                            value = effect(args.timeStamp - args.delay, 0, elementWidth, args.duration);\r\n                            element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\r\n                                ') scale(' + (value / elementWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\r\n                        }\r\n                    }\r\n                },\r\n                end: function () {\r\n                    element.setAttribute('transform', 'translate(0,0)');\r\n                    var seriesElement = series.seriesElement;\r\n                    if (element === seriesElement.lastElementChild || point.index === series.points.length - 1 ||\r\n                        (series.type === 'Waterfall' && element === seriesElement.children[seriesElement.childElementCount - 2])) {\r\n                        series.chart.trigger('animationComplete', { series: series.chart.isBlazor ? {} : series });\r\n                        if (series.type === 'Waterfall') {\r\n                            var rectElements = seriesElement.childNodes;\r\n                            for (var i = 0; i < rectElements.length; i++) {\r\n                                if (rectElements[i].id.indexOf('Connector') !== -1) {\r\n                                    rectElements[i].style.visibility = 'visible';\r\n                                    rectElements[i].setAttribute('transform', 'translate(0,0)');\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * To get rounded rect path direction\r\n     */\r\n    ColumnBase.prototype.calculateRoundedRectPath = function (rect, topLeft, topRight, bottomLeft, bottomRight) {\r\n        return 'M' + ' ' + rect.x + ' ' + (topLeft + rect.y) +\r\n            ' Q ' + rect.x + ' ' + rect.y + ' ' + (rect.x + topLeft) + ' ' +\r\n            rect.y + ' ' + 'L' + ' ' + (rect.x + rect.width - topRight) + ' ' + rect.y +\r\n            ' Q ' + (rect.x + rect.width) + ' ' + rect.y + ' ' +\r\n            (rect.x + rect.width) + ' ' + (rect.y + topRight) + ' ' + 'L ' +\r\n            (rect.x + rect.width) + ' ' + (rect.y + rect.height - bottomRight)\r\n            + ' Q ' + (rect.x + rect.width) + ' ' + (rect.y + rect.height) + ' ' + (rect.x + rect.width - bottomRight) + ' ' +\r\n            (rect.y + rect.height) + ' ' + 'L ' + (rect.x + bottomLeft) + ' ' + (rect.y + rect.height) + ' Q ' + rect.x + ' ' +\r\n            (rect.y + rect.height) + ' ' + rect.x + ' ' + (rect.y + rect.height - bottomLeft) + ' ' + 'L' + ' ' + rect.x + ' ' +\r\n            (topLeft + rect.y) + ' ' + 'Z';\r\n    };\r\n    return ColumnBase;\r\n}());\r\nexport { ColumnBase };\r\n"]},"metadata":{},"sourceType":"module"}