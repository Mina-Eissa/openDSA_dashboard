{"ast":null,"code":"import { measureText } from '../../smithchart/utils/helper';\nimport { HorizontalLabelCollection, LabelRegion, Point, Direction } from '../../smithchart/utils/utils';\nimport { GridArcPoints, RadialLabelCollections } from '../../smithchart/utils/utils';\nimport { PathOption, TextOption, renderTextElement, _getEpsilonValue } from '../../smithchart/utils/helper';\nimport { axisLabelRender } from '../model/constant';\n\nvar AxisRender =\n/** @class */\nfunction () {\n  function AxisRender() {\n    this.radialLabels = [-50, -20, -10, -5, -4, -3, -2, -1.5, -1, -0.8, -0.6, -0.4, -0.2, 0, 0.2, 0.4, 0.6, 0.8, 1, 1.5, 2, 3, 4, 5, 10, 20, 50];\n    this.radialLabelCollections = [];\n    this.horizontalLabelCollections = [];\n    this.labelCollections = [];\n    this.direction = new Direction();\n  }\n\n  AxisRender.prototype.renderArea = function (smithchart, bounds) {\n    this.calculateChartArea(smithchart, bounds);\n    this.calculateCircleMargin(smithchart, bounds);\n    this.calculateXAxisRange(smithchart);\n    this.calculateRAxisRange(smithchart);\n    this.measureHorizontalAxis(smithchart);\n    this.measureRadialAxis(smithchart);\n\n    if (smithchart.horizontalAxis.visible) {\n      this.updateHAxis(smithchart);\n    }\n\n    if (smithchart.radialAxis.visible) {\n      this.updateRAxis(smithchart);\n    }\n\n    if (smithchart.horizontalAxis.visible) {\n      this.drawHAxisLabels(smithchart);\n    }\n\n    if (smithchart.radialAxis.visible) {\n      this.drawRAxisLabels(smithchart);\n    }\n  };\n\n  AxisRender.prototype.updateHAxis = function (smithchart) {\n    var majorGridLines = smithchart.horizontalAxis.majorGridLines;\n    var minorGridLines = smithchart.horizontalAxis.minorGridLines;\n    var axisLine = smithchart.horizontalAxis.axisLine;\n\n    if (majorGridLines.visible) {\n      this.updateHMajorGridLines(smithchart);\n    }\n\n    if (minorGridLines.visible) {\n      this.updateHMinorGridLines(smithchart);\n    }\n\n    if (axisLine.visible) {\n      this.updateHAxisLine(smithchart);\n    }\n  };\n\n  AxisRender.prototype.updateRAxis = function (smithchart) {\n    var majorGridLines = smithchart.radialAxis.majorGridLines;\n    var minorGridLines = smithchart.radialAxis.minorGridLines;\n    var axisLine = smithchart.radialAxis.axisLine;\n\n    if (majorGridLines.visible) {\n      this.updateRMajorGridLines(smithchart);\n    }\n\n    if (minorGridLines.visible) {\n      this.updateRMinorGridLines(smithchart);\n    }\n\n    if (axisLine.visible) {\n      this.updateRAxisLine(smithchart);\n    }\n  };\n\n  AxisRender.prototype.measureHorizontalAxis = function (smithchart) {\n    var minorGridLines = smithchart.horizontalAxis.minorGridLines;\n    this.measureHMajorGridLines(smithchart);\n\n    if (minorGridLines.visible) {\n      this.measureHMinorGridLines(smithchart);\n    }\n  };\n\n  AxisRender.prototype.measureRadialAxis = function (smithchart) {\n    var minorGridLines = smithchart.radialAxis.minorGridLines;\n    this.measureRMajorGridLines(smithchart);\n\n    if (minorGridLines.visible) {\n      this.measureRMinorGridLines(smithchart);\n    }\n  };\n\n  AxisRender.prototype.calculateChartArea = function (smithchart, bounds) {\n    var width = smithchart.availableSize.width;\n    var height = smithchart.availableSize.height;\n    width = bounds.width;\n    height = bounds.height;\n    var chartAreaWidth = Math.min(width, height);\n    var chartAreaHeight = Math.min(width, height);\n    var x = bounds.x + (bounds.width / 2 - chartAreaWidth / 2);\n    var y = bounds.y + ((height - chartAreaHeight) / 2 > 0 ? (height - chartAreaHeight) / 2 : 0);\n    smithchart.chartArea = {\n      x: x,\n      y: y,\n      width: chartAreaWidth,\n      height: chartAreaHeight\n    };\n  };\n\n  AxisRender.prototype.calculateCircleMargin = function (smithchart, bounds) {\n    var padding = 10;\n    var maxLabelWidth = 0;\n    var width = smithchart.chartArea.width;\n    var radius = smithchart.radius;\n    maxLabelWidth = this.maximumLabelLength(smithchart);\n    var labelMargin = smithchart.radialAxis.labelPosition === 'Outside' ? maxLabelWidth + padding : padding;\n    var diameter = width - labelMargin * 2 > 0 ? width - labelMargin * 2 : 0;\n    var actualRadius = diameter / 2;\n    var circleCoefficient = radius > 1 ? 1 : radius < 0.1 ? 0.1 : radius;\n    this.areaRadius = actualRadius * circleCoefficient;\n    this.circleLeftX = smithchart.chartArea.x + labelMargin + actualRadius * (1 - circleCoefficient);\n    this.circleTopY = smithchart.chartArea.y + labelMargin + actualRadius * (1 - circleCoefficient);\n    this.circleCenterX = this.circleLeftX + this.areaRadius;\n    this.circleCenterY = bounds.y + bounds.height / 2;\n  };\n\n  AxisRender.prototype.maximumLabelLength = function (smithchart) {\n    var maximumLabelLength = 0;\n    var font = smithchart.horizontalAxis.labelStyle;\n    var label;\n    var textSize;\n\n    for (var i = 0; i < this.radialLabels.length; i++) {\n      label = this.radialLabels[i].toString();\n      textSize = measureText(label, font);\n\n      if (maximumLabelLength < textSize.width) {\n        maximumLabelLength = textSize.width;\n      }\n    }\n\n    return maximumLabelLength;\n  };\n\n  AxisRender.prototype.calculateAxisLabels = function () {\n    var spacingBetweenGridLines = 30;\n    var previousR = 0;\n    var j = 0;\n    var labels = [];\n    var diameter = this.areaRadius * 2;\n\n    for (var i = 0; i < 2; i = i + 0.1) {\n      i = Math.round(i * 10) / 10;\n      var coeff = 1 / (i + 1);\n      var isOverlap1 = false;\n      var isOverlap2 = false;\n      var radius = diameter * coeff / 2 * 2;\n\n      if (previousR === 0.0 || i === 1) {\n        previousR = radius;\n        labels[j] = i;\n        j++;\n        continue;\n      }\n\n      if (i < 1) {\n        isOverlap1 = this.isOverlap(1, diameter, radius, spacingBetweenGridLines);\n      }\n\n      if (i > 1) {\n        isOverlap2 = this.isOverlap(2, diameter, radius, spacingBetweenGridLines);\n      }\n\n      if (isOverlap1 || isOverlap2) {\n        continue;\n      }\n\n      if (previousR - radius >= spacingBetweenGridLines) {\n        labels[j] = i;\n        j++;\n        previousR = radius;\n      }\n    }\n\n    var staticlabels = [2, 3, 4, 5, 10, 20, 50];\n\n    for (var k = 0; k < staticlabels.length; k++) {\n      labels[j] = staticlabels[k];\n      j++;\n    }\n\n    return labels;\n  };\n\n  AxisRender.prototype.isOverlap = function (x, d, previousR, spacingBetweenGridLines) {\n    var coeff = 1 / (x + 1); // (1 / 1+r) find the radius for the x value\n\n    var radius = d * coeff / 2 * 2;\n    return previousR - radius < spacingBetweenGridLines;\n  };\n\n  AxisRender.prototype.calculateXAxisRange = function (smithchart) {\n    var x;\n    var coeff;\n    var radius;\n    var cx;\n    var diameter = this.areaRadius * 2;\n    var horizontalAxisLabels = this.calculateAxisLabels();\n    var cy = this.circleCenterY;\n    var circleStartX = this.circleLeftX;\n    var leftX = this.circleLeftX;\n\n    for (var i = 0; i < horizontalAxisLabels.length; i++) {\n      x = horizontalAxisLabels[i];\n      coeff = 1 / (x + 1);\n      radius = diameter * coeff / 2;\n\n      if (smithchart.renderType === 'Impedance') {\n        leftX = circleStartX + diameter - radius * 2;\n      }\n\n      cx = leftX + radius;\n      this.horizontalLabelCollections.push({\n        centerX: cx,\n        centerY: cy,\n        radius: radius,\n        value: x,\n        region: null\n      });\n    }\n  };\n\n  AxisRender.prototype.calculateRAxisRange = function (smithchart) {\n    var arcCy;\n    var arcRadius;\n    var diameter = this.areaRadius * 2;\n    var y;\n    var point = new Point();\n\n    if (smithchart.renderType === 'Impedance') {\n      point.x = this.circleLeftX + diameter;\n      point.y = this.circleTopY + this.areaRadius;\n    } else {\n      point.x = this.circleLeftX;\n      point.y = this.circleTopY + this.areaRadius;\n    }\n\n    for (var i = 0; i < this.radialLabels.length; i++) {\n      y = this.radialLabels[i];\n      arcRadius = Math.abs(1 / y * diameter / 2);\n\n      if (smithchart.renderType === 'Impedance') {\n        arcCy = y > 0 ? point.y - arcRadius : point.y + arcRadius;\n      } else {\n        arcCy = y < 0 ? point.y - arcRadius : point.y + arcRadius;\n      }\n\n      this.radialLabelCollections.push({\n        centerX: point.x,\n        centerY: arcCy,\n        radius: arcRadius,\n        value: y\n      });\n    }\n  };\n\n  AxisRender.prototype.measureHMajorGridLines = function (smithchart) {\n    var arcPoints = [];\n    var startPoint;\n    var endPoint;\n    var radialPoint1;\n    var radialPoint2;\n    var size;\n    this.majorHGridArcPoints = [];\n\n    for (var i = 0; i < this.horizontalLabelCollections.length; i++) {\n      var circlePoint = new HorizontalLabelCollection();\n      circlePoint = this.horizontalLabelCollections[i];\n      arcPoints = this.calculateHMajorArcStartEndPoints(circlePoint.value);\n\n      if (smithchart.renderType === 'Impedance') {\n        radialPoint1 = arcPoints[0];\n        radialPoint2 = arcPoints[1];\n      } else {\n        radialPoint1 = arcPoints[1];\n        radialPoint2 = arcPoints[0];\n      }\n\n      size = {\n        width: circlePoint.radius,\n        height: circlePoint.radius\n      };\n\n      if (circlePoint.value !== 0.0 && circlePoint.value !== 50.0) {\n        startPoint = this.intersectingCirclePoints(radialPoint1[0].centerX, radialPoint1[0].centerY, radialPoint1[0].radius, circlePoint.centerX, circlePoint.centerY, circlePoint.radius, smithchart.renderType);\n        endPoint = this.intersectingCirclePoints(radialPoint2[0].centerX, radialPoint2[0].centerY, radialPoint2[0].radius, circlePoint.centerX, circlePoint.centerY, circlePoint.radius, smithchart.renderType);\n        this.majorHGridArcPoints.push({\n          startPoint: startPoint,\n          endPoint: endPoint,\n          rotationAngle: 2 * Math.PI,\n          sweepDirection: smithchart.renderType === 'Impedance' ? this.direction['counterclockwise'] : this.direction['clockwise'],\n          isLargeArc: true,\n          size: size\n        });\n      } else {\n        startPoint = {\n          x: circlePoint.centerX + circlePoint.radius,\n          y: circlePoint.centerY\n        };\n        endPoint = {\n          x: circlePoint.centerX + circlePoint.radius,\n          y: circlePoint.centerY - 0.05\n        };\n        this.majorHGridArcPoints.push({\n          startPoint: startPoint,\n          endPoint: endPoint,\n          rotationAngle: 2 * Math.PI,\n          sweepDirection: this.direction['clockwise'],\n          isLargeArc: true,\n          size: size\n        });\n      }\n    }\n  };\n\n  AxisRender.prototype.measureRMajorGridLines = function (smithchart) {\n    var radialPoint;\n    var y;\n    var arcPoints = [];\n    var innerInterSectPoint;\n    var outerInterSectPoint;\n    var outterInterSectRadian;\n    var outterInterSectAngle;\n    var startPoint;\n    var endPoint;\n    var size;\n    var sweepDirection;\n    this.majorRGridArcPoints = [];\n    this.labelCollections = [];\n\n    var epsilon = _getEpsilonValue();\n\n    for (var i = 0; i < this.radialLabelCollections.length; i++) {\n      radialPoint = this.radialLabelCollections[i];\n\n      if (radialPoint.radius <= epsilon) {\n        continue;\n      }\n\n      y = radialPoint.value;\n      arcPoints = this.calculateMajorArcStartEndPoints(radialPoint, Math.abs(y), smithchart);\n      innerInterSectPoint = arcPoints[0];\n      outerInterSectPoint = arcPoints[1];\n      outterInterSectRadian = this.circleXYRadianValue(this.circleCenterX, this.circleCenterY, outerInterSectPoint.x, outerInterSectPoint.y);\n      outterInterSectAngle = outterInterSectRadian * (180 / Math.PI);\n\n      if (y !== 0.0) {\n        startPoint = {\n          x: innerInterSectPoint.x,\n          y: innerInterSectPoint.y\n        };\n        endPoint = {\n          x: outerInterSectPoint.x,\n          y: outerInterSectPoint.y\n        };\n        size = {\n          width: radialPoint.radius,\n          height: radialPoint.radius\n        };\n        sweepDirection = y > 0 ? this.direction['clockwise'] : this.direction['counterclockwise'];\n        this.majorRGridArcPoints.push({\n          startPoint: startPoint,\n          endPoint: endPoint,\n          size: size,\n          rotationAngle: 2 * Math.PI,\n          isLargeArc: false,\n          sweepDirection: sweepDirection\n        });\n        this.labelCollections.push({\n          centerX: outerInterSectPoint.x,\n          centerY: outerInterSectPoint.y,\n          angle: outterInterSectAngle,\n          value: y,\n          radius: this.areaRadius,\n          region: null\n        });\n      } else {\n        startPoint = {\n          x: this.circleLeftX,\n          y: this.circleCenterY\n        };\n        endPoint = {\n          x: this.circleCenterX + this.areaRadius,\n          y: this.circleCenterY\n        };\n        this.majorRGridArcPoints.push({\n          startPoint: startPoint,\n          endPoint: endPoint,\n          size: null,\n          rotationAngle: null,\n          isLargeArc: null,\n          sweepDirection: null\n        });\n        this.labelCollections.push({\n          centerX: smithchart.renderType === 'Impedance' ? this.circleCenterX - this.areaRadius : this.circleCenterX + this.areaRadius,\n          centerY: this.circleCenterY,\n          angle: smithchart.renderType === 'Impedance' ? 180 : 360,\n          value: y,\n          radius: this.areaRadius,\n          region: null\n        });\n      }\n    }\n  };\n\n  AxisRender.prototype.circleXYRadianValue = function (centerX, centerY, outterX, outterY) {\n    var radian;\n    radian = Math.atan2(outterY - centerY, outterX - centerX);\n    radian = radian < 0 ? radian + 360 * Math.PI / 180 : radian;\n    return radian;\n  };\n\n  AxisRender.prototype.calculateMajorArcStartEndPoints = function (radialPoint, value, smithchart) {\n    var arcPoints = [];\n    var circlePoint = [];\n    var cx = this.circleCenterX;\n    var cy = this.circleCenterY;\n\n    if (value >= 10) {\n      arcPoints[0] = smithchart.renderType === 'Impedance' ? {\n        x: cx + this.areaRadius,\n        y: cy\n      } : {\n        x: cx - this.areaRadius,\n        y: cy\n      };\n    } else if (value >= 3) {\n      circlePoint = this.horizontalLabelCollections.filter(function (c) {\n        return c.value === 10;\n      });\n    } else if (value >= 1) {\n      circlePoint = this.horizontalLabelCollections.filter(function (c) {\n        return c.value === 5;\n      });\n    } else {\n      circlePoint = this.horizontalLabelCollections.filter(function (c) {\n        return c.value === 3;\n      });\n    }\n\n    if (circlePoint.length > 0) {\n      arcPoints[0] = this.intersectingCirclePoints(radialPoint.centerX, radialPoint.centerY, radialPoint.radius, circlePoint[0].centerX, circlePoint[0].centerY, circlePoint[0].radius, smithchart.renderType);\n    }\n\n    arcPoints[1] = this.intersectingCirclePoints(radialPoint.centerX, radialPoint.centerY, radialPoint.radius, cx, cy, this.areaRadius, smithchart.renderType);\n    return arcPoints;\n  };\n\n  AxisRender.prototype.calculateHMajorArcStartEndPoints = function (value) {\n    var arcHPoints = [];\n    var calValue1;\n    var calValue2;\n\n    if (value <= 0.3) {\n      calValue1 = 2.0;\n      calValue2 = -2.0;\n    } else if (value <= 1.0) {\n      calValue1 = 3.0;\n      calValue2 = -3.0;\n    } else if (value <= 2.0) {\n      calValue1 = 5.0;\n      calValue2 = -5.0;\n    } else if (value <= 5.0) {\n      calValue1 = 10.0;\n      calValue2 = -10.0;\n    } else {\n      calValue1 = 50.0;\n      calValue2 = -50.0;\n    }\n\n    arcHPoints[0] = this.radialLabelCollections.filter(function (c) {\n      return c.value === calValue1;\n    });\n    arcHPoints[1] = this.radialLabelCollections.filter(function (c) {\n      return c.value === calValue2;\n    });\n    return arcHPoints;\n  };\n\n  AxisRender.prototype.calculateMinorArcStartEndPoints = function (value) {\n    var calValue1;\n    var calValue2;\n    var marcHPoints = [];\n\n    if (value <= 0.1) {\n      calValue1 = 1.0;\n      calValue2 = -1.0;\n    } else if (value <= 0.2) {\n      calValue1 = 0.8;\n      calValue2 = -0.8;\n    } else if (value <= 0.3) {\n      calValue1 = 0.4;\n      calValue2 = -0.4;\n    } else if (value <= 0.6) {\n      calValue1 = 1.0;\n      calValue2 = -1.0;\n    } else if (value <= 1.0) {\n      calValue1 = 1.5;\n      calValue2 = -1.5;\n    } else if (value <= 1.5) {\n      calValue1 = 2.0;\n      calValue2 = -2.0;\n    } else if (value <= 2.0) {\n      calValue1 = 1.0;\n      calValue2 = -1.0;\n    } else if (value <= 5.0) {\n      calValue1 = 3.0;\n      calValue2 = -3.0;\n    } else {\n      calValue1 = 10.0;\n      calValue2 = -10.0;\n    }\n\n    marcHPoints[0] = this.radialLabelCollections.filter(function (c) {\n      return c['value'] === calValue1;\n    });\n    marcHPoints[1] = this.radialLabelCollections.filter(function (c) {\n      return c['value'] === calValue2;\n    });\n    return marcHPoints;\n  };\n\n  AxisRender.prototype.intersectingCirclePoints = function (x1, y1, r1, x2, y2, r2, renderType) {\n    var point = {\n      x: 0,\n      y: 0\n    };\n    var cx = x1 - x2;\n    var cy = y1 - y2;\n    var midRadius = Math.sqrt(cx * cx + cy * cy);\n    var radiusSquare = midRadius * midRadius;\n    var a = (r1 * r1 - r2 * r2) / (2 * radiusSquare);\n    var radiusSquare2 = r1 * r1 - r2 * r2;\n    var c = Math.sqrt(2 * (r1 * r1 + r2 * r2) / radiusSquare - radiusSquare2 * radiusSquare2 / (radiusSquare * radiusSquare) - 1);\n    var fx = (x1 + x2) / 2 + a * (x2 - x1);\n    var gx = c * (y2 - y1) / 2;\n    var ix1 = fx + gx;\n    var ix2 = fx - gx;\n    var fy = (y1 + y2) / 2 + a * (y2 - y1);\n    var gy = c * (x1 - x2) / 2;\n    var iy1 = fy + gy;\n    var iy2 = fy - gy;\n\n    if (renderType === 'Impedance') {\n      if (ix2 < ix1) {\n        point.x = ix2;\n        point.y = iy2;\n      } else {\n        point.x = ix1;\n        point.y = iy1;\n      }\n    } else {\n      if (ix1 > ix2) {\n        point.x = ix1;\n        point.y = iy1;\n      } else {\n        point.x = ix2;\n        point.y = iy2;\n      }\n    }\n\n    return {\n      x: point.x,\n      y: point.y\n    };\n  };\n\n  AxisRender.prototype.updateHMajorGridLines = function (smithchart) {\n    var majorGridLine = smithchart.horizontalAxis.majorGridLines;\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_horizontalAxisMajorGridLines'\n    });\n    var path = this.calculateGridLinesPath(this.majorHGridArcPoints);\n    var haxismgoptions = new PathOption(smithchart.element.id + '_horizontalAxisMajorGridLines', 'none', majorGridLine['width'], majorGridLine.color ? majorGridLine.color : smithchart.themeStyle.majorGridLine, majorGridLine['opacity'], majorGridLine['dashArray'], path);\n    var element = smithchart.renderer.drawPath(haxismgoptions);\n    groupElement.appendChild(element);\n    smithchart.svgObject.appendChild(groupElement);\n  };\n\n  AxisRender.prototype.updateRMajorGridLines = function (smithchart) {\n    var majorGridLine = smithchart.radialAxis.majorGridLines;\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_radialAxisMajorGridLines'\n    });\n    var path = this.calculateGridLinesPath(this.majorRGridArcPoints);\n    var raxismgoptions = new PathOption(smithchart.element.id + '_radialAxisMajorGridLines', 'none', majorGridLine['width'], majorGridLine.color ? majorGridLine.color : smithchart.themeStyle.majorGridLine, majorGridLine['opacity'], majorGridLine['dashArray'], path);\n    var element = smithchart.renderer.drawPath(raxismgoptions);\n    groupElement.appendChild(element);\n    smithchart.svgObject.appendChild(groupElement);\n  };\n\n  AxisRender.prototype.updateHAxisLine = function (smithchart) {\n    var radius = this.areaRadius;\n    var axisLine = smithchart.horizontalAxis.axisLine;\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_hAxisLine'\n    });\n    var point1 = {\n      x: this.circleCenterX + radius,\n      y: this.circleCenterY\n    };\n    var point2 = {\n      x: this.circleCenterX + radius,\n      y: this.circleCenterY - 0.05\n    };\n    var size = {\n      width: radius,\n      height: radius\n    };\n    var sweep = this.direction['clockwise'];\n    var isLargeArc = 1;\n    var angle = Math.PI * 2;\n    var direction = 'M' + '' + point1.x + ' ' + point1.y + ' ' + 'A' + ' ' + size.width + ' ' + size.height + ' ' + angle + ' ' + isLargeArc + ' ' + sweep + ' ' + point2.x + ' ' + point2.y + '';\n    var options = new PathOption(smithchart.element.id + '_horizontalAxisLine', 'none', axisLine.width, axisLine.color ? axisLine.color : smithchart.themeStyle.axisLine, 1, axisLine.dashArray, direction);\n    var element = smithchart.renderer.drawPath(options);\n    groupElement.appendChild(element);\n    smithchart.svgObject.appendChild(groupElement);\n  };\n\n  AxisRender.prototype.updateRAxisLine = function (smithchart) {\n    var radius = this.areaRadius;\n    var axisLine = smithchart.radialAxis.axisLine;\n    var point1 = {\n      x: this.circleCenterX - radius,\n      y: this.circleCenterY\n    };\n    var point2 = {\n      x: this.circleCenterX + radius,\n      y: this.circleCenterY\n    };\n    var size = {\n      width: 0,\n      height: 0\n    };\n    var sweep = this.direction['counterclockwise'];\n    var isLargeArc = 0;\n    var angle = 0;\n    var direction = 'M' + ' ' + point1.x + ' ' + point1.y + ' ' + 'A' + ' ' + size.width + ' ' + size.height + ' ' + angle + ' ' + isLargeArc + ' ' + sweep + ' ' + point2.x + ' ' + point2.y + '';\n    var options = new PathOption(smithchart.element.id + '_radialAxisLine', 'none', axisLine.width, axisLine.color ? axisLine.color : smithchart.themeStyle.axisLine, 1, axisLine.dashArray, direction);\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_rAxisLine'\n    });\n    var element = smithchart.renderer.drawPath(options);\n    groupElement.appendChild(element);\n    smithchart.svgObject.appendChild(groupElement);\n  };\n\n  AxisRender.prototype.drawHAxisLabels = function (smithchart) {\n    var hAxis = smithchart.horizontalAxis;\n    smithchart.radialAxis.labelStyle.fontFamily = smithchart.themeStyle.fontFamily || smithchart.radialAxis.labelStyle.fontFamily;\n    var font = smithchart.horizontalAxis.labelStyle;\n    var circleAxis;\n    var label;\n    var x;\n    var y;\n    var textSize;\n    var curLabel;\n    var curLabelBounds;\n    var curWidth;\n    var curX;\n    var preLabel;\n    var preLabelBounds;\n    var preWidth;\n    var preX;\n    var groupEle = smithchart.renderer.createGroup({\n      id: smithchart.element.id + '_HAxisLabels'\n    });\n\n    var _loop_1 = function (i) {\n      circleAxis = this_1.horizontalLabelCollections[i];\n      label = this_1.horizontalLabelCollections[i].value.toString();\n\n      if (circleAxis.value !== 0.0) {\n        x = smithchart.renderType === 'Impedance' ? circleAxis.centerX - circleAxis.radius : circleAxis.centerX + circleAxis.radius;\n        y = circleAxis.centerY;\n        textSize = measureText(label, font);\n        x = smithchart.renderType === 'Impedance' ? x - textSize.width : x;\n\n        if (hAxis.labelPosition === 'Outside') {\n          y -= textSize.height / 4;\n        } else {\n          y += textSize.height;\n        }\n\n        this_1.horizontalLabelCollections[i].region = this_1.calculateRegion(label, textSize, x, y);\n\n        if (hAxis.labelIntersectAction === 'Hide') {\n          curLabel = this_1.horizontalLabelCollections[i];\n          curLabelBounds = curLabel.region.bounds;\n          curWidth = curLabelBounds.width;\n          curX = curLabelBounds.x;\n\n          for (var j = 1; j < i; j++) {\n            preLabel = this_1.horizontalLabelCollections[j];\n            preLabelBounds = preLabel.region.bounds;\n            preWidth = preLabelBounds.width;\n            preX = preLabelBounds.x;\n\n            if (smithchart.renderType === 'Impedance' && preX + preWidth > curX) {\n              label = '';\n            }\n\n            if (smithchart.renderType === 'Admittance' && preX < curX + curWidth) {\n              label = '';\n            }\n          }\n        }\n\n        var axisLabelRenderEventArgs_1 = {\n          text: label.toString(),\n          x: x,\n          y: y,\n          name: axisLabelRender,\n          cancel: false\n        };\n\n        var axisLabelRenderSuccess = function (args) {\n          if (!args.cancel) {\n            var options = new TextOption(smithchart.element.id + '_HLabel_' + i, axisLabelRenderEventArgs_1.x, axisLabelRenderEventArgs_1.y, 'none', axisLabelRenderEventArgs_1.text);\n            var color = font.color ? font.color : smithchart.themeStyle.axisLabel;\n            font.fontFamily = font.fontFamily || smithchart.themeStyle.labelFontFamily;\n            var element = renderTextElement(options, font, color, groupEle);\n            groupEle.appendChild(element);\n          }\n        };\n\n        axisLabelRenderSuccess.bind(this_1);\n        smithchart.trigger(axisLabelRender, axisLabelRenderEventArgs_1, axisLabelRenderSuccess);\n      }\n    };\n\n    var this_1 = this;\n\n    for (var i = 0; i < this.horizontalLabelCollections.length; i++) {\n      _loop_1(i);\n    }\n\n    smithchart.svgObject.appendChild(groupEle);\n  };\n\n  AxisRender.prototype.drawRAxisLabels = function (smithchart) {\n    var paddingRadius = 2;\n    smithchart.radialAxis.labelStyle.fontFamily = smithchart.themeStyle.fontFamily || smithchart.radialAxis.labelStyle.fontFamily;\n    var font = smithchart.radialAxis.labelStyle;\n    var interSectPoint = new RadialLabelCollections();\n    var label;\n    var textSize;\n    var angle;\n    var position;\n    var textPosition;\n    var curX;\n    var curY;\n    var curWidth;\n    var curHeight;\n    var curLabel;\n    var curLabelBounds;\n    var preX;\n    var preY;\n    var preWidth;\n    var preHeight;\n    var preLabel;\n    var preLabelBounds;\n    var rAxis = smithchart.radialAxis;\n    var groupEle = smithchart.renderer.createGroup({\n      id: smithchart.element.id + '_RAxisLabels'\n    });\n\n    var _loop_2 = function (i) {\n      interSectPoint = this_2.labelCollections[i];\n      label = interSectPoint.value.toString();\n      textSize = measureText(label, font);\n      angle = Math.round(interSectPoint.angle * 100) / 100;\n\n      if (rAxis.labelPosition === 'Outside') {\n        position = this_2.circlePointPosition(this_2.circleCenterX, this_2.circleCenterY, interSectPoint['angle'], this_2.areaRadius + paddingRadius);\n        textPosition = this_2.setLabelsOutsidePosition(angle, position.x, position.y, textSize);\n      } else {\n        position = this_2.circlePointPosition(this_2.circleCenterX, this_2.circleCenterY, interSectPoint['angle'], this_2.areaRadius - paddingRadius);\n        textPosition = this_2.setLabelsInsidePosition(angle, position.x, position.y, textSize);\n      }\n\n      this_2.labelCollections[i]['region'] = this_2.calculateRegion(label, textSize, textPosition.x, textPosition.y);\n\n      if (rAxis.labelIntersectAction === 'Hide') {\n        curLabel = this_2.labelCollections[i];\n        curLabelBounds = curLabel['region']['bounds'];\n        curWidth = curLabelBounds['width'];\n        curHeight = curLabelBounds['height'];\n        curX = curLabelBounds['x'];\n        curY = curLabelBounds['y'];\n\n        for (var j = 0; j < i; j++) {\n          preLabel = this_2.labelCollections[j];\n          preLabelBounds = preLabel['region']['bounds'];\n          preWidth = preLabelBounds['width'];\n          preHeight = preLabelBounds['height'];\n          preX = preLabelBounds['x'];\n          preY = preLabelBounds['y'];\n\n          if (preX <= curX + curWidth && curX <= preX + preWidth && preY <= curY + curHeight && curY <= preY + preHeight) {\n            label = ' ';\n          }\n        }\n      }\n\n      var axisLabelRenderEventArgs = {\n        text: label.toString(),\n        x: textPosition.x,\n        y: textPosition.y,\n        name: axisLabelRender,\n        cancel: false\n      };\n\n      var axisLabelRenderSuccess = function (args) {\n        if (!args.cancel) {\n          var options = new TextOption(smithchart.element.id + '_RLabel_' + i, axisLabelRenderEventArgs.x, axisLabelRenderEventArgs.y, 'none', axisLabelRenderEventArgs.text);\n          var color = font.color ? font.color : smithchart.themeStyle.axisLabel;\n          font.fontFamily = smithchart.themeStyle.labelFontFamily ? smithchart.themeStyle.labelFontFamily : font.fontFamily;\n          var element = renderTextElement(options, font, color, groupEle);\n          groupEle.appendChild(element);\n        }\n      };\n\n      axisLabelRenderSuccess.bind(this_2);\n      smithchart.trigger(axisLabelRender, axisLabelRenderEventArgs, axisLabelRenderSuccess);\n    };\n\n    var this_2 = this;\n\n    for (var i = 0; i < this.labelCollections.length; i++) {\n      _loop_2(i);\n    }\n\n    smithchart.svgObject.appendChild(groupEle);\n  };\n\n  AxisRender.prototype.calculateRegion = function (label, textSize, textPositionX, textPositionY) {\n    var xAxisLabelRegions = new LabelRegion();\n    var bounds = {\n      x: textPositionX,\n      y: textPositionY,\n      width: textSize.width,\n      height: textSize.height\n    };\n    xAxisLabelRegions = {\n      bounds: bounds,\n      labelText: label\n    };\n    return xAxisLabelRegions;\n  };\n\n  AxisRender.prototype.updateHMinorGridLines = function (smithchart) {\n    var minorGridLine = smithchart.horizontalAxis.minorGridLines;\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_horizontalAxisMinorGridLines'\n    });\n    var path = this.calculateGridLinesPath(this.minorHGridArcPoints);\n    var haxismioptions = new PathOption(smithchart.element.id + '_horizontalAxisMinorGridLines', 'none', minorGridLine['width'], minorGridLine.color ? minorGridLine.color : smithchart.themeStyle.minorGridLine, minorGridLine['opacity'], minorGridLine['dashArray'], path);\n    var element = smithchart.renderer.drawPath(haxismioptions);\n    groupElement.appendChild(element);\n    smithchart.svgObject.appendChild(groupElement);\n  };\n\n  AxisRender.prototype.updateRMinorGridLines = function (smithchart) {\n    var minorGridLine = smithchart.radialAxis.minorGridLines;\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_radialAxisMinorGridLines'\n    });\n    var path = this.calculateGridLinesPath(this.minorGridArcPoints);\n    var raxismioptions = new PathOption(smithchart.element.id + '_radialAxisMinorGridLines', 'none', minorGridLine['width'], minorGridLine.color ? minorGridLine.color : smithchart.themeStyle.minorGridLine, minorGridLine['opacity'], minorGridLine['dashArray'], path);\n    var element = smithchart.renderer.drawPath(raxismioptions);\n    groupElement.appendChild(element);\n    smithchart.svgObject.appendChild(groupElement);\n  };\n\n  AxisRender.prototype.calculateGridLinesPath = function (points) {\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var r1;\n    var r2;\n    var pathSegment = new GridArcPoints();\n    var angle;\n    var isLargeArc;\n    var sweep;\n    var sb = '';\n\n    for (var i = 0; i < points.length; i++) {\n      pathSegment = points[i];\n      x1 = pathSegment.startPoint.x;\n      y1 = pathSegment.startPoint.y;\n      x2 = pathSegment.endPoint.x;\n      y2 = pathSegment.endPoint.y;\n      r1 = pathSegment.size ? pathSegment.size.width : 0;\n      r2 = pathSegment.size ? pathSegment.size.height : 0;\n      angle = pathSegment.rotationAngle ? pathSegment.rotationAngle : 0;\n      isLargeArc = pathSegment.isLargeArc ? 1 : 0;\n      sweep = pathSegment.sweepDirection ? pathSegment.sweepDirection : 0;\n      sb = sb + ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + r1 + ' ' + r2 + ' ' + angle + ' ' + isLargeArc + ' ' + sweep + ' ' + x2 + ' ' + y2 + ' ');\n    }\n\n    var path = sb.toString();\n    return path;\n  };\n\n  AxisRender.prototype.measureHMinorGridLines = function (smithchart) {\n    var radialPoint1;\n    var radialPoint2;\n    var arcPoints = [];\n    var isLargeArc;\n    var startPoint;\n    var endPoint;\n    var size;\n    var cx;\n    var maxCount = smithchart.horizontalAxis.minorGridLines.count;\n    var previous;\n    var next;\n    var space;\n    var count;\n    var interval;\n    var radius;\n    var leftX;\n    this.minorHGridArcPoints = [];\n    var diameter = this.areaRadius * 2;\n\n    for (var i = 0; i < this.horizontalLabelCollections.length - 3; i++) {\n      previous = this.horizontalLabelCollections[i];\n      next = this.horizontalLabelCollections[i + 1];\n      space = (previous['radius'] - next['radius']) * 2;\n      count = Math.floor(maxCount / 100 * space);\n      interval = space / count;\n\n      for (var j = 0; j < count; j++) {\n        radius = next['radius'] + j * interval / 2;\n        leftX = smithchart.renderType === 'Impedance' ? this.circleLeftX + diameter - radius * 2 : this.circleLeftX;\n        cx = leftX + radius;\n        isLargeArc = next['value'] > 5;\n        arcPoints = this.calculateMinorArcStartEndPoints(next['value']);\n\n        if (smithchart.renderType === 'Impedance') {\n          radialPoint1 = arcPoints[0];\n          radialPoint2 = arcPoints[1];\n        } else {\n          radialPoint1 = arcPoints[1];\n          radialPoint2 = arcPoints[0];\n        }\n\n        startPoint = this.intersectingCirclePoints(radialPoint1[0].centerX, radialPoint1[0].centerY, radialPoint1[0].radius, cx, previous['centerY'], radius, smithchart.renderType);\n        endPoint = this.intersectingCirclePoints(radialPoint2[0].centerX, radialPoint2[0].centerY, radialPoint2[0].radius, cx, previous['centerY'], radius, smithchart.renderType);\n        size = {\n          width: radius,\n          height: radius\n        };\n        this.minorHGridArcPoints.push({\n          startPoint: startPoint,\n          endPoint: endPoint,\n          rotationAngle: 2 * Math.PI,\n          sweepDirection: smithchart.renderType === 'Impedance' ? this.direction['counterclockwise'] : this.direction['clockwise'],\n          isLargeArc: isLargeArc,\n          size: size\n        });\n      }\n    }\n  };\n\n  AxisRender.prototype.measureRMinorGridLines = function (smithchart) {\n    var maxCount = smithchart.radialAxis.minorGridLines.count;\n    var arcCx;\n    var nextAngle;\n    var k = 0;\n    var betweenAngle;\n    var circlePoint;\n    var previous;\n    var next;\n    var size;\n    var distance;\n    var count;\n    var interval;\n    var centerValue;\n    var circumference = Math.PI * (this.areaRadius * 2);\n    var arcStartX = arcCx = smithchart.renderType === 'Impedance' ? this.circleCenterX + this.areaRadius : this.circleCenterX - this.areaRadius;\n    var arcStartY = this.circleCenterY;\n    this.minorGridArcPoints = [];\n    var arcStartPoint = {\n      x: arcStartX,\n      y: arcStartY\n    };\n\n    for (var i = 2; i < this.labelCollections.length - 3; i++) {\n      previous = this.labelCollections[i];\n      next = this.labelCollections[i + 1];\n\n      if (smithchart.renderType === 'Impedance') {\n        nextAngle = next['angle'] === 360 ? 0 : next['angle'];\n        betweenAngle = Math.abs(nextAngle - previous['angle']);\n      } else {\n        nextAngle = previous['angle'] === 360 ? 0 : previous['angle'];\n        betweenAngle = Math.abs(nextAngle - next['angle']);\n      }\n\n      distance = circumference / 360 * betweenAngle;\n      count = Math.floor(maxCount / 100 * distance);\n      interval = betweenAngle / count;\n      centerValue = next['value'] > 0 ? next['value'] : previous['value'];\n      circlePoint = this.minorGridLineArcIntersectCircle(Math.abs(centerValue));\n\n      for (var j = 1; j < count; j++) {\n        var outterInterSectAngle = interval * j + (previous['angle'] === 360 ? nextAngle : previous['angle']);\n        var outerInterSectPoint = this.circlePointPosition(this.circleCenterX, this.circleCenterY, outterInterSectAngle, this.areaRadius);\n        var radius = this.arcRadius(arcStartPoint, outerInterSectPoint, outterInterSectAngle);\n        var arcCy = outterInterSectAngle > 180 ? this.circleCenterY - radius : this.circleCenterY + radius;\n        var innerInterSectPoint = this.intersectingCirclePoints(arcCx, arcCy, radius, circlePoint[0].centerX, circlePoint[0].centerY, circlePoint[0].radius, smithchart.renderType);\n        var startPoint = {\n          x: innerInterSectPoint.x,\n          y: innerInterSectPoint.y\n        };\n        var endPoint = {\n          x: outerInterSectPoint.x,\n          y: outerInterSectPoint.y\n        };\n        size = {\n          width: radius,\n          height: radius\n        };\n        var sweepDirection = previous['value'] >= 0 ? this.direction['clockwise'] : this.direction['counterclockwise'];\n        this.minorGridArcPoints.push({\n          startPoint: startPoint,\n          endPoint: endPoint,\n          rotationAngle: 2 * Math.PI,\n          sweepDirection: sweepDirection,\n          isLargeArc: false,\n          size: size\n        });\n        k++;\n      }\n    }\n  };\n\n  AxisRender.prototype.minorGridLineArcIntersectCircle = function (centerValue) {\n    var calValue;\n\n    if (centerValue >= 3) {\n      calValue = 20;\n    } else if (centerValue >= 1.5) {\n      calValue = 10;\n    } else if (centerValue >= 0.6) {\n      calValue = 3;\n    } else {\n      calValue = 2;\n    }\n\n    var circlePoint = this.horizontalLabelCollections.filter(function (c) {\n      return c['value'] === calValue;\n    });\n    return circlePoint;\n  };\n\n  AxisRender.prototype.circlePointPosition = function (cx, cy, angle, r) {\n    var radian = angle * (Math.PI / 180);\n    var pointX = cx + r * Math.cos(radian);\n    var pointY = cy + r * Math.sin(radian);\n    return {\n      x: pointX,\n      y: pointY\n    };\n  };\n\n  AxisRender.prototype.setLabelsInsidePosition = function (angle, px, py, textSize) {\n    var x = px;\n    var y = py;\n\n    if (angle === 0 || angle === 360) {\n      x -= textSize.width;\n      y -= textSize.height / 2;\n    } else if (angle === 90) {\n      x -= textSize.width;\n      y += textSize.height / 8;\n    } else if (angle === 180) {\n      y += textSize.height;\n    } else if (angle === 270) {\n      y += textSize.height / 2;\n    } else if (angle > 0 && angle <= 20) {\n      x -= textSize.width;\n    } else if (angle > 20 && angle <= 60) {\n      x -= textSize.width + textSize.width / 2;\n      y += textSize.height / 2;\n    } else if (angle > 60 && angle < 90) {\n      x -= textSize.width + textSize.width / 4;\n      y += textSize.height / 4;\n    } else if (angle > 90 && angle <= 135) {\n      x -= textSize.width / 2;\n      y += textSize.height / 16;\n    } else if (angle > 135 && angle <= 150) {\n      x += textSize.width / 2;\n      y += textSize.height / 2;\n    } else if (angle > 150 && angle < 180) {\n      x += textSize.width / 2;\n      y += textSize.height;\n    } else if (angle > 180 && angle <= 210) {\n      x += textSize.width / 6;\n      y += textSize.height / 6;\n    } else if (angle > 210 && angle < 240) {\n      y += textSize.height / 4;\n    } else if (angle > 225 && angle < 270) {\n      y += textSize.height / 3;\n    } else if (angle > 270 && angle <= 300) {\n      x -= textSize.width + textSize.width / 4;\n      y += textSize.height / 4;\n    } else if (angle > 300 && angle <= 330) {\n      x -= textSize.width + textSize.width / 3;\n      y += textSize.height / 4;\n    } else if (angle > 330 && angle <= 340) {\n      x -= textSize.width + textSize.width / 2;\n      y += textSize.height / 4;\n    } else if (angle > 340) {\n      x -= textSize.width;\n      y += textSize.height / 8;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  AxisRender.prototype.setLabelsOutsidePosition = function (angle, px, py, textSize) {\n    var x = px;\n    var y = py;\n\n    if (angle === 90) {\n      x -= textSize.width / 2;\n      y += textSize.height;\n    } else if (angle === 180) {\n      x -= textSize.width + 5;\n      y -= textSize.height / 4;\n    } else if (angle === 270) {\n      x -= textSize.width / 2;\n      y -= textSize.height / 4;\n    } else if (angle === 360) {\n      x += 5;\n      y -= textSize.height / 2;\n    } else if (angle > 0 && angle <= 30) {\n      x += textSize.width / 4;\n      y += textSize.height / 8;\n    } else if (angle > 30 && angle <= 60) {\n      x += textSize.width / 2;\n      y += textSize.height / 4;\n    } else if (angle > 60 && angle <= 90) {\n      x -= textSize.width / 2;\n      y += textSize.height;\n    } else if (angle > 90 && angle <= 135) {\n      x -= textSize.width;\n      y += textSize.height;\n    } else if (angle > 135 && angle <= 180) {\n      x -= textSize.width + textSize.width / 4;\n      y += textSize.height / 4;\n    } else if (angle > 180 && angle <= 210) {\n      x -= textSize.width + textSize.width / 4;\n      y -= textSize.height / 4;\n    } else if (angle > 210 && angle <= 270) {\n      x -= textSize.width;\n      y -= textSize.height / 4;\n    } else if (angle > 270 && angle <= 340) {\n      y -= textSize.height / 4;\n    } else if (angle > 340) {\n      y += textSize.height / 4;\n      x += textSize.width / 6;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  AxisRender.prototype.arcRadius = function (startPoint, endPoint, angle) {\n    var radian = angle > 180 ? 90 * Math.PI / 180 : 270 * Math.PI / 180; // Angle 90 and 270 used for calculating upper and lower circle\n\n    var mx = (endPoint.x - startPoint.x) / 2;\n    var my = (endPoint.y - startPoint.y) / 2;\n    var u = (Math.cos(radian) * my - Math.sin(radian) * mx) / (Math.cos(radian) * mx + Math.sin(radian) * my);\n    var t = (my - mx * u) / Math.sin(radian);\n    var cy = startPoint.y + Math.sin(radian) * t;\n    var radius = Math.abs(startPoint.y - cy);\n    return radius;\n  };\n\n  return AxisRender;\n}();\n\nexport { AxisRender };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/smithchart/axis/axisrender.js"],"names":["measureText","HorizontalLabelCollection","LabelRegion","Point","Direction","GridArcPoints","RadialLabelCollections","PathOption","TextOption","renderTextElement","_getEpsilonValue","axisLabelRender","AxisRender","radialLabels","radialLabelCollections","horizontalLabelCollections","labelCollections","direction","prototype","renderArea","smithchart","bounds","calculateChartArea","calculateCircleMargin","calculateXAxisRange","calculateRAxisRange","measureHorizontalAxis","measureRadialAxis","horizontalAxis","visible","updateHAxis","radialAxis","updateRAxis","drawHAxisLabels","drawRAxisLabels","majorGridLines","minorGridLines","axisLine","updateHMajorGridLines","updateHMinorGridLines","updateHAxisLine","updateRMajorGridLines","updateRMinorGridLines","updateRAxisLine","measureHMajorGridLines","measureHMinorGridLines","measureRMajorGridLines","measureRMinorGridLines","width","availableSize","height","chartAreaWidth","Math","min","chartAreaHeight","x","y","chartArea","padding","maxLabelWidth","radius","maximumLabelLength","labelMargin","labelPosition","diameter","actualRadius","circleCoefficient","areaRadius","circleLeftX","circleTopY","circleCenterX","circleCenterY","font","labelStyle","label","textSize","i","length","toString","calculateAxisLabels","spacingBetweenGridLines","previousR","j","labels","round","coeff","isOverlap1","isOverlap2","isOverlap","staticlabels","k","d","cx","horizontalAxisLabels","cy","circleStartX","leftX","renderType","push","centerX","centerY","value","region","arcCy","arcRadius","point","abs","arcPoints","startPoint","endPoint","radialPoint1","radialPoint2","size","majorHGridArcPoints","circlePoint","calculateHMajorArcStartEndPoints","intersectingCirclePoints","rotationAngle","PI","sweepDirection","isLargeArc","radialPoint","innerInterSectPoint","outerInterSectPoint","outterInterSectRadian","outterInterSectAngle","majorRGridArcPoints","epsilon","calculateMajorArcStartEndPoints","circleXYRadianValue","angle","outterX","outterY","radian","atan2","filter","c","arcHPoints","calValue1","calValue2","calculateMinorArcStartEndPoints","marcHPoints","x1","y1","r1","x2","y2","r2","midRadius","sqrt","radiusSquare","a","radiusSquare2","fx","gx","ix1","ix2","fy","gy","iy1","iy2","majorGridLine","groupElement","renderer","createGroup","element","id","path","calculateGridLinesPath","haxismgoptions","color","themeStyle","drawPath","appendChild","svgObject","raxismgoptions","point1","point2","sweep","options","dashArray","hAxis","fontFamily","circleAxis","curLabel","curLabelBounds","curWidth","curX","preLabel","preLabelBounds","preWidth","preX","groupEle","_loop_1","this_1","calculateRegion","labelIntersectAction","axisLabelRenderEventArgs_1","text","name","cancel","axisLabelRenderSuccess","args","axisLabel","labelFontFamily","bind","trigger","paddingRadius","interSectPoint","position","textPosition","curY","curHeight","preY","preHeight","rAxis","_loop_2","this_2","circlePointPosition","setLabelsOutsidePosition","setLabelsInsidePosition","axisLabelRenderEventArgs","textPositionX","textPositionY","xAxisLabelRegions","labelText","minorGridLine","minorHGridArcPoints","haxismioptions","minorGridArcPoints","raxismioptions","points","pathSegment","sb","maxCount","count","previous","next","space","interval","floor","arcCx","nextAngle","betweenAngle","distance","centerValue","circumference","arcStartX","arcStartY","arcStartPoint","minorGridLineArcIntersectCircle","calValue","r","pointX","cos","pointY","sin","px","py","mx","my","u","t"],"mappings":"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","sourcesContent":["import { measureText } from '../../smithchart/utils/helper';\r\nimport { HorizontalLabelCollection, LabelRegion, Point, Direction } from '../../smithchart/utils/utils';\r\nimport { GridArcPoints, RadialLabelCollections } from '../../smithchart/utils/utils';\r\nimport { PathOption, TextOption, renderTextElement, _getEpsilonValue } from '../../smithchart/utils/helper';\r\nimport { axisLabelRender } from '../model/constant';\r\nvar AxisRender = /** @class */ (function () {\r\n    function AxisRender() {\r\n        this.radialLabels = [-50, -20, -10, -5, -4, -3, -2, -1.5, -1, -0.8, -0.6, -0.4, -0.2,\r\n            0, 0.2, 0.4, 0.6, 0.8, 1, 1.5, 2, 3, 4, 5, 10, 20, 50];\r\n        this.radialLabelCollections = [];\r\n        this.horizontalLabelCollections = [];\r\n        this.labelCollections = [];\r\n        this.direction = new Direction();\r\n    }\r\n    AxisRender.prototype.renderArea = function (smithchart, bounds) {\r\n        this.calculateChartArea(smithchart, bounds);\r\n        this.calculateCircleMargin(smithchart, bounds);\r\n        this.calculateXAxisRange(smithchart);\r\n        this.calculateRAxisRange(smithchart);\r\n        this.measureHorizontalAxis(smithchart);\r\n        this.measureRadialAxis(smithchart);\r\n        if (smithchart.horizontalAxis.visible) {\r\n            this.updateHAxis(smithchart);\r\n        }\r\n        if (smithchart.radialAxis.visible) {\r\n            this.updateRAxis(smithchart);\r\n        }\r\n        if (smithchart.horizontalAxis.visible) {\r\n            this.drawHAxisLabels(smithchart);\r\n        }\r\n        if (smithchart.radialAxis.visible) {\r\n            this.drawRAxisLabels(smithchart);\r\n        }\r\n    };\r\n    AxisRender.prototype.updateHAxis = function (smithchart) {\r\n        var majorGridLines = smithchart.horizontalAxis.majorGridLines;\r\n        var minorGridLines = smithchart.horizontalAxis.minorGridLines;\r\n        var axisLine = smithchart.horizontalAxis.axisLine;\r\n        if (majorGridLines.visible) {\r\n            this.updateHMajorGridLines(smithchart);\r\n        }\r\n        if (minorGridLines.visible) {\r\n            this.updateHMinorGridLines(smithchart);\r\n        }\r\n        if (axisLine.visible) {\r\n            this.updateHAxisLine(smithchart);\r\n        }\r\n    };\r\n    AxisRender.prototype.updateRAxis = function (smithchart) {\r\n        var majorGridLines = smithchart.radialAxis.majorGridLines;\r\n        var minorGridLines = smithchart.radialAxis.minorGridLines;\r\n        var axisLine = smithchart.radialAxis.axisLine;\r\n        if (majorGridLines.visible) {\r\n            this.updateRMajorGridLines(smithchart);\r\n        }\r\n        if (minorGridLines.visible) {\r\n            this.updateRMinorGridLines(smithchart);\r\n        }\r\n        if (axisLine.visible) {\r\n            this.updateRAxisLine(smithchart);\r\n        }\r\n    };\r\n    AxisRender.prototype.measureHorizontalAxis = function (smithchart) {\r\n        var minorGridLines = smithchart.horizontalAxis.minorGridLines;\r\n        this.measureHMajorGridLines(smithchart);\r\n        if (minorGridLines.visible) {\r\n            this.measureHMinorGridLines(smithchart);\r\n        }\r\n    };\r\n    AxisRender.prototype.measureRadialAxis = function (smithchart) {\r\n        var minorGridLines = smithchart.radialAxis.minorGridLines;\r\n        this.measureRMajorGridLines(smithchart);\r\n        if (minorGridLines.visible) {\r\n            this.measureRMinorGridLines(smithchart);\r\n        }\r\n    };\r\n    AxisRender.prototype.calculateChartArea = function (smithchart, bounds) {\r\n        var width = smithchart.availableSize.width;\r\n        var height = smithchart.availableSize.height;\r\n        width = bounds.width;\r\n        height = bounds.height;\r\n        var chartAreaWidth = Math.min(width, height);\r\n        var chartAreaHeight = Math.min(width, height);\r\n        var x = bounds.x + (bounds.width / 2 - chartAreaWidth / 2);\r\n        var y = bounds.y + ((height - chartAreaHeight) / 2 > 0 ? (height - chartAreaHeight) / 2 : 0);\r\n        smithchart.chartArea = { x: x, y: y, width: chartAreaWidth, height: chartAreaHeight };\r\n    };\r\n    AxisRender.prototype.calculateCircleMargin = function (smithchart, bounds) {\r\n        var padding = 10;\r\n        var maxLabelWidth = 0;\r\n        var width = smithchart.chartArea.width;\r\n        var radius = smithchart.radius;\r\n        maxLabelWidth = this.maximumLabelLength(smithchart);\r\n        var labelMargin = (smithchart.radialAxis.labelPosition === 'Outside') ? (maxLabelWidth + padding) : padding;\r\n        var diameter = width - labelMargin * 2 > 0 ? width - labelMargin * 2 : 0;\r\n        var actualRadius = diameter / 2;\r\n        var circleCoefficient = radius > 1 ? 1 : (radius < 0.1 ? 0.1 : radius);\r\n        this.areaRadius = actualRadius * circleCoefficient;\r\n        this.circleLeftX = smithchart.chartArea.x + labelMargin + (actualRadius * (1 - circleCoefficient));\r\n        this.circleTopY = smithchart.chartArea.y + labelMargin + (actualRadius * (1 - circleCoefficient));\r\n        this.circleCenterX = this.circleLeftX + this.areaRadius;\r\n        this.circleCenterY = bounds.y + bounds.height / 2;\r\n    };\r\n    AxisRender.prototype.maximumLabelLength = function (smithchart) {\r\n        var maximumLabelLength = 0;\r\n        var font = smithchart.horizontalAxis.labelStyle;\r\n        var label;\r\n        var textSize;\r\n        for (var i = 0; i < this.radialLabels.length; i++) {\r\n            label = this.radialLabels[i].toString();\r\n            textSize = measureText(label, font);\r\n            if (maximumLabelLength < textSize.width) {\r\n                maximumLabelLength = textSize.width;\r\n            }\r\n        }\r\n        return maximumLabelLength;\r\n    };\r\n    AxisRender.prototype.calculateAxisLabels = function () {\r\n        var spacingBetweenGridLines = 30;\r\n        var previousR = 0;\r\n        var j = 0;\r\n        var labels = [];\r\n        var diameter = this.areaRadius * 2;\r\n        for (var i = 0; i < 2; i = i + 0.1) {\r\n            i = Math.round(i * 10) / 10;\r\n            var coeff = 1 / (i + 1);\r\n            var isOverlap1 = false;\r\n            var isOverlap2 = false;\r\n            var radius = ((diameter * coeff) / 2) * 2;\r\n            if (previousR === 0.0 || i === 1) {\r\n                previousR = radius;\r\n                labels[j] = i;\r\n                j++;\r\n                continue;\r\n            }\r\n            if (i < 1) {\r\n                isOverlap1 = this.isOverlap(1, diameter, radius, spacingBetweenGridLines);\r\n            }\r\n            if (i > 1) {\r\n                isOverlap2 = this.isOverlap(2, diameter, radius, spacingBetweenGridLines);\r\n            }\r\n            if (isOverlap1 || isOverlap2) {\r\n                continue;\r\n            }\r\n            if (previousR - radius >= spacingBetweenGridLines) {\r\n                labels[j] = i;\r\n                j++;\r\n                previousR = radius;\r\n            }\r\n        }\r\n        var staticlabels = [2, 3, 4, 5, 10, 20, 50];\r\n        for (var k = 0; k < staticlabels.length; k++) {\r\n            labels[j] = staticlabels[k];\r\n            j++;\r\n        }\r\n        return labels;\r\n    };\r\n    AxisRender.prototype.isOverlap = function (x, d, previousR, spacingBetweenGridLines) {\r\n        var coeff = 1 / (x + 1); // (1 / 1+r) find the radius for the x value\r\n        var radius = ((d * coeff) / 2) * 2;\r\n        return previousR - radius < spacingBetweenGridLines;\r\n    };\r\n    AxisRender.prototype.calculateXAxisRange = function (smithchart) {\r\n        var x;\r\n        var coeff;\r\n        var radius;\r\n        var cx;\r\n        var diameter = this.areaRadius * 2;\r\n        var horizontalAxisLabels = this.calculateAxisLabels();\r\n        var cy = this.circleCenterY;\r\n        var circleStartX = this.circleLeftX;\r\n        var leftX = this.circleLeftX;\r\n        for (var i = 0; i < horizontalAxisLabels.length; i++) {\r\n            x = horizontalAxisLabels[i];\r\n            coeff = 1 / (x + 1);\r\n            radius = (diameter * coeff) / 2;\r\n            if (smithchart.renderType === 'Impedance') {\r\n                leftX = circleStartX + diameter - (radius * 2);\r\n            }\r\n            cx = leftX + radius;\r\n            this.horizontalLabelCollections.push({\r\n                centerX: cx, centerY: cy, radius: radius, value: x, region: null\r\n            });\r\n        }\r\n    };\r\n    AxisRender.prototype.calculateRAxisRange = function (smithchart) {\r\n        var arcCy;\r\n        var arcRadius;\r\n        var diameter = this.areaRadius * 2;\r\n        var y;\r\n        var point = new Point();\r\n        if (smithchart.renderType === 'Impedance') {\r\n            point.x = this.circleLeftX + diameter;\r\n            point.y = this.circleTopY + this.areaRadius;\r\n        }\r\n        else {\r\n            point.x = this.circleLeftX;\r\n            point.y = this.circleTopY + this.areaRadius;\r\n        }\r\n        for (var i = 0; i < this.radialLabels.length; i++) {\r\n            y = this.radialLabels[i];\r\n            arcRadius = Math.abs(((1 / y) * diameter) / 2);\r\n            if (smithchart.renderType === 'Impedance') {\r\n                arcCy = y > 0 ? point.y - arcRadius : point.y + arcRadius;\r\n            }\r\n            else {\r\n                arcCy = y < 0 ? point.y - arcRadius : point.y + arcRadius;\r\n            }\r\n            this.radialLabelCollections.push({\r\n                centerX: point.x, centerY: arcCy, radius: arcRadius, value: y\r\n            });\r\n        }\r\n    };\r\n    AxisRender.prototype.measureHMajorGridLines = function (smithchart) {\r\n        var arcPoints = [];\r\n        var startPoint;\r\n        var endPoint;\r\n        var radialPoint1;\r\n        var radialPoint2;\r\n        var size;\r\n        this.majorHGridArcPoints = [];\r\n        for (var i = 0; i < this.horizontalLabelCollections.length; i++) {\r\n            var circlePoint = new HorizontalLabelCollection();\r\n            circlePoint = this.horizontalLabelCollections[i];\r\n            arcPoints = this.calculateHMajorArcStartEndPoints(circlePoint.value);\r\n            if (smithchart.renderType === 'Impedance') {\r\n                radialPoint1 = arcPoints[0];\r\n                radialPoint2 = arcPoints[1];\r\n            }\r\n            else {\r\n                radialPoint1 = arcPoints[1];\r\n                radialPoint2 = arcPoints[0];\r\n            }\r\n            size = { width: circlePoint.radius, height: circlePoint.radius };\r\n            if (circlePoint.value !== 0.0 && circlePoint.value !== 50.0) {\r\n                startPoint = this.intersectingCirclePoints(radialPoint1[0].centerX, radialPoint1[0].centerY, radialPoint1[0].radius, circlePoint.centerX, circlePoint.centerY, circlePoint.radius, smithchart.renderType);\r\n                endPoint = this.intersectingCirclePoints(radialPoint2[0].centerX, radialPoint2[0].centerY, radialPoint2[0].radius, circlePoint.centerX, circlePoint.centerY, circlePoint.radius, smithchart.renderType);\r\n                this.majorHGridArcPoints.push({\r\n                    startPoint: startPoint,\r\n                    endPoint: endPoint,\r\n                    rotationAngle: 2 * Math.PI,\r\n                    sweepDirection: (smithchart.renderType === 'Impedance') ?\r\n                        this.direction['counterclockwise'] : this.direction['clockwise'],\r\n                    isLargeArc: true,\r\n                    size: size\r\n                });\r\n            }\r\n            else {\r\n                startPoint = { x: circlePoint.centerX + circlePoint.radius, y: circlePoint.centerY };\r\n                endPoint = { x: circlePoint.centerX + circlePoint.radius, y: circlePoint.centerY - 0.05 };\r\n                this.majorHGridArcPoints.push({\r\n                    startPoint: startPoint,\r\n                    endPoint: endPoint,\r\n                    rotationAngle: 2 * Math.PI,\r\n                    sweepDirection: this.direction['clockwise'],\r\n                    isLargeArc: true,\r\n                    size: size\r\n                });\r\n            }\r\n        }\r\n    };\r\n    AxisRender.prototype.measureRMajorGridLines = function (smithchart) {\r\n        var radialPoint;\r\n        var y;\r\n        var arcPoints = [];\r\n        var innerInterSectPoint;\r\n        var outerInterSectPoint;\r\n        var outterInterSectRadian;\r\n        var outterInterSectAngle;\r\n        var startPoint;\r\n        var endPoint;\r\n        var size;\r\n        var sweepDirection;\r\n        this.majorRGridArcPoints = [];\r\n        this.labelCollections = [];\r\n        var epsilon = _getEpsilonValue();\r\n        for (var i = 0; i < this.radialLabelCollections.length; i++) {\r\n            radialPoint = this.radialLabelCollections[i];\r\n            if (radialPoint.radius <= epsilon) {\r\n                continue;\r\n            }\r\n            y = radialPoint.value;\r\n            arcPoints = this.calculateMajorArcStartEndPoints(radialPoint, Math.abs(y), smithchart);\r\n            innerInterSectPoint = arcPoints[0];\r\n            outerInterSectPoint = arcPoints[1];\r\n            outterInterSectRadian = this.circleXYRadianValue(this.circleCenterX, this.circleCenterY, outerInterSectPoint.x, outerInterSectPoint.y);\r\n            outterInterSectAngle = outterInterSectRadian * (180 / Math.PI);\r\n            if (y !== 0.0) {\r\n                startPoint = { x: innerInterSectPoint.x, y: innerInterSectPoint.y };\r\n                endPoint = { x: outerInterSectPoint.x, y: outerInterSectPoint.y };\r\n                size = { width: radialPoint.radius, height: radialPoint.radius };\r\n                sweepDirection = y > 0 ? this.direction['clockwise'] : this.direction['counterclockwise'];\r\n                this.majorRGridArcPoints.push({\r\n                    startPoint: startPoint,\r\n                    endPoint: endPoint,\r\n                    size: size,\r\n                    rotationAngle: 2 * Math.PI,\r\n                    isLargeArc: false,\r\n                    sweepDirection: sweepDirection\r\n                });\r\n                this.labelCollections.push({\r\n                    centerX: outerInterSectPoint.x,\r\n                    centerY: outerInterSectPoint.y,\r\n                    angle: outterInterSectAngle,\r\n                    value: y,\r\n                    radius: this.areaRadius,\r\n                    region: null\r\n                });\r\n            }\r\n            else {\r\n                startPoint = { x: this.circleLeftX, y: this.circleCenterY };\r\n                endPoint = { x: this.circleCenterX + this.areaRadius, y: this.circleCenterY };\r\n                this.majorRGridArcPoints.push({\r\n                    startPoint: startPoint,\r\n                    endPoint: endPoint,\r\n                    size: null,\r\n                    rotationAngle: null,\r\n                    isLargeArc: null,\r\n                    sweepDirection: null\r\n                });\r\n                this.labelCollections.push({\r\n                    centerX: (smithchart.renderType === 'Impedance') ?\r\n                        (this.circleCenterX - this.areaRadius) : (this.circleCenterX + this.areaRadius),\r\n                    centerY: this.circleCenterY,\r\n                    angle: (smithchart.renderType === 'Impedance') ?\r\n                        180 : 360,\r\n                    value: y,\r\n                    radius: this.areaRadius,\r\n                    region: null\r\n                });\r\n            }\r\n        }\r\n    };\r\n    AxisRender.prototype.circleXYRadianValue = function (centerX, centerY, outterX, outterY) {\r\n        var radian;\r\n        radian = Math.atan2(outterY - centerY, outterX - centerX);\r\n        radian = radian < 0 ? (radian + (360 * Math.PI / 180)) : radian;\r\n        return radian;\r\n    };\r\n    AxisRender.prototype.calculateMajorArcStartEndPoints = function (radialPoint, value, smithchart) {\r\n        var arcPoints = [];\r\n        var circlePoint = [];\r\n        var cx = this.circleCenterX;\r\n        var cy = this.circleCenterY;\r\n        if (value >= 10) {\r\n            arcPoints[0] = (smithchart.renderType === 'Impedance') ?\r\n                { x: cx + this.areaRadius, y: cy } : { x: cx - this.areaRadius, y: cy };\r\n        }\r\n        else if (value >= 3) {\r\n            circlePoint = this.horizontalLabelCollections.filter(function (c) { return c.value === 10; });\r\n        }\r\n        else if (value >= 1) {\r\n            circlePoint = this.horizontalLabelCollections.filter(function (c) { return c.value === 5; });\r\n        }\r\n        else {\r\n            circlePoint = this.horizontalLabelCollections.filter(function (c) { return c.value === 3; });\r\n        }\r\n        if (circlePoint.length > 0) {\r\n            arcPoints[0] = this.intersectingCirclePoints(radialPoint.centerX, radialPoint.centerY, radialPoint.radius, circlePoint[0].centerX, circlePoint[0].centerY, circlePoint[0].radius, smithchart.renderType);\r\n        }\r\n        arcPoints[1] = this.intersectingCirclePoints(radialPoint.centerX, radialPoint.centerY, radialPoint.radius, cx, cy, this.areaRadius, smithchart.renderType);\r\n        return arcPoints;\r\n    };\r\n    AxisRender.prototype.calculateHMajorArcStartEndPoints = function (value) {\r\n        var arcHPoints = [];\r\n        var calValue1;\r\n        var calValue2;\r\n        if (value <= 0.3) {\r\n            calValue1 = 2.0;\r\n            calValue2 = -2.0;\r\n        }\r\n        else if (value <= 1.0) {\r\n            calValue1 = 3.0;\r\n            calValue2 = -3.0;\r\n        }\r\n        else if (value <= 2.0) {\r\n            calValue1 = 5.0;\r\n            calValue2 = -5.0;\r\n        }\r\n        else if (value <= 5.0) {\r\n            calValue1 = 10.0;\r\n            calValue2 = -10.0;\r\n        }\r\n        else {\r\n            calValue1 = 50.0;\r\n            calValue2 = -50.0;\r\n        }\r\n        arcHPoints[0] = this.radialLabelCollections.filter(function (c) { return c.value === calValue1; });\r\n        arcHPoints[1] = this.radialLabelCollections.filter(function (c) { return c.value === calValue2; });\r\n        return arcHPoints;\r\n    };\r\n    AxisRender.prototype.calculateMinorArcStartEndPoints = function (value) {\r\n        var calValue1;\r\n        var calValue2;\r\n        var marcHPoints = [];\r\n        if (value <= 0.1) {\r\n            calValue1 = 1.0;\r\n            calValue2 = -1.0;\r\n        }\r\n        else if (value <= 0.2) {\r\n            calValue1 = 0.8;\r\n            calValue2 = -0.8;\r\n        }\r\n        else if (value <= 0.3) {\r\n            calValue1 = 0.4;\r\n            calValue2 = -0.4;\r\n        }\r\n        else if (value <= 0.6) {\r\n            calValue1 = 1.0;\r\n            calValue2 = -1.0;\r\n        }\r\n        else if (value <= 1.0) {\r\n            calValue1 = 1.5;\r\n            calValue2 = -1.5;\r\n        }\r\n        else if (value <= 1.5) {\r\n            calValue1 = 2.0;\r\n            calValue2 = -2.0;\r\n        }\r\n        else if (value <= 2.0) {\r\n            calValue1 = 1.0;\r\n            calValue2 = -1.0;\r\n        }\r\n        else if (value <= 5.0) {\r\n            calValue1 = 3.0;\r\n            calValue2 = -3.0;\r\n        }\r\n        else {\r\n            calValue1 = 10.0;\r\n            calValue2 = -10.0;\r\n        }\r\n        marcHPoints[0] = this.radialLabelCollections.filter(function (c) { return c['value'] === calValue1; });\r\n        marcHPoints[1] = this.radialLabelCollections.filter(function (c) { return c['value'] === calValue2; });\r\n        return marcHPoints;\r\n    };\r\n    AxisRender.prototype.intersectingCirclePoints = function (x1, y1, r1, x2, y2, r2, renderType) {\r\n        var point = { x: 0, y: 0 };\r\n        var cx = x1 - x2;\r\n        var cy = y1 - y2;\r\n        var midRadius = Math.sqrt(cx * cx + cy * cy);\r\n        var radiusSquare = midRadius * midRadius;\r\n        var a = (r1 * r1 - r2 * r2) / (2 * radiusSquare);\r\n        var radiusSquare2 = (r1 * r1 - r2 * r2);\r\n        var c = Math.sqrt(2 * (r1 * r1 + r2 * r2) / radiusSquare - (radiusSquare2 * radiusSquare2) / (radiusSquare * radiusSquare) - 1);\r\n        var fx = (x1 + x2) / 2 + a * (x2 - x1);\r\n        var gx = c * (y2 - y1) / 2;\r\n        var ix1 = fx + gx;\r\n        var ix2 = fx - gx;\r\n        var fy = (y1 + y2) / 2 + a * (y2 - y1);\r\n        var gy = c * (x1 - x2) / 2;\r\n        var iy1 = fy + gy;\r\n        var iy2 = fy - gy;\r\n        if (renderType === 'Impedance') {\r\n            if (ix2 < ix1) {\r\n                point.x = ix2;\r\n                point.y = iy2;\r\n            }\r\n            else {\r\n                point.x = ix1;\r\n                point.y = iy1;\r\n            }\r\n        }\r\n        else {\r\n            if (ix1 > ix2) {\r\n                point.x = ix1;\r\n                point.y = iy1;\r\n            }\r\n            else {\r\n                point.x = ix2;\r\n                point.y = iy2;\r\n            }\r\n        }\r\n        return { x: point.x, y: point.y };\r\n    };\r\n    AxisRender.prototype.updateHMajorGridLines = function (smithchart) {\r\n        var majorGridLine = smithchart.horizontalAxis.majorGridLines;\r\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_horizontalAxisMajorGridLines' });\r\n        var path = this.calculateGridLinesPath(this.majorHGridArcPoints);\r\n        var haxismgoptions = new PathOption(smithchart.element.id + '_horizontalAxisMajorGridLines', 'none', majorGridLine['width'], majorGridLine.color ? majorGridLine.color : smithchart.themeStyle.majorGridLine, majorGridLine['opacity'], majorGridLine['dashArray'], path);\r\n        var element = smithchart.renderer.drawPath(haxismgoptions);\r\n        groupElement.appendChild(element);\r\n        smithchart.svgObject.appendChild(groupElement);\r\n    };\r\n    AxisRender.prototype.updateRMajorGridLines = function (smithchart) {\r\n        var majorGridLine = smithchart.radialAxis.majorGridLines;\r\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_radialAxisMajorGridLines' });\r\n        var path = this.calculateGridLinesPath(this.majorRGridArcPoints);\r\n        var raxismgoptions = new PathOption(smithchart.element.id + '_radialAxisMajorGridLines', 'none', majorGridLine['width'], majorGridLine.color ? majorGridLine.color : smithchart.themeStyle.majorGridLine, majorGridLine['opacity'], majorGridLine['dashArray'], path);\r\n        var element = smithchart.renderer.drawPath(raxismgoptions);\r\n        groupElement.appendChild(element);\r\n        smithchart.svgObject.appendChild(groupElement);\r\n    };\r\n    AxisRender.prototype.updateHAxisLine = function (smithchart) {\r\n        var radius = this.areaRadius;\r\n        var axisLine = smithchart.horizontalAxis.axisLine;\r\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_hAxisLine' });\r\n        var point1 = { x: this.circleCenterX + radius, y: this.circleCenterY };\r\n        var point2 = { x: this.circleCenterX + radius, y: (this.circleCenterY - 0.05) };\r\n        var size = { width: radius, height: radius };\r\n        var sweep = this.direction['clockwise'];\r\n        var isLargeArc = 1;\r\n        var angle = Math.PI * 2;\r\n        var direction = 'M' + '' + point1.x + ' ' + point1.y + ' ' + 'A' + ' ' + size.width +\r\n            ' ' + size.height + ' ' + angle + ' ' + isLargeArc + ' ' + sweep + ' ' + point2.x + ' ' + point2.y + '';\r\n        var options = new PathOption(smithchart.element.id + '_horizontalAxisLine', 'none', axisLine.width, axisLine.color ? axisLine.color : smithchart.themeStyle.axisLine, 1, axisLine.dashArray, direction);\r\n        var element = smithchart.renderer.drawPath(options);\r\n        groupElement.appendChild(element);\r\n        smithchart.svgObject.appendChild(groupElement);\r\n    };\r\n    AxisRender.prototype.updateRAxisLine = function (smithchart) {\r\n        var radius = this.areaRadius;\r\n        var axisLine = smithchart.radialAxis.axisLine;\r\n        var point1 = { x: this.circleCenterX - radius, y: this.circleCenterY };\r\n        var point2 = { x: this.circleCenterX + radius, y: this.circleCenterY };\r\n        var size = { width: 0, height: 0 };\r\n        var sweep = this.direction['counterclockwise'];\r\n        var isLargeArc = 0;\r\n        var angle = 0;\r\n        var direction = 'M' + ' ' + point1.x + ' ' + point1.y + ' ' + 'A' + ' ' +\r\n            size.width + ' ' + size.height + ' ' + angle + ' ' + isLargeArc + ' ' + sweep + ' ' +\r\n            point2.x + ' ' + point2.y + '';\r\n        var options = new PathOption(smithchart.element.id + '_radialAxisLine', 'none', axisLine.width, axisLine.color ? axisLine.color : smithchart.themeStyle.axisLine, 1, axisLine.dashArray, direction);\r\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_rAxisLine' });\r\n        var element = smithchart.renderer.drawPath(options);\r\n        groupElement.appendChild(element);\r\n        smithchart.svgObject.appendChild(groupElement);\r\n    };\r\n    AxisRender.prototype.drawHAxisLabels = function (smithchart) {\r\n        var hAxis = smithchart.horizontalAxis;\r\n        smithchart.radialAxis.labelStyle.fontFamily = smithchart.themeStyle.fontFamily || smithchart.radialAxis.labelStyle.fontFamily;\r\n        var font = smithchart.horizontalAxis.labelStyle;\r\n        var circleAxis;\r\n        var label;\r\n        var x;\r\n        var y;\r\n        var textSize;\r\n        var curLabel;\r\n        var curLabelBounds;\r\n        var curWidth;\r\n        var curX;\r\n        var preLabel;\r\n        var preLabelBounds;\r\n        var preWidth;\r\n        var preX;\r\n        var groupEle = smithchart.renderer.createGroup({ id: smithchart.element.id + '_HAxisLabels' });\r\n        var _loop_1 = function (i) {\r\n            circleAxis = this_1.horizontalLabelCollections[i];\r\n            label = this_1.horizontalLabelCollections[i].value.toString();\r\n            if (circleAxis.value !== 0.0) {\r\n                x = (smithchart.renderType === 'Impedance') ?\r\n                    circleAxis.centerX - circleAxis.radius : circleAxis.centerX + circleAxis.radius;\r\n                y = circleAxis.centerY;\r\n                textSize = measureText(label, font);\r\n                x = (smithchart.renderType === 'Impedance') ? x - textSize.width : x;\r\n                if (hAxis.labelPosition === 'Outside') {\r\n                    y -= textSize.height / 4;\r\n                }\r\n                else {\r\n                    y += textSize.height;\r\n                }\r\n                this_1.horizontalLabelCollections[i].region = this_1.calculateRegion(label, textSize, x, y);\r\n                if (hAxis.labelIntersectAction === 'Hide') {\r\n                    curLabel = this_1.horizontalLabelCollections[i];\r\n                    curLabelBounds = curLabel.region.bounds;\r\n                    curWidth = curLabelBounds.width;\r\n                    curX = curLabelBounds.x;\r\n                    for (var j = 1; j < i; j++) {\r\n                        preLabel = this_1.horizontalLabelCollections[j];\r\n                        preLabelBounds = preLabel.region.bounds;\r\n                        preWidth = preLabelBounds.width;\r\n                        preX = preLabelBounds.x;\r\n                        if ((smithchart.renderType === 'Impedance') &&\r\n                            (preX + preWidth) > (curX)) {\r\n                            label = '';\r\n                        }\r\n                        if ((smithchart.renderType === 'Admittance') &&\r\n                            (preX) < curX + curWidth) {\r\n                            label = '';\r\n                        }\r\n                    }\r\n                }\r\n                var axisLabelRenderEventArgs_1 = {\r\n                    text: label.toString(),\r\n                    x: x,\r\n                    y: y,\r\n                    name: axisLabelRender,\r\n                    cancel: false\r\n                };\r\n                var axisLabelRenderSuccess = function (args) {\r\n                    if (!args.cancel) {\r\n                        var options = new TextOption(smithchart.element.id + '_HLabel_' + i, axisLabelRenderEventArgs_1.x, axisLabelRenderEventArgs_1.y, 'none', axisLabelRenderEventArgs_1.text);\r\n                        var color = font.color ? font.color : smithchart.themeStyle.axisLabel;\r\n                        font.fontFamily = font.fontFamily || smithchart.themeStyle.labelFontFamily;\r\n                        var element = renderTextElement(options, font, color, groupEle);\r\n                        groupEle.appendChild(element);\r\n                    }\r\n                };\r\n                axisLabelRenderSuccess.bind(this_1);\r\n                smithchart.trigger(axisLabelRender, axisLabelRenderEventArgs_1, axisLabelRenderSuccess);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < this.horizontalLabelCollections.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        smithchart.svgObject.appendChild(groupEle);\r\n    };\r\n    AxisRender.prototype.drawRAxisLabels = function (smithchart) {\r\n        var paddingRadius = 2;\r\n        smithchart.radialAxis.labelStyle.fontFamily = smithchart.themeStyle.fontFamily || smithchart.radialAxis.labelStyle.fontFamily;\r\n        var font = smithchart.radialAxis.labelStyle;\r\n        var interSectPoint = new RadialLabelCollections();\r\n        var label;\r\n        var textSize;\r\n        var angle;\r\n        var position;\r\n        var textPosition;\r\n        var curX;\r\n        var curY;\r\n        var curWidth;\r\n        var curHeight;\r\n        var curLabel;\r\n        var curLabelBounds;\r\n        var preX;\r\n        var preY;\r\n        var preWidth;\r\n        var preHeight;\r\n        var preLabel;\r\n        var preLabelBounds;\r\n        var rAxis = smithchart.radialAxis;\r\n        var groupEle = smithchart.renderer.createGroup({ id: smithchart.element.id + '_RAxisLabels' });\r\n        var _loop_2 = function (i) {\r\n            interSectPoint = this_2.labelCollections[i];\r\n            label = interSectPoint.value.toString();\r\n            textSize = measureText(label, font);\r\n            angle = Math.round(interSectPoint.angle * 100) / 100;\r\n            if (rAxis.labelPosition === 'Outside') {\r\n                position = this_2.circlePointPosition(this_2.circleCenterX, this_2.circleCenterY, interSectPoint['angle'], this_2.areaRadius + paddingRadius);\r\n                textPosition = this_2.setLabelsOutsidePosition(angle, position.x, position.y, textSize);\r\n            }\r\n            else {\r\n                position = this_2.circlePointPosition(this_2.circleCenterX, this_2.circleCenterY, interSectPoint['angle'], this_2.areaRadius - paddingRadius);\r\n                textPosition = this_2.setLabelsInsidePosition(angle, position.x, position.y, textSize);\r\n            }\r\n            this_2.labelCollections[i]['region'] = this_2.calculateRegion(label, textSize, textPosition.x, textPosition.y);\r\n            if (rAxis.labelIntersectAction === 'Hide') {\r\n                curLabel = this_2.labelCollections[i];\r\n                curLabelBounds = curLabel['region']['bounds'];\r\n                curWidth = curLabelBounds['width'];\r\n                curHeight = curLabelBounds['height'];\r\n                curX = curLabelBounds['x'];\r\n                curY = curLabelBounds['y'];\r\n                for (var j = 0; j < i; j++) {\r\n                    preLabel = this_2.labelCollections[j];\r\n                    preLabelBounds = preLabel['region']['bounds'];\r\n                    preWidth = preLabelBounds['width'];\r\n                    preHeight = preLabelBounds['height'];\r\n                    preX = preLabelBounds['x'];\r\n                    preY = preLabelBounds['y'];\r\n                    if ((preX <= curX + curWidth) && (curX <= preX + preWidth) && (preY <= curY + curHeight)\r\n                        && (curY <= preY + preHeight)) {\r\n                        label = ' ';\r\n                    }\r\n                }\r\n            }\r\n            var axisLabelRenderEventArgs = {\r\n                text: label.toString(),\r\n                x: textPosition.x,\r\n                y: textPosition.y,\r\n                name: axisLabelRender,\r\n                cancel: false\r\n            };\r\n            var axisLabelRenderSuccess = function (args) {\r\n                if (!args.cancel) {\r\n                    var options = new TextOption(smithchart.element.id + '_RLabel_' + i, axisLabelRenderEventArgs.x, axisLabelRenderEventArgs.y, 'none', axisLabelRenderEventArgs.text);\r\n                    var color = font.color ? font.color : smithchart.themeStyle.axisLabel;\r\n                    font.fontFamily = smithchart.themeStyle.labelFontFamily ? smithchart.themeStyle.labelFontFamily : font.fontFamily;\r\n                    var element = renderTextElement(options, font, color, groupEle);\r\n                    groupEle.appendChild(element);\r\n                }\r\n            };\r\n            axisLabelRenderSuccess.bind(this_2);\r\n            smithchart.trigger(axisLabelRender, axisLabelRenderEventArgs, axisLabelRenderSuccess);\r\n        };\r\n        var this_2 = this;\r\n        for (var i = 0; i < this.labelCollections.length; i++) {\r\n            _loop_2(i);\r\n        }\r\n        smithchart.svgObject.appendChild(groupEle);\r\n    };\r\n    AxisRender.prototype.calculateRegion = function (label, textSize, textPositionX, textPositionY) {\r\n        var xAxisLabelRegions = new LabelRegion();\r\n        var bounds = { x: textPositionX, y: textPositionY, width: textSize.width, height: textSize.height };\r\n        xAxisLabelRegions = { bounds: bounds, labelText: label };\r\n        return xAxisLabelRegions;\r\n    };\r\n    AxisRender.prototype.updateHMinorGridLines = function (smithchart) {\r\n        var minorGridLine = smithchart.horizontalAxis.minorGridLines;\r\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_horizontalAxisMinorGridLines' });\r\n        var path = this.calculateGridLinesPath(this.minorHGridArcPoints);\r\n        var haxismioptions = new PathOption(smithchart.element.id + '_horizontalAxisMinorGridLines', 'none', minorGridLine['width'], minorGridLine.color ? minorGridLine.color : smithchart.themeStyle.minorGridLine, minorGridLine['opacity'], minorGridLine['dashArray'], path);\r\n        var element = smithchart.renderer.drawPath(haxismioptions);\r\n        groupElement.appendChild(element);\r\n        smithchart.svgObject.appendChild(groupElement);\r\n    };\r\n    AxisRender.prototype.updateRMinorGridLines = function (smithchart) {\r\n        var minorGridLine = smithchart.radialAxis.minorGridLines;\r\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_radialAxisMinorGridLines' });\r\n        var path = this.calculateGridLinesPath(this.minorGridArcPoints);\r\n        var raxismioptions = new PathOption(smithchart.element.id + '_radialAxisMinorGridLines', 'none', minorGridLine['width'], minorGridLine.color ? minorGridLine.color : smithchart.themeStyle.minorGridLine, minorGridLine['opacity'], minorGridLine['dashArray'], path);\r\n        var element = smithchart.renderer.drawPath(raxismioptions);\r\n        groupElement.appendChild(element);\r\n        smithchart.svgObject.appendChild(groupElement);\r\n    };\r\n    AxisRender.prototype.calculateGridLinesPath = function (points) {\r\n        var x1;\r\n        var y1;\r\n        var x2;\r\n        var y2;\r\n        var r1;\r\n        var r2;\r\n        var pathSegment = new GridArcPoints();\r\n        var angle;\r\n        var isLargeArc;\r\n        var sweep;\r\n        var sb = '';\r\n        for (var i = 0; i < points.length; i++) {\r\n            pathSegment = points[i];\r\n            x1 = pathSegment.startPoint.x;\r\n            y1 = pathSegment.startPoint.y;\r\n            x2 = pathSegment.endPoint.x;\r\n            y2 = pathSegment.endPoint.y;\r\n            r1 = pathSegment.size ? pathSegment.size.width : 0;\r\n            r2 = pathSegment.size ? pathSegment.size.height : 0;\r\n            angle = pathSegment.rotationAngle ? pathSegment.rotationAngle : 0;\r\n            isLargeArc = pathSegment.isLargeArc ? 1 : 0;\r\n            sweep = pathSegment.sweepDirection ? pathSegment.sweepDirection : 0;\r\n            sb = sb + ('M' + ' ' + x1 + ' ' + y1 + ' ' + 'A' + ' ' + r1 + ' ' + r2 + ' ' +\r\n                angle + ' ' + isLargeArc + ' ' + sweep + ' ' + x2 + ' ' + y2 + ' ');\r\n        }\r\n        var path = sb.toString();\r\n        return path;\r\n    };\r\n    AxisRender.prototype.measureHMinorGridLines = function (smithchart) {\r\n        var radialPoint1;\r\n        var radialPoint2;\r\n        var arcPoints = [];\r\n        var isLargeArc;\r\n        var startPoint;\r\n        var endPoint;\r\n        var size;\r\n        var cx;\r\n        var maxCount = smithchart.horizontalAxis.minorGridLines.count;\r\n        var previous;\r\n        var next;\r\n        var space;\r\n        var count;\r\n        var interval;\r\n        var radius;\r\n        var leftX;\r\n        this.minorHGridArcPoints = [];\r\n        var diameter = this.areaRadius * 2;\r\n        for (var i = 0; i < this.horizontalLabelCollections.length - 3; i++) {\r\n            previous = this.horizontalLabelCollections[i];\r\n            next = this.horizontalLabelCollections[i + 1];\r\n            space = (previous['radius'] - next['radius']) * 2;\r\n            count = Math.floor((maxCount / 100) * space);\r\n            interval = space / count;\r\n            for (var j = 0; j < count; j++) {\r\n                radius = next['radius'] + (j * interval) / 2;\r\n                leftX = (smithchart.renderType === 'Impedance') ?\r\n                    (this.circleLeftX + diameter) - (radius * 2) : this.circleLeftX;\r\n                cx = leftX + radius;\r\n                isLargeArc = next['value'] > 5;\r\n                arcPoints = this.calculateMinorArcStartEndPoints(next['value']);\r\n                if (smithchart.renderType === 'Impedance') {\r\n                    radialPoint1 = arcPoints[0];\r\n                    radialPoint2 = arcPoints[1];\r\n                }\r\n                else {\r\n                    radialPoint1 = arcPoints[1];\r\n                    radialPoint2 = arcPoints[0];\r\n                }\r\n                startPoint = this.intersectingCirclePoints(radialPoint1[0].centerX, radialPoint1[0].centerY, radialPoint1[0].radius, cx, previous['centerY'], radius, smithchart.renderType);\r\n                endPoint = this.intersectingCirclePoints(radialPoint2[0].centerX, radialPoint2[0].centerY, radialPoint2[0].radius, cx, previous['centerY'], radius, smithchart.renderType);\r\n                size = { width: radius, height: radius };\r\n                this.minorHGridArcPoints.push({\r\n                    startPoint: startPoint,\r\n                    endPoint: endPoint,\r\n                    rotationAngle: 2 * Math.PI,\r\n                    sweepDirection: (smithchart.renderType === 'Impedance') ?\r\n                        this.direction['counterclockwise'] : this.direction['clockwise'],\r\n                    isLargeArc: isLargeArc,\r\n                    size: size\r\n                });\r\n            }\r\n        }\r\n    };\r\n    AxisRender.prototype.measureRMinorGridLines = function (smithchart) {\r\n        var maxCount = smithchart.radialAxis.minorGridLines.count;\r\n        var arcCx;\r\n        var nextAngle;\r\n        var k = 0;\r\n        var betweenAngle;\r\n        var circlePoint;\r\n        var previous;\r\n        var next;\r\n        var size;\r\n        var distance;\r\n        var count;\r\n        var interval;\r\n        var centerValue;\r\n        var circumference = Math.PI * (this.areaRadius * 2);\r\n        var arcStartX = arcCx = (smithchart.renderType === 'Impedance') ?\r\n            this.circleCenterX + this.areaRadius : this.circleCenterX - this.areaRadius;\r\n        var arcStartY = this.circleCenterY;\r\n        this.minorGridArcPoints = [];\r\n        var arcStartPoint = { x: arcStartX, y: arcStartY };\r\n        for (var i = 2; i < this.labelCollections.length - 3; i++) {\r\n            previous = this.labelCollections[i];\r\n            next = this.labelCollections[i + 1];\r\n            if (smithchart.renderType === 'Impedance') {\r\n                nextAngle = next['angle'] === 360 ? 0 : next['angle'];\r\n                betweenAngle = Math.abs(nextAngle - previous['angle']);\r\n            }\r\n            else {\r\n                nextAngle = previous['angle'] === 360 ? 0 : previous['angle'];\r\n                betweenAngle = Math.abs(nextAngle - next['angle']);\r\n            }\r\n            distance = (circumference / 360) * betweenAngle;\r\n            count = Math.floor((maxCount / 100) * distance);\r\n            interval = betweenAngle / count;\r\n            centerValue = next['value'] > 0 ? next['value'] : previous['value'];\r\n            circlePoint = this.minorGridLineArcIntersectCircle(Math.abs(centerValue));\r\n            for (var j = 1; j < count; j++) {\r\n                var outterInterSectAngle = (interval * j) + (previous['angle'] === 360 ? nextAngle : previous['angle']);\r\n                var outerInterSectPoint = this.circlePointPosition(this.circleCenterX, this.circleCenterY, outterInterSectAngle, this.areaRadius);\r\n                var radius = this.arcRadius(arcStartPoint, outerInterSectPoint, outterInterSectAngle);\r\n                var arcCy = outterInterSectAngle > 180 ? this.circleCenterY - radius : this.circleCenterY + radius;\r\n                var innerInterSectPoint = this.intersectingCirclePoints(arcCx, arcCy, radius, circlePoint[0].centerX, circlePoint[0].centerY, circlePoint[0].radius, smithchart.renderType);\r\n                var startPoint = { x: innerInterSectPoint.x, y: innerInterSectPoint.y };\r\n                var endPoint = { x: outerInterSectPoint.x, y: outerInterSectPoint.y };\r\n                size = { width: radius, height: radius };\r\n                var sweepDirection = previous['value'] >= 0 ? this.direction['clockwise'] : this.direction['counterclockwise'];\r\n                this.minorGridArcPoints.push({\r\n                    startPoint: startPoint,\r\n                    endPoint: endPoint,\r\n                    rotationAngle: 2 * Math.PI,\r\n                    sweepDirection: sweepDirection,\r\n                    isLargeArc: false,\r\n                    size: size\r\n                });\r\n                k++;\r\n            }\r\n        }\r\n    };\r\n    AxisRender.prototype.minorGridLineArcIntersectCircle = function (centerValue) {\r\n        var calValue;\r\n        if (centerValue >= 3) {\r\n            calValue = 20;\r\n        }\r\n        else if (centerValue >= 1.5) {\r\n            calValue = 10;\r\n        }\r\n        else if (centerValue >= 0.6) {\r\n            calValue = 3;\r\n        }\r\n        else {\r\n            calValue = 2;\r\n        }\r\n        var circlePoint = this.horizontalLabelCollections.filter(function (c) { return c['value'] === calValue; });\r\n        return circlePoint;\r\n    };\r\n    AxisRender.prototype.circlePointPosition = function (cx, cy, angle, r) {\r\n        var radian = angle * (Math.PI / 180);\r\n        var pointX = cx + r * Math.cos(radian);\r\n        var pointY = cy + r * Math.sin(radian);\r\n        return { x: pointX, y: pointY };\r\n    };\r\n    AxisRender.prototype.setLabelsInsidePosition = function (angle, px, py, textSize) {\r\n        var x = px;\r\n        var y = py;\r\n        if (angle === 0 || angle === 360) {\r\n            x -= textSize.width;\r\n            y -= textSize.height / 2;\r\n        }\r\n        else if (angle === 90) {\r\n            x -= textSize.width;\r\n            y += textSize.height / 8;\r\n        }\r\n        else if (angle === 180) {\r\n            y += textSize.height;\r\n        }\r\n        else if (angle === 270) {\r\n            y += textSize.height / 2;\r\n        }\r\n        else if (angle > 0 && angle <= 20) {\r\n            x -= (textSize.width);\r\n        }\r\n        else if (angle > 20 && angle <= 60) {\r\n            x -= (textSize.width + textSize.width / 2);\r\n            y += textSize.height / 2;\r\n        }\r\n        else if (angle > 60 && angle < 90) {\r\n            x -= (textSize.width + textSize.width / 4);\r\n            y += textSize.height / 4;\r\n        }\r\n        else if (angle > 90 && angle <= 135) {\r\n            x -= (textSize.width / 2);\r\n            y += (textSize.height) / 16;\r\n        }\r\n        else if (angle > 135 && angle <= 150) {\r\n            x += (textSize.width / 2);\r\n            y += (textSize.height / 2);\r\n        }\r\n        else if (angle > 150 && angle < 180) {\r\n            x += (textSize.width / 2);\r\n            y += (textSize.height);\r\n        }\r\n        else if (angle > 180 && angle <= 210) {\r\n            x += (textSize.width / 6);\r\n            y += (textSize.height / 6);\r\n        }\r\n        else if (angle > 210 && angle < 240) {\r\n            y += (textSize.height / 4);\r\n        }\r\n        else if (angle > 225 && angle < 270) {\r\n            y += (textSize.height / 3);\r\n        }\r\n        else if (angle > 270 && angle <= 300) {\r\n            x -= (textSize.width + textSize.width / 4);\r\n            y += (textSize.height / 4);\r\n        }\r\n        else if (angle > 300 && angle <= 330) {\r\n            x -= (textSize.width + textSize.width / 3);\r\n            y += (textSize.height / 4);\r\n        }\r\n        else if (angle > 330 && angle <= 340) {\r\n            x -= (textSize.width + textSize.width / 2);\r\n            y += textSize.height / 4;\r\n        }\r\n        else if (angle > 340) {\r\n            x -= textSize.width;\r\n            y += textSize.height / 8;\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    AxisRender.prototype.setLabelsOutsidePosition = function (angle, px, py, textSize) {\r\n        var x = px;\r\n        var y = py;\r\n        if (angle === 90) {\r\n            x -= textSize.width / 2;\r\n            y += textSize.height;\r\n        }\r\n        else if (angle === 180) {\r\n            x -= (textSize.width + 5);\r\n            y -= textSize.height / 4;\r\n        }\r\n        else if (angle === 270) {\r\n            x -= textSize.width / 2;\r\n            y -= textSize.height / 4;\r\n        }\r\n        else if (angle === 360) {\r\n            x += 5;\r\n            y -= textSize.height / 2;\r\n        }\r\n        else if (angle > 0 && angle <= 30) {\r\n            x += textSize.width / 4;\r\n            y += textSize.height / 8;\r\n        }\r\n        else if (angle > 30 && angle <= 60) {\r\n            x += textSize.width / 2;\r\n            y += textSize.height / 4;\r\n        }\r\n        else if (angle > 60 && angle <= 90) {\r\n            x -= textSize.width / 2;\r\n            y += textSize.height;\r\n        }\r\n        else if (angle > 90 && angle <= 135) {\r\n            x -= textSize.width;\r\n            y += textSize.height;\r\n        }\r\n        else if (angle > 135 && angle <= 180) {\r\n            x -= (textSize.width + textSize.width / 4);\r\n            y += textSize.height / 4;\r\n        }\r\n        else if (angle > 180 && angle <= 210) {\r\n            x -= textSize.width + textSize.width / 4;\r\n            y -= textSize.height / 4;\r\n        }\r\n        else if (angle > 210 && angle <= 270) {\r\n            x -= textSize.width;\r\n            y -= textSize.height / 4;\r\n        }\r\n        else if (angle > 270 && angle <= 340) {\r\n            y -= textSize.height / 4;\r\n        }\r\n        else if (angle > 340) {\r\n            y += textSize.height / 4;\r\n            x += textSize.width / 6;\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    AxisRender.prototype.arcRadius = function (startPoint, endPoint, angle) {\r\n        var radian = angle > 180 ? (90 * Math.PI / 180) : (270 * Math.PI / 180); // Angle 90 and 270 used for calculating upper and lower circle\r\n        var mx = (endPoint.x - startPoint.x) / 2;\r\n        var my = (endPoint.y - startPoint.y) / 2;\r\n        var u = (Math.cos(radian) * my - Math.sin(radian) * mx) / (Math.cos(radian) * mx + Math.sin(radian) * my);\r\n        var t = (my - mx * u) / Math.sin(radian);\r\n        var cy = startPoint.y + Math.sin(radian) * t;\r\n        var radius = Math.abs(startPoint.y - cy);\r\n        return radius;\r\n    };\r\n    return AxisRender;\r\n}());\r\nexport { AxisRender };\r\n"]},"metadata":{},"sourceType":"module"}