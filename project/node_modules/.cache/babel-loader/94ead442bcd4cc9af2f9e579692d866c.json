{"ast":null,"code":"import { isIndex } from '../../utils/is.js';\nimport { clone } from '../../utils/object.js';\nimport { validateIndex } from '../../utils/array.js';\nimport { getSafeProperty, setSafeProperty } from '../../utils/customs.js';\nimport { DimensionError } from '../../error/DimensionError.js';\nimport { factory } from '../../utils/factory.js';\nvar name = 'subset';\nvar dependencies = ['typed', 'matrix'];\nexport var createSubset = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed,\n    matrix\n  } = _ref;\n  /**\r\n   * Get or set a subset of a matrix or string.\r\n   *\r\n   * Syntax:\r\n   *     math.subset(value, index)                                // retrieve a subset\r\n   *     math.subset(value, index, replacement [, defaultValue])  // replace a subset\r\n   *\r\n   * Examples:\r\n   *\r\n   *     // get a subset\r\n   *     const d = [[1, 2], [3, 4]]\r\n   *     math.subset(d, math.index(1, 0))        // returns 3\r\n   *     math.subset(d, math.index([0, 1], 1))   // returns [[2], [4]]\r\n   *\r\n   *     // replace a subset\r\n   *     const e = []\r\n   *     const f = math.subset(e, math.index(0, [0, 2]), [5, 6])  // f = [[5, 6]]\r\n   *     const g = math.subset(f, math.index(1, 1), 7, 0)         // g = [[5, 6], [0, 7]]\r\n   *\r\n   *     // get submatrix using ranges\r\n   *     const M = [\r\n   *       [1,2,3],\r\n   *       [4,5,6],\r\n   *       [7,8,9]\r\n   *     ]\r\n   *     math.subset(M, math.index(math.range(0,2), math.range(0,3))) // [[1,2,3],[4,5,6]]\r\n   *\r\n   * See also:\r\n   *\r\n   *     size, resize, squeeze, index\r\n   *\r\n   * @param {Array | Matrix | string} matrix  An array, matrix, or string\r\n   * @param {Index} index\r\n   *    For each dimension of the target, specifies an index or a list of\r\n   *    indices to fetch or set. `subset` uses the cartesian product of\r\n   *    the indices specified in each dimension.\r\n   * @param {*} [replacement]                 An array, matrix, or scalar.\r\n   *                                          If provided, the subset is replaced with replacement.\r\n   *                                          If not provided, the subset is returned\r\n   * @param {*} [defaultValue=undefined]      Default value, filled in on new entries when\r\n   *                                          the matrix is resized. If not provided,\r\n   *                                          math.matrix elements will be left undefined.\r\n   * @return {Array | Matrix | string} Either the retrieved subset or the updated matrix.\r\n   */\n\n  return typed(name, {\n    // get subset\n    'Array, Index': function ArrayIndex(value, index) {\n      var m = matrix(value);\n      var subset = m.subset(index); // returns a Matrix\n\n      return index.isScalar() ? subset : subset.valueOf(); // return an Array (like the input)\n    },\n    'Matrix, Index': function MatrixIndex(value, index) {\n      return value.subset(index);\n    },\n    'Object, Index': _getObjectProperty,\n    'string, Index': _getSubstring,\n    // set subset\n    'Array, Index, any': function ArrayIndexAny(value, index, replacement) {\n      return matrix(clone(value)).subset(index, replacement, undefined).valueOf();\n    },\n    'Array, Index, any, any': function ArrayIndexAnyAny(value, index, replacement, defaultValue) {\n      return matrix(clone(value)).subset(index, replacement, defaultValue).valueOf();\n    },\n    'Matrix, Index, any': function MatrixIndexAny(value, index, replacement) {\n      return value.clone().subset(index, replacement);\n    },\n    'Matrix, Index, any, any': function MatrixIndexAnyAny(value, index, replacement, defaultValue) {\n      return value.clone().subset(index, replacement, defaultValue);\n    },\n    'string, Index, string': _setSubstring,\n    'string, Index, string, string': _setSubstring,\n    'Object, Index, any': _setObjectProperty\n  });\n});\n/**\r\n * Retrieve a subset of a string\r\n * @param {string} str            string from which to get a substring\r\n * @param {Index} index           An index or list of indices (character positions)\r\n * @returns {string} substring\r\n * @private\r\n */\n\nfunction _getSubstring(str, index) {\n  if (!isIndex(index)) {\n    // TODO: better error message\n    throw new TypeError('Index expected');\n  }\n\n  if (index.size().length !== 1) {\n    throw new DimensionError(index.size().length, 1);\n  } // validate whether the range is out of range\n\n\n  var strLen = str.length;\n  validateIndex(index.min()[0], strLen);\n  validateIndex(index.max()[0], strLen);\n  var range = index.dimension(0);\n  var substr = '';\n  range.forEach(function (v) {\n    substr += str.charAt(v);\n  });\n  return substr;\n}\n/**\r\n * Replace a substring in a string\r\n * @param {string} str            string to be replaced\r\n * @param {Index} index           An index or list of indices (character positions)\r\n * @param {string} replacement    Replacement string\r\n * @param {string} [defaultValue] Default value to be uses when resizing\r\n *                                the string. is ' ' by default\r\n * @returns {string} result\r\n * @private\r\n */\n\n\nfunction _setSubstring(str, index, replacement, defaultValue) {\n  if (!index || index.isIndex !== true) {\n    // TODO: better error message\n    throw new TypeError('Index expected');\n  }\n\n  if (index.size().length !== 1) {\n    throw new DimensionError(index.size().length, 1);\n  }\n\n  if (defaultValue !== undefined) {\n    if (typeof defaultValue !== 'string' || defaultValue.length !== 1) {\n      throw new TypeError('Single character expected as defaultValue');\n    }\n  } else {\n    defaultValue = ' ';\n  }\n\n  var range = index.dimension(0);\n  var len = range.size()[0];\n\n  if (len !== replacement.length) {\n    throw new DimensionError(range.size()[0], replacement.length);\n  } // validate whether the range is out of range\n\n\n  var strLen = str.length;\n  validateIndex(index.min()[0]);\n  validateIndex(index.max()[0]); // copy the string into an array with characters\n\n  var chars = [];\n\n  for (var i = 0; i < strLen; i++) {\n    chars[i] = str.charAt(i);\n  }\n\n  range.forEach(function (v, i) {\n    chars[v] = replacement.charAt(i[0]);\n  }); // initialize undefined characters with a space\n\n  if (chars.length > strLen) {\n    for (var _i = strLen - 1, _len = chars.length; _i < _len; _i++) {\n      if (!chars[_i]) {\n        chars[_i] = defaultValue;\n      }\n    }\n  }\n\n  return chars.join('');\n}\n/**\r\n * Retrieve a property from an object\r\n * @param {Object} object\r\n * @param {Index} index\r\n * @return {*} Returns the value of the property\r\n * @private\r\n */\n\n\nfunction _getObjectProperty(object, index) {\n  if (index.size().length !== 1) {\n    throw new DimensionError(index.size(), 1);\n  }\n\n  var key = index.dimension(0);\n\n  if (typeof key !== 'string') {\n    throw new TypeError('String expected as index to retrieve an object property');\n  }\n\n  return getSafeProperty(object, key);\n}\n/**\r\n * Set a property on an object\r\n * @param {Object} object\r\n * @param {Index} index\r\n * @param {*} replacement\r\n * @return {*} Returns the updated object\r\n * @private\r\n */\n\n\nfunction _setObjectProperty(object, index, replacement) {\n  if (index.size().length !== 1) {\n    throw new DimensionError(index.size(), 1);\n  }\n\n  var key = index.dimension(0);\n\n  if (typeof key !== 'string') {\n    throw new TypeError('String expected as index to retrieve an object property');\n  } // clone the object, and apply the property to the clone\n\n\n  var updated = clone(object);\n  setSafeProperty(updated, key, replacement);\n  return updated;\n}","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/mathjs/lib/esm/function/matrix/subset.js"],"names":["isIndex","clone","validateIndex","getSafeProperty","setSafeProperty","DimensionError","factory","name","dependencies","createSubset","_ref","typed","matrix","ArrayIndex","value","index","m","subset","isScalar","valueOf","MatrixIndex","_getObjectProperty","_getSubstring","ArrayIndexAny","replacement","undefined","ArrayIndexAnyAny","defaultValue","MatrixIndexAny","MatrixIndexAnyAny","_setSubstring","_setObjectProperty","str","TypeError","size","length","strLen","min","max","range","dimension","substr","forEach","v","charAt","len","chars","i","_i","_len","join","object","key","updated"],"mappings":"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","sourcesContent":["import { isIndex } from '../../utils/is.js';\r\nimport { clone } from '../../utils/object.js';\r\nimport { validateIndex } from '../../utils/array.js';\r\nimport { getSafeProperty, setSafeProperty } from '../../utils/customs.js';\r\nimport { DimensionError } from '../../error/DimensionError.js';\r\nimport { factory } from '../../utils/factory.js';\r\nvar name = 'subset';\r\nvar dependencies = ['typed', 'matrix'];\r\nexport var createSubset = /* #__PURE__ */factory(name, dependencies, _ref => {\r\n  var {\r\n    typed,\r\n    matrix\r\n  } = _ref;\r\n  /**\r\n   * Get or set a subset of a matrix or string.\r\n   *\r\n   * Syntax:\r\n   *     math.subset(value, index)                                // retrieve a subset\r\n   *     math.subset(value, index, replacement [, defaultValue])  // replace a subset\r\n   *\r\n   * Examples:\r\n   *\r\n   *     // get a subset\r\n   *     const d = [[1, 2], [3, 4]]\r\n   *     math.subset(d, math.index(1, 0))        // returns 3\r\n   *     math.subset(d, math.index([0, 1], 1))   // returns [[2], [4]]\r\n   *\r\n   *     // replace a subset\r\n   *     const e = []\r\n   *     const f = math.subset(e, math.index(0, [0, 2]), [5, 6])  // f = [[5, 6]]\r\n   *     const g = math.subset(f, math.index(1, 1), 7, 0)         // g = [[5, 6], [0, 7]]\r\n   *\r\n   *     // get submatrix using ranges\r\n   *     const M = [\r\n   *       [1,2,3],\r\n   *       [4,5,6],\r\n   *       [7,8,9]\r\n   *     ]\r\n   *     math.subset(M, math.index(math.range(0,2), math.range(0,3))) // [[1,2,3],[4,5,6]]\r\n   *\r\n   * See also:\r\n   *\r\n   *     size, resize, squeeze, index\r\n   *\r\n   * @param {Array | Matrix | string} matrix  An array, matrix, or string\r\n   * @param {Index} index\r\n   *    For each dimension of the target, specifies an index or a list of\r\n   *    indices to fetch or set. `subset` uses the cartesian product of\r\n   *    the indices specified in each dimension.\r\n   * @param {*} [replacement]                 An array, matrix, or scalar.\r\n   *                                          If provided, the subset is replaced with replacement.\r\n   *                                          If not provided, the subset is returned\r\n   * @param {*} [defaultValue=undefined]      Default value, filled in on new entries when\r\n   *                                          the matrix is resized. If not provided,\r\n   *                                          math.matrix elements will be left undefined.\r\n   * @return {Array | Matrix | string} Either the retrieved subset or the updated matrix.\r\n   */\r\n  return typed(name, {\r\n    // get subset\r\n    'Array, Index': function ArrayIndex(value, index) {\r\n      var m = matrix(value);\r\n      var subset = m.subset(index); // returns a Matrix\r\n      return index.isScalar() ? subset : subset.valueOf(); // return an Array (like the input)\r\n    },\r\n\r\n    'Matrix, Index': function MatrixIndex(value, index) {\r\n      return value.subset(index);\r\n    },\r\n    'Object, Index': _getObjectProperty,\r\n    'string, Index': _getSubstring,\r\n    // set subset\r\n    'Array, Index, any': function ArrayIndexAny(value, index, replacement) {\r\n      return matrix(clone(value)).subset(index, replacement, undefined).valueOf();\r\n    },\r\n    'Array, Index, any, any': function ArrayIndexAnyAny(value, index, replacement, defaultValue) {\r\n      return matrix(clone(value)).subset(index, replacement, defaultValue).valueOf();\r\n    },\r\n    'Matrix, Index, any': function MatrixIndexAny(value, index, replacement) {\r\n      return value.clone().subset(index, replacement);\r\n    },\r\n    'Matrix, Index, any, any': function MatrixIndexAnyAny(value, index, replacement, defaultValue) {\r\n      return value.clone().subset(index, replacement, defaultValue);\r\n    },\r\n    'string, Index, string': _setSubstring,\r\n    'string, Index, string, string': _setSubstring,\r\n    'Object, Index, any': _setObjectProperty\r\n  });\r\n});\r\n\r\n/**\r\n * Retrieve a subset of a string\r\n * @param {string} str            string from which to get a substring\r\n * @param {Index} index           An index or list of indices (character positions)\r\n * @returns {string} substring\r\n * @private\r\n */\r\nfunction _getSubstring(str, index) {\r\n  if (!isIndex(index)) {\r\n    // TODO: better error message\r\n    throw new TypeError('Index expected');\r\n  }\r\n  if (index.size().length !== 1) {\r\n    throw new DimensionError(index.size().length, 1);\r\n  }\r\n\r\n  // validate whether the range is out of range\r\n  var strLen = str.length;\r\n  validateIndex(index.min()[0], strLen);\r\n  validateIndex(index.max()[0], strLen);\r\n  var range = index.dimension(0);\r\n  var substr = '';\r\n  range.forEach(function (v) {\r\n    substr += str.charAt(v);\r\n  });\r\n  return substr;\r\n}\r\n\r\n/**\r\n * Replace a substring in a string\r\n * @param {string} str            string to be replaced\r\n * @param {Index} index           An index or list of indices (character positions)\r\n * @param {string} replacement    Replacement string\r\n * @param {string} [defaultValue] Default value to be uses when resizing\r\n *                                the string. is ' ' by default\r\n * @returns {string} result\r\n * @private\r\n */\r\nfunction _setSubstring(str, index, replacement, defaultValue) {\r\n  if (!index || index.isIndex !== true) {\r\n    // TODO: better error message\r\n    throw new TypeError('Index expected');\r\n  }\r\n  if (index.size().length !== 1) {\r\n    throw new DimensionError(index.size().length, 1);\r\n  }\r\n  if (defaultValue !== undefined) {\r\n    if (typeof defaultValue !== 'string' || defaultValue.length !== 1) {\r\n      throw new TypeError('Single character expected as defaultValue');\r\n    }\r\n  } else {\r\n    defaultValue = ' ';\r\n  }\r\n  var range = index.dimension(0);\r\n  var len = range.size()[0];\r\n  if (len !== replacement.length) {\r\n    throw new DimensionError(range.size()[0], replacement.length);\r\n  }\r\n\r\n  // validate whether the range is out of range\r\n  var strLen = str.length;\r\n  validateIndex(index.min()[0]);\r\n  validateIndex(index.max()[0]);\r\n\r\n  // copy the string into an array with characters\r\n  var chars = [];\r\n  for (var i = 0; i < strLen; i++) {\r\n    chars[i] = str.charAt(i);\r\n  }\r\n  range.forEach(function (v, i) {\r\n    chars[v] = replacement.charAt(i[0]);\r\n  });\r\n\r\n  // initialize undefined characters with a space\r\n  if (chars.length > strLen) {\r\n    for (var _i = strLen - 1, _len = chars.length; _i < _len; _i++) {\r\n      if (!chars[_i]) {\r\n        chars[_i] = defaultValue;\r\n      }\r\n    }\r\n  }\r\n  return chars.join('');\r\n}\r\n\r\n/**\r\n * Retrieve a property from an object\r\n * @param {Object} object\r\n * @param {Index} index\r\n * @return {*} Returns the value of the property\r\n * @private\r\n */\r\nfunction _getObjectProperty(object, index) {\r\n  if (index.size().length !== 1) {\r\n    throw new DimensionError(index.size(), 1);\r\n  }\r\n  var key = index.dimension(0);\r\n  if (typeof key !== 'string') {\r\n    throw new TypeError('String expected as index to retrieve an object property');\r\n  }\r\n  return getSafeProperty(object, key);\r\n}\r\n\r\n/**\r\n * Set a property on an object\r\n * @param {Object} object\r\n * @param {Index} index\r\n * @param {*} replacement\r\n * @return {*} Returns the updated object\r\n * @private\r\n */\r\nfunction _setObjectProperty(object, index, replacement) {\r\n  if (index.size().length !== 1) {\r\n    throw new DimensionError(index.size(), 1);\r\n  }\r\n  var key = index.dimension(0);\r\n  if (typeof key !== 'string') {\r\n    throw new TypeError('String expected as index to retrieve an object property');\r\n  }\r\n\r\n  // clone the object, and apply the property to the clone\r\n  var updated = clone(object);\r\n  setSafeProperty(updated, key, replacement);\r\n  return updated;\r\n}"]},"metadata":{},"sourceType":"module"}