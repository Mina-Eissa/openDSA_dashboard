{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { GetResourceEventHandler } from './../pdf-graphics';\nimport { PdfBrush } from './pdf-brush';\nimport { PointF, SizeF, RectangleF, Rectangle } from './../../drawing/pdf-drawing';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfArray } from './../../primitives/pdf-array';\nimport { PdfNumber } from './../../primitives/pdf-number';\nimport { PdfGraphics } from './../pdf-graphics';\nimport { PdfResources } from './../pdf-resources';\nimport { PdfStream } from './../../primitives/pdf-stream';\nimport { PdfPage } from './../../pages/pdf-page';\n/**\r\n * `PdfTilingBrush` Implements a colored tiling brush.\r\n */\n\nvar PdfTilingBrush =\n/** @class */\nfunction (_super) {\n  __extends(PdfTilingBrush, _super);\n  /**\r\n   * Initializes a new instance of the `PdfTilingBrush` class.\r\n   * @public\r\n   */\n\n\n  function PdfTilingBrush(arg1, arg2) {\n    var _this = _super.call(this) || this;\n    /**\r\n     * Local variable to store Stroking.\r\n     * @private\r\n     */\n\n\n    _this.mStroking = false;\n    /**\r\n     * Local variable to store the tile start location.\r\n     * @private\r\n     */\n\n    _this.mLocation = new PointF(0, 0);\n    /**\r\n     * Local variable to store the dictionary properties.\r\n     * @private\r\n     */\n\n    _this.mDictionaryProperties = new DictionaryProperties();\n    var rect = null;\n\n    if (arg1 instanceof Rectangle) {\n      rect = arg1;\n    } else if (arg1 instanceof SizeF) {\n      rect = new Rectangle(0, 0, arg1.width, arg1.height);\n    }\n\n    if (arg2 !== null && arg2 instanceof PdfPage) {\n      _this.mPage = arg2;\n    }\n\n    _this.brushStream = new PdfStream();\n    _this.mResources = new PdfResources();\n\n    _this.brushStream.items.setValue(_this.mDictionaryProperties.resources, _this.mResources);\n\n    _this.setBox(rect);\n\n    _this.setObligatoryFields();\n\n    if (arg2 !== null && arg2 instanceof PdfPage) {\n      _this.mPage = arg2;\n      _this.graphics.colorSpace = arg2.document.colorSpace;\n    }\n\n    return _this;\n  }\n  /**\r\n   * Initializes a new instance of the `PdfTilingBrush` class.\r\n   * @private\r\n   * @param rectangle The size of the smallest brush cell.\r\n   * @param page The Current Page Object.\r\n   * @param location The Tile start location.\r\n   * @param matrix The matrix.\r\n   */\n\n\n  PdfTilingBrush.prototype.initialize = function (rectangle, page, location, matrix) {\n    this.mPage = page;\n    this.mLocation = location;\n    this.mTransformationMatrix = matrix;\n    this.tempBrushStream = this.brushStream;\n    this.brushStream = new PdfStream();\n    var tempResource = new PdfResources();\n    this.brushStream.items.setValue(this.mDictionaryProperties.resources, tempResource);\n    this.setBox(rectangle);\n    this.setObligatoryFields();\n    return this;\n  };\n\n  Object.defineProperty(PdfTilingBrush.prototype, \"location\", {\n    //Properties\n\n    /**\r\n     * Location representing the start position of the tiles.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mLocation;\n    },\n    set: function (value) {\n      this.mLocation = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Sets the obligatory fields.\r\n   * @private\r\n   */\n\n  PdfTilingBrush.prototype.setObligatoryFields = function () {\n    this.brushStream.items.setValue(this.mDictionaryProperties.patternType, new PdfNumber(1)); //  Tiling brush.\n\n    this.brushStream.items.setValue(this.mDictionaryProperties.paintType, new PdfNumber(1)); //  Coloured.\n\n    this.brushStream.items.setValue(this.mDictionaryProperties.tilingType, new PdfNumber(1)); //  Constant spacing.\n\n    this.brushStream.items.setValue(this.mDictionaryProperties.xStep, new PdfNumber(this.mBox.right - this.mBox.left));\n    this.brushStream.items.setValue(this.mDictionaryProperties.yStep, new PdfNumber(this.mBox.bottom - this.mBox.top));\n\n    if (this.mPage != null && this.mLocation != null) {\n      if (this.mTransformationMatrix == null && typeof this.mTransformationMatrix === 'undefined') {\n        // Transform the tile origin to fit the location\n        var tileTransform = this.mPage.size.height % this.rectangle.size.height - this.mLocation.y;\n        /* tslint:disable-next-line:max-line-length */\n\n        this.brushStream.items.setValue(this.mDictionaryProperties.matrix, new PdfArray([1, 0, 0, 1, this.mLocation.x, tileTransform]));\n      } else {\n        var tileTransform = 0; // Transform the tile origin to fit the location\n\n        var elements = this.mTransformationMatrix.matrix.elements;\n\n        if (this.mPage.size.height > this.rectangle.size.height) {\n          tileTransform = this.mTransformationMatrix.matrix.offsetY - this.mPage.size.height % this.rectangle.size.height;\n        } else {\n          tileTransform = this.mPage.size.height % this.rectangle.size.height + this.mTransformationMatrix.matrix.offsetY;\n        }\n\n        this.brushStream.items.setValue(this.mDictionaryProperties.matrix, new PdfArray([elements[0], elements[1], elements[2], elements[3], elements[4], tileTransform]));\n      }\n    }\n  };\n  /**\r\n   * Sets the BBox coordinates.\r\n   * @private\r\n   */\n\n\n  PdfTilingBrush.prototype.setBox = function (box) {\n    this.mBox = box;\n    var rect = new RectangleF(this.mBox.left, this.mBox.top, this.mBox.right, this.mBox.bottom);\n    this.brushStream.items.setValue(this.mDictionaryProperties.bBox, PdfArray.fromRectangle(rect));\n  };\n\n  Object.defineProperty(PdfTilingBrush.prototype, \"rectangle\", {\n    //Properties\n\n    /**\r\n     * Gets the boundary box of the smallest brush cell.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mBox;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfTilingBrush.prototype, \"size\", {\n    /**\r\n     * Gets the size of the smallest brush cell.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mBox.size;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfTilingBrush.prototype, \"graphics\", {\n    /**\r\n     * Gets Graphics context of the brush.\r\n     */\n    get: function () {\n      if (this.mGraphics == null && typeof this.mGraphics === 'undefined') {\n        var gr = new GetResourceEventHandler(this);\n        var g = new PdfGraphics(this.size, gr, this.brushStream);\n        this.mGraphics = g;\n        this.mResources = this.getResources();\n        this.mGraphics.initializeCoordinates();\n      }\n\n      return this.mGraphics;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Gets the resources and modifies the template dictionary.\r\n   * @public\r\n   */\n\n  PdfTilingBrush.prototype.getResources = function () {\n    return this.mResources;\n  };\n\n  Object.defineProperty(PdfTilingBrush.prototype, \"stroking\", {\n    /**\r\n     * Gets or sets a value indicating whether this PdfTilingBrush\r\n     * is used for stroking operations.\r\n     */\n    get: function () {\n      return this.mStroking;\n    },\n    set: function (value) {\n      this.mStroking = value;\n    },\n    enumerable: true,\n    configurable: true\n  }); //PdfBrush methods\n\n  /**\r\n   * Creates a new copy of a brush.\r\n   * @public\r\n   */\n\n  PdfTilingBrush.prototype.clone = function () {\n    var brush = this.initialize(this.rectangle, this.mPage, this.location, this.mTransformationMatrix);\n\n    if (this.mTransformationMatrix != null && this.mTransformationMatrix.matrix != null) {\n      /* tslint:disable-next-line:max-line-length */\n      brush.brushStream.items.setValue(this.mDictionaryProperties.matrix, new PdfArray(this.mTransformationMatrix.matrix.elements));\n    }\n\n    brush.brushStream.data = this.tempBrushStream.data;\n    brush.mResources = new PdfResources(this.mResources);\n    brush.brushStream.items.setValue(this.mDictionaryProperties.resources, brush.mResources);\n    return brush;\n  };\n  /**\r\n   * Monitors the changes of the brush and modify PDF state respectfully.\r\n   * @param brush The brush\r\n   * @param streamWriter The stream writer\r\n   * @param getResources The get resources delegate.\r\n   * @param saveChanges if set to true the changes should be saved anyway.\r\n   * @param currentColorSpace The current color space.\r\n   */\n\n  /* tslint:disable-next-line:max-line-length */\n\n\n  PdfTilingBrush.prototype.monitorChanges = function (brush, streamWriter, getResources, saveChanges, currentColorSpace) {\n    var diff = false;\n\n    if (brush !== this) {\n      //  Set the Pattern colour space.\n      streamWriter.setColorSpace('Pattern', this.mStroking); //  Set the pattern for non-stroking operations.\n\n      var resources1 = getResources.getResources();\n      var name1 = resources1.getName(this);\n      streamWriter.setColourWithPattern(null, name1, this.mStroking);\n      diff = true;\n    } else if (brush instanceof PdfTilingBrush) {\n      //  Set the /Pattern colour space.\n      streamWriter.setColorSpace('Pattern', this.mStroking); //  Set the pattern for non-stroking operations.\n\n      var resources = getResources.getResources();\n      var name_1 = resources.getName(this);\n      streamWriter.setColourWithPattern(null, name_1, this.mStroking);\n      diff = true;\n    }\n\n    return diff;\n  };\n  /**\r\n   * Resets the changes, which were made by the brush.\r\n   * In other words resets the state to the initial one.\r\n   * @param streamWriter The stream writer.\r\n   */\n\n\n  PdfTilingBrush.prototype.resetChanges = function (streamWriter) {//  We shouldn't do anything to reset changes.\n    //  All changes will be reset automatically by setting a new colour space.\n  };\n\n  Object.defineProperty(PdfTilingBrush.prototype, \"element\", {\n    /* tslint:enable */\n    // IPdfWrapper Members\n\n    /**\r\n     * Gets the `element`.\r\n     * @public\r\n     */\n    get: function () {\n      return this.brushStream;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return PdfTilingBrush;\n}(PdfBrush);\n\nexport { PdfTilingBrush };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/brushes/pdf-tiling-brush.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","GetResourceEventHandler","PdfBrush","PointF","SizeF","RectangleF","Rectangle","DictionaryProperties","PdfArray","PdfNumber","PdfGraphics","PdfResources","PdfStream","PdfPage","PdfTilingBrush","_super","arg1","arg2","_this","call","mStroking","mLocation","mDictionaryProperties","rect","width","height","mPage","brushStream","mResources","items","setValue","resources","setBox","setObligatoryFields","graphics","colorSpace","document","initialize","rectangle","page","location","matrix","mTransformationMatrix","tempBrushStream","tempResource","defineProperty","get","set","value","enumerable","configurable","patternType","paintType","tilingType","xStep","mBox","right","left","yStep","bottom","top","tileTransform","size","y","x","elements","offsetY","box","bBox","fromRectangle","mGraphics","gr","g","getResources","initializeCoordinates","clone","brush","data","monitorChanges","streamWriter","saveChanges","currentColorSpace","diff","setColorSpace","resources1","name1","getName","setColourWithPattern","name_1","resetChanges"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { GetResourceEventHandler } from './../pdf-graphics';\r\nimport { PdfBrush } from './pdf-brush';\r\nimport { PointF, SizeF, RectangleF, Rectangle } from './../../drawing/pdf-drawing';\r\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\r\nimport { PdfArray } from './../../primitives/pdf-array';\r\nimport { PdfNumber } from './../../primitives/pdf-number';\r\nimport { PdfGraphics } from './../pdf-graphics';\r\nimport { PdfResources } from './../pdf-resources';\r\nimport { PdfStream } from './../../primitives/pdf-stream';\r\nimport { PdfPage } from './../../pages/pdf-page';\r\n/**\r\n * `PdfTilingBrush` Implements a colored tiling brush.\r\n */\r\nvar PdfTilingBrush = /** @class */ (function (_super) {\r\n    __extends(PdfTilingBrush, _super);\r\n    /**\r\n     * Initializes a new instance of the `PdfTilingBrush` class.\r\n     * @public\r\n     */\r\n    function PdfTilingBrush(arg1, arg2) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Local variable to store Stroking.\r\n         * @private\r\n         */\r\n        _this.mStroking = false;\r\n        /**\r\n         * Local variable to store the tile start location.\r\n         * @private\r\n         */\r\n        _this.mLocation = new PointF(0, 0);\r\n        /**\r\n         * Local variable to store the dictionary properties.\r\n         * @private\r\n         */\r\n        _this.mDictionaryProperties = new DictionaryProperties();\r\n        var rect = null;\r\n        if (arg1 instanceof Rectangle) {\r\n            rect = arg1;\r\n        }\r\n        else if (arg1 instanceof SizeF) {\r\n            rect = new Rectangle(0, 0, arg1.width, arg1.height);\r\n        }\r\n        if (arg2 !== null && arg2 instanceof PdfPage) {\r\n            _this.mPage = arg2;\r\n        }\r\n        _this.brushStream = new PdfStream();\r\n        _this.mResources = new PdfResources();\r\n        _this.brushStream.items.setValue(_this.mDictionaryProperties.resources, _this.mResources);\r\n        _this.setBox(rect);\r\n        _this.setObligatoryFields();\r\n        if (arg2 !== null && arg2 instanceof PdfPage) {\r\n            _this.mPage = arg2;\r\n            _this.graphics.colorSpace = arg2.document.colorSpace;\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Initializes a new instance of the `PdfTilingBrush` class.\r\n     * @private\r\n     * @param rectangle The size of the smallest brush cell.\r\n     * @param page The Current Page Object.\r\n     * @param location The Tile start location.\r\n     * @param matrix The matrix.\r\n     */\r\n    PdfTilingBrush.prototype.initialize = function (rectangle, page, location, matrix) {\r\n        this.mPage = page;\r\n        this.mLocation = location;\r\n        this.mTransformationMatrix = matrix;\r\n        this.tempBrushStream = this.brushStream;\r\n        this.brushStream = new PdfStream();\r\n        var tempResource = new PdfResources();\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.resources, tempResource);\r\n        this.setBox(rectangle);\r\n        this.setObligatoryFields();\r\n        return this;\r\n    };\r\n    Object.defineProperty(PdfTilingBrush.prototype, \"location\", {\r\n        //Properties\r\n        /**\r\n         * Location representing the start position of the tiles.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mLocation;\r\n        },\r\n        set: function (value) {\r\n            this.mLocation = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets the obligatory fields.\r\n     * @private\r\n     */\r\n    PdfTilingBrush.prototype.setObligatoryFields = function () {\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.patternType, new PdfNumber(1));\r\n        //  Tiling brush.\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.paintType, new PdfNumber(1));\r\n        //  Coloured.\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.tilingType, new PdfNumber(1));\r\n        //  Constant spacing.\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.xStep, new PdfNumber((this.mBox.right - this.mBox.left)));\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.yStep, new PdfNumber((this.mBox.bottom - this.mBox.top)));\r\n        if ((this.mPage != null) && (this.mLocation != null)) {\r\n            if ((this.mTransformationMatrix == null && typeof this.mTransformationMatrix === 'undefined')) {\r\n                // Transform the tile origin to fit the location\r\n                var tileTransform = (this.mPage.size.height % this.rectangle.size.height) - (this.mLocation.y);\r\n                /* tslint:disable-next-line:max-line-length */\r\n                this.brushStream.items.setValue(this.mDictionaryProperties.matrix, new PdfArray([1, 0, 0, 1, this.mLocation.x, tileTransform]));\r\n            }\r\n            else {\r\n                var tileTransform = 0;\r\n                // Transform the tile origin to fit the location\r\n                var elements = this.mTransformationMatrix.matrix.elements;\r\n                if ((this.mPage.size.height > this.rectangle.size.height)) {\r\n                    tileTransform = (this.mTransformationMatrix.matrix.offsetY\r\n                        - (this.mPage.size.height % this.rectangle.size.height));\r\n                }\r\n                else {\r\n                    tileTransform = ((this.mPage.size.height % this.rectangle.size.height) + this.mTransformationMatrix.matrix.offsetY);\r\n                }\r\n                this.brushStream.items.setValue(this.mDictionaryProperties.matrix, new PdfArray([\r\n                    elements[0], elements[1], elements[2], elements[3], elements[4], tileTransform\r\n                ]));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets the BBox coordinates.\r\n     * @private\r\n     */\r\n    PdfTilingBrush.prototype.setBox = function (box) {\r\n        this.mBox = box;\r\n        var rect = new RectangleF(this.mBox.left, this.mBox.top, this.mBox.right, this.mBox.bottom);\r\n        this.brushStream.items.setValue(this.mDictionaryProperties.bBox, PdfArray.fromRectangle(rect));\r\n    };\r\n    Object.defineProperty(PdfTilingBrush.prototype, \"rectangle\", {\r\n        //Properties\r\n        /**\r\n         * Gets the boundary box of the smallest brush cell.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mBox;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfTilingBrush.prototype, \"size\", {\r\n        /**\r\n         * Gets the size of the smallest brush cell.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mBox.size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfTilingBrush.prototype, \"graphics\", {\r\n        /**\r\n         * Gets Graphics context of the brush.\r\n         */\r\n        get: function () {\r\n            if ((this.mGraphics == null && typeof this.mGraphics === 'undefined')) {\r\n                var gr = new GetResourceEventHandler(this);\r\n                var g = new PdfGraphics(this.size, gr, this.brushStream);\r\n                this.mGraphics = g;\r\n                this.mResources = this.getResources();\r\n                this.mGraphics.initializeCoordinates();\r\n            }\r\n            return this.mGraphics;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets the resources and modifies the template dictionary.\r\n     * @public\r\n     */\r\n    PdfTilingBrush.prototype.getResources = function () {\r\n        return this.mResources;\r\n    };\r\n    Object.defineProperty(PdfTilingBrush.prototype, \"stroking\", {\r\n        /**\r\n         * Gets or sets a value indicating whether this PdfTilingBrush\r\n         * is used for stroking operations.\r\n         */\r\n        get: function () {\r\n            return this.mStroking;\r\n        },\r\n        set: function (value) {\r\n            this.mStroking = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //PdfBrush methods\r\n    /**\r\n     * Creates a new copy of a brush.\r\n     * @public\r\n     */\r\n    PdfTilingBrush.prototype.clone = function () {\r\n        var brush = this.initialize(this.rectangle, this.mPage, this.location, this.mTransformationMatrix);\r\n        if ((this.mTransformationMatrix != null) && (this.mTransformationMatrix.matrix != null)) {\r\n            /* tslint:disable-next-line:max-line-length */\r\n            brush.brushStream.items.setValue(this.mDictionaryProperties.matrix, new PdfArray(this.mTransformationMatrix.matrix.elements));\r\n        }\r\n        brush.brushStream.data = this.tempBrushStream.data;\r\n        brush.mResources = new PdfResources(this.mResources);\r\n        brush.brushStream.items.setValue(this.mDictionaryProperties.resources, brush.mResources);\r\n        return brush;\r\n    };\r\n    /**\r\n     * Monitors the changes of the brush and modify PDF state respectfully.\r\n     * @param brush The brush\r\n     * @param streamWriter The stream writer\r\n     * @param getResources The get resources delegate.\r\n     * @param saveChanges if set to true the changes should be saved anyway.\r\n     * @param currentColorSpace The current color space.\r\n     */\r\n    /* tslint:disable-next-line:max-line-length */\r\n    PdfTilingBrush.prototype.monitorChanges = function (brush, streamWriter, getResources, saveChanges, currentColorSpace) {\r\n        var diff = false;\r\n        if (brush !== this) {\r\n            //  Set the Pattern colour space.\r\n            streamWriter.setColorSpace('Pattern', this.mStroking);\r\n            //  Set the pattern for non-stroking operations.\r\n            var resources1 = getResources.getResources();\r\n            var name1 = resources1.getName(this);\r\n            streamWriter.setColourWithPattern(null, name1, this.mStroking);\r\n            diff = true;\r\n        }\r\n        else if (brush instanceof PdfTilingBrush) {\r\n            //  Set the /Pattern colour space.\r\n            streamWriter.setColorSpace('Pattern', this.mStroking);\r\n            //  Set the pattern for non-stroking operations.\r\n            var resources = getResources.getResources();\r\n            var name_1 = resources.getName(this);\r\n            streamWriter.setColourWithPattern(null, name_1, this.mStroking);\r\n            diff = true;\r\n        }\r\n        return diff;\r\n    };\r\n    /**\r\n     * Resets the changes, which were made by the brush.\r\n     * In other words resets the state to the initial one.\r\n     * @param streamWriter The stream writer.\r\n     */\r\n    PdfTilingBrush.prototype.resetChanges = function (streamWriter) {\r\n        //  We shouldn't do anything to reset changes.\r\n        //  All changes will be reset automatically by setting a new colour space.\r\n    };\r\n    Object.defineProperty(PdfTilingBrush.prototype, \"element\", {\r\n        /* tslint:enable */\r\n        // IPdfWrapper Members\r\n        /**\r\n         * Gets the `element`.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.brushStream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PdfTilingBrush;\r\n}(PdfBrush));\r\nexport { PdfTilingBrush };\r\n"]},"metadata":{},"sourceType":"module"}