{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n/* eslint-disable @typescript-eslint/ban-types */\n\n/* eslint-disable valid-jsdoc */\n\n\nimport { Animation, compile as templateComplier, Browser } from '@syncfusion/ej2-base';\nimport { merge, extend, isNullOrUndefined, resetBlazorTemplate } from '@syncfusion/ej2-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\nimport { Index } from '../../common/model/base';\nimport { VisibleLabels } from '../../chart/axis/axis';\nimport { axisLabelRender, regSub } from '../model/constants';\nimport { measureText, findDirection, Rect, TextOption, Size, PathOption, SvgRenderer, CanvasRenderer } from '@syncfusion/ej2-svg-base';\n/**\r\n * Function to sort the dataSource, by default it sort the data in ascending order.\r\n *\r\n * @param  {Object} data chart data\r\n * @param  {string} fields date fields\r\n * @param  {boolean} isDescending boolean values of descending\r\n * @returns {Object[]} It returns chart data which be sorted.\r\n */\n\nexport function sort(data, fields, isDescending) {\n  var sortData = extend([], data, null);\n  sortData.sort(function (a, b) {\n    var first = 0;\n    var second = 0;\n\n    for (var i = 0; i < fields.length; i++) {\n      first += a[fields[i]];\n      second += b[fields[i]];\n    }\n\n    if (!isDescending && first < second || isDescending && first > second) {\n      return -1;\n    } else if (first === second) {\n      return 0;\n    }\n\n    return 1;\n  });\n  return sortData;\n}\n/** @private */\n\nexport function isBreakLabel(label) {\n  return label.indexOf('<br>') !== -1;\n}\n/** @private */\n\nexport function getVisiblePoints(series) {\n  var points = extend([], series.points, null, true);\n  var tempPoints = [];\n  var tempPoint;\n  var pointIndex = 0;\n\n  for (var i = 0; i < points.length; i++) {\n    tempPoint = points[i];\n\n    if (isNullOrUndefined(tempPoint.x) || tempPoint.x === '') {\n      continue;\n    } else {\n      tempPoint.index = pointIndex++;\n      tempPoints.push(tempPoint);\n    }\n  }\n\n  return tempPoints;\n}\n/** @private */\n\nexport function rotateTextSize(font, text, angle, chart) {\n  var renderer = new SvgRenderer(chart.element.id);\n  var labelText;\n  var textCollection = [];\n  var height;\n  var dy;\n  var label;\n  var tspanElement;\n  var options = {\n    id: 'rotate_text',\n    x: chart.initialClipRect.x,\n    y: chart.initialClipRect.y,\n    'font-size': font.size,\n    'font-style': font.fontStyle,\n    'font-family': font.fontFamily,\n    'font-weight': font.fontWeight,\n    'transform': 'rotate(' + angle + ', 0, 0)',\n    'text-anchor': 'middle'\n  };\n\n  if (isBreakLabel(text)) {\n    textCollection = text.split('<br>');\n    labelText = textCollection[0];\n  } else {\n    labelText = text;\n  }\n\n  var htmlObject = renderer.createText(options, labelText);\n\n  if (!chart.delayRedraw && !chart.redraw) {\n    chart.element.appendChild(chart.svgObject);\n  } // for line break label\n\n\n  if (typeof textCollection !== 'string' && textCollection.length > 1) {\n    for (var i = 1, len = textCollection.length; i < len; i++) {\n      height = measureText(textCollection[i], font).height;\n      dy = options.y + i * height;\n      label = textCollection[i];\n      tspanElement = renderer.createTSpan({\n        'x': options.x,\n        'id': options.id,\n        'y': dy\n      }, label);\n      htmlObject.appendChild(tspanElement);\n    }\n  }\n\n  chart.svgObject.appendChild(htmlObject);\n  var box = htmlObject.getBoundingClientRect();\n  remove(htmlObject);\n\n  if (!chart.delayRedraw && !chart.redraw) {\n    remove(chart.svgObject);\n  }\n\n  return new Size(box.right - box.left, box.bottom - box.top);\n}\n/** @private */\n\nexport function removeElement(id) {\n  if (!id) {\n    return null;\n  }\n\n  var element = typeof id === 'string' ? getElement(id) : id;\n\n  if (element) {\n    remove(element);\n  }\n}\n/** @private */\n\nexport function logBase(value, base) {\n  return Math.log(value) / Math.log(base);\n}\n/** @private */\n\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, isTitleOrLegendEnabled) {\n  //let id1: string = 'EJ2_legend_tooltip';\n  var tooltip = document.getElementById(id);\n  var size = measureText(text, {\n    fontFamily: 'Segoe UI',\n    size: '12px',\n    fontStyle: 'Normal',\n    fontWeight: 'Regular'\n  });\n  var width = size.width + 5;\n  x = x + width > areaWidth ? x - (width + 15) : x;\n  y = isTitleOrLegendEnabled ? y - size.height / 2 : y + 15;\n\n  if (!tooltip) {\n    tooltip = createElement('div', {\n      innerHTML: text,\n      id: id,\n      styles: 'top:' + y.toString() + 'px;left:' + (x + 15).toString() + 'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' + 'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' + 'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: \"Segoe UI\"'\n    });\n    element.appendChild(tooltip);\n    var left = parseInt(tooltip.style.left.replace('px', ''), 10);\n\n    if (left < 0) {\n      tooltip.style.left = '0px';\n    }\n  } else {\n    tooltip.innerHTML = text;\n    tooltip.style.top = y.toString() + 'px';\n    tooltip.style.left = (x + 15).toString() + 'px';\n  }\n\n  if (isTouch) {\n    setTimeout(function () {\n      removeElement(id);\n    }, 1500);\n  }\n}\n/** @private */\n\nexport function inside(value, range) {\n  return value < range.max && value > range.min;\n}\n/** @private */\n\nexport function withIn(value, range) {\n  return value <= range.max && value >= range.min;\n}\n/** @private */\n\nexport function logWithIn(value, axis) {\n  return axis.valueType === 'Logarithmic' ? logBase(value, axis.logBase) : value;\n}\n/** @private */\n\nexport function withInRange(previousPoint, currentPoint, nextPoint, series) {\n  var mX2 = logWithIn(currentPoint.xValue, series.xAxis);\n  var mX1 = previousPoint ? logWithIn(previousPoint.xValue, series.xAxis) : mX2;\n  var mX3 = nextPoint ? logWithIn(nextPoint.xValue, series.xAxis) : mX2;\n  var xStart = Math.floor(series.xAxis.visibleRange.min);\n  var xEnd = Math.ceil(series.xAxis.visibleRange.max);\n  return mX1 >= xStart && mX1 <= xEnd || mX2 >= xStart && mX2 <= xEnd || mX3 >= xStart && mX3 <= xEnd || xStart >= mX1 && xStart <= mX3;\n}\n/** @private */\n\nexport function sum(values) {\n  var sum = 0;\n\n  for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n    var value = values_1[_i];\n    sum += value;\n  }\n\n  return sum;\n}\n/** @private */\n\nexport function subArraySum(values, first, last, index, series) {\n  var sum = 0;\n\n  if (index !== null) {\n    for (var i = first + 1; i < last; i++) {\n      if (index.indexOf(i) === -1) {\n        sum += values[i][series.yName];\n      }\n    }\n  } else {\n    for (var i = first + 1; i < last; i++) {\n      if (!isNullOrUndefined(values[i][series.yName])) {\n        sum += values[i][series.yName];\n      }\n    }\n  }\n\n  return sum;\n}\n/** @private */\n\nexport function subtractThickness(rect, thickness) {\n  rect.x += thickness.left;\n  rect.y += thickness.top;\n  rect.width -= thickness.left + thickness.right;\n  rect.height -= thickness.top + thickness.bottom;\n  return rect;\n}\n/** @private */\n\nexport function subtractRect(rect, thickness) {\n  rect.x += thickness.x;\n  rect.y += thickness.y;\n  rect.width -= thickness.x + thickness.width;\n  rect.height -= thickness.y + thickness.height;\n  return rect;\n}\n/** @private */\n\nexport function degreeToLocation(degree, radius, center) {\n  var radian = degree * Math.PI / 180;\n  return new ChartLocation(Math.cos(radian) * radius + center.x, Math.sin(radian) * radius + center.y);\n}\n/** @private */\n\nexport function degreeToRadian(degree) {\n  return degree * (Math.PI / 180);\n}\n/** @private */\n\nexport function getRotatedRectangleCoordinates(actualPoints, centerX, centerY, angle) {\n  var coordinatesAfterRotation = [];\n\n  for (var i = 0; i < 4; i++) {\n    var point = actualPoints[i]; // translate point to origin\n\n    var tempX = point.x - centerX;\n    var tempY = point.y - centerY; // now apply rotation\n\n    var rotatedX = tempX * Math.cos(degreeToRadian(angle)) - tempY * Math.sin(degreeToRadian(angle));\n    var rotatedY = tempX * Math.sin(degreeToRadian(angle)) + tempY * Math.cos(degreeToRadian(angle)); // translate back\n\n    point.x = rotatedX + centerX;\n    point.y = rotatedY + centerY;\n    coordinatesAfterRotation.push(new ChartLocation(point.x, point.y));\n  }\n\n  return coordinatesAfterRotation;\n}\n/**\r\n * Helper function to determine whether there is an intersection between the two polygons described\r\n * by the lists of vertices. Uses the Separating Axis Theorem\r\n *\r\n * @param {ChartLocation[]} a an array of connected points [{x:, y:}, {x:, y:},...] that form a closed polygon\r\n * @param {ChartLocation[]} b an array of connected points [{x:, y:}, {x:, y:},...] that form a closed polygon\r\n * @returns {boolean} if there is any intersection between the 2 polygons, false otherwise\r\n */\n\nexport function isRotatedRectIntersect(a, b) {\n  var polygons = [a, b];\n  var minA;\n  var maxA;\n  var projected;\n  var i;\n  var i1;\n  var j;\n  var minB;\n  var maxB;\n\n  for (i = 0; i < polygons.length; i++) {\n    // for each polygon, look at each edge of the polygon, and determine if it separates\n    // the two shapes\n    var polygon = polygons[i];\n\n    for (i1 = 0; i1 < polygon.length; i1++) {\n      // grab 2 vertices to create an edge\n      var i2 = (i1 + 1) % polygon.length;\n      var p1 = polygon[i1];\n      var p2 = polygon[i2]; // find the line perpendicular to this edge\n\n      var normal = new ChartLocation(p2.y - p1.y, p1.x - p2.x);\n      minA = maxA = undefined; // for each vertex in the first shape, project it onto the line perpendicular to the edge\n      // and keep track of the min and max of these values\n\n      for (j = 0; j < a.length; j++) {\n        projected = normal.x * a[j].x + normal.y * a[j].y;\n\n        if (isNullOrUndefined(minA) || projected < minA) {\n          minA = projected;\n        }\n\n        if (isNullOrUndefined(maxA) || projected > maxA) {\n          maxA = projected;\n        }\n      } // for each vertex in the second shape, project it onto the line perpendicular to the edge\n      // and keep track of the min and max of these values\n\n\n      minB = maxB = undefined;\n\n      for (j = 0; j < b.length; j++) {\n        projected = normal.x * b[j].x + normal.y * b[j].y;\n\n        if (isNullOrUndefined(minB) || projected < minB) {\n          minB = projected;\n        }\n\n        if (isNullOrUndefined(maxB) || projected > maxB) {\n          maxB = projected;\n        }\n      } // if there is no overlap between the projects, the edge we are looking at separates the two\n      // polygons, and we know there is no overlap\n\n\n      if (maxA < minB || maxB < minA) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/** @private */\n\nfunction getAccumulationLegend(locX, locY, r, height, width, mode) {\n  var cartesianlarge = degreeToLocation(270, r, new ChartLocation(locX, locY));\n  var cartesiansmall = degreeToLocation(270, r, new ChartLocation(locX + width / 10, locY));\n  return 'M' + ' ' + locX + ' ' + locY + ' ' + 'L' + ' ' + (locX + r) + ' ' + locY + ' ' + 'A' + ' ' + r + ' ' + r + ' ' + 0 + ' ' + 1 + ' ' + 1 + ' ' + cartesianlarge.x + ' ' + cartesianlarge.y + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX + width / 10) + ' ' + (locY - height / 10) + ' ' + 'L' + (locX + r) + ' ' + (locY - height / 10) + ' ' + 'A' + ' ' + r + ' ' + r + ' ' + 0 + ' ' + 0 + ' ' + 0 + ' ' + cartesiansmall.x + ' ' + cartesiansmall.y + ' ' + 'Z';\n}\n/** @private */\n\n\nexport function getAngle(center, point) {\n  var angle = Math.atan2(point.y - center.y, point.x - center.x);\n  angle = angle < 0 ? 6.283 + angle : angle;\n  return angle * (180 / Math.PI);\n}\n/** @private */\n\nexport function subArray(values, index) {\n  var subArray = [];\n\n  for (var i = 0; i <= index - 1; i++) {\n    subArray.push(values[i]);\n  }\n\n  return subArray;\n}\n/** @private */\n\nexport function valueToCoefficient(value, axis) {\n  var range = axis.visibleRange;\n  var result = (value - range.min) / range.delta;\n  var isInverse = axis.isChart ? axis.isAxisInverse : axis.isInversed;\n  return isInverse ? 1 - result : result;\n}\n/** @private */\n\nexport function TransformToVisible(x, y, xAxis, yAxis, isInverted, series) {\n  x = xAxis.valueType === 'Logarithmic' ? logBase(x > 1 ? x : 1, xAxis.logBase) : x;\n  y = yAxis.valueType === 'Logarithmic' ? logBase(y > 1 ? y : 1, yAxis.logBase) : y;\n  x += xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks' && series.type !== 'Radar' ? 0.5 : 0;\n  var radius = series.chart.radius * valueToCoefficient(y, yAxis);\n  var point = CoefficientToVector(valueToPolarCoefficient(x, xAxis), series.chart.primaryXAxis.startAngle);\n  return {\n    x: series.clipRect.width / 2 + series.clipRect.x + radius * point.x,\n    y: series.clipRect.height / 2 + series.clipRect.y + radius * point.y\n  };\n}\n/**\r\n * method to find series, point index by element id\r\n *\r\n * @private\r\n */\n\nexport function indexFinder(id, isPoint) {\n  if (isPoint === void 0) {\n    isPoint = false;\n  }\n\n  var ids = ['NaN', 'NaN'];\n\n  if (id.indexOf('_Point_') > -1) {\n    ids = id.split('_Series_')[1].split('_Point_');\n  } else if (id.indexOf('_shape_') > -1 && (!isPoint || isPoint && id.indexOf('_legend_') === -1)) {\n    ids = id.split('_shape_');\n    ids[0] = '0';\n  } else if (id.indexOf('_text_') > -1 && (!isPoint || isPoint && id.indexOf('_legend_') === -1)) {\n    ids = id.split('_text_');\n    ids[0] = '0';\n  }\n\n  return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\n}\n/** @private */\n\nexport function CoefficientToVector(coefficient, startAngle) {\n  startAngle = startAngle < 0 ? startAngle + 360 : startAngle;\n  var angle = Math.PI * (1.5 - 2 * coefficient);\n  angle = angle + startAngle * Math.PI / 180;\n  return {\n    x: Math.cos(angle),\n    y: Math.sin(angle)\n  };\n}\n/** @private */\n\nexport function valueToPolarCoefficient(value, axis) {\n  var range = axis.visibleRange;\n  var delta;\n  var length;\n\n  if (axis.valueType !== 'Category') {\n    delta = range.max - (axis.valueType === 'DateTime' ? axis.dateTimeInterval : range.interval) - range.min;\n    length = axis.visibleLabels.length - 1;\n    delta = delta === 0 ? 1 : delta;\n  } else {\n    // To split an interval equally based on visible labels count\n    delta = axis.visibleLabels.length === 1 ? 1 : axis.visibleLabels[axis.visibleLabels.length - 1].value - axis.visibleLabels[0].value;\n    length = axis.visibleLabels.length;\n  }\n\n  return axis.isAxisInverse ? (value - range.min) / delta * (1 - 1 / length) : 1 - (value - range.min) / delta * (1 - 1 / length);\n}\n/** @private */\n\nvar Mean =\n/** @class */\nfunction () {\n  function Mean(verticalStandardMean, verticalSquareRoot, horizontalStandardMean, horizontalSquareRoot, verticalMean, horizontalMean) {\n    this.verticalStandardMean = verticalStandardMean;\n    this.horizontalStandardMean = horizontalStandardMean;\n    this.verticalSquareRoot = verticalSquareRoot;\n    this.horizontalSquareRoot = horizontalSquareRoot;\n    this.verticalMean = verticalMean;\n    this.horizontalMean = horizontalMean;\n  }\n\n  return Mean;\n}();\n\nexport { Mean };\n/** @private */\n\nvar PolarArc =\n/** @class */\nfunction () {\n  function PolarArc(startAngle, endAngle, innerRadius, radius, currentXPosition) {\n    this.startAngle = startAngle;\n    this.endAngle = endAngle;\n    this.innerRadius = innerRadius;\n    this.radius = radius;\n    this.currentXPosition = currentXPosition;\n  }\n\n  return PolarArc;\n}();\n\nexport { PolarArc };\n/** @private */\n\nexport function createTooltip(id, text, top, left, fontSize) {\n  var tooltip = getElement(id);\n  var style = 'top:' + top.toString() + 'px;' + 'left:' + left.toString() + 'px;' + 'color:black !important; ' + 'background:#FFFFFF !important; ' + 'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px; z-index:1';\n\n  if (!tooltip) {\n    tooltip = createElement('div', {\n      id: id,\n      innerHTML: '&nbsp;' + text + '&nbsp;',\n      styles: style\n    });\n    document.body.appendChild(tooltip);\n  } else {\n    tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n    tooltip.setAttribute('styles', style);\n  }\n}\n/** @private */\n\nexport function createZoomingLabels(chart, axis, parent, index, isVertical, rect) {\n  var margin = 5;\n  var opposedPosition = axis.isAxisOpposedPosition;\n  var anchor = isVertical ? 'start' : 'auto';\n  var size;\n  var chartRect = chart.availableSize.width;\n  var x;\n  var y;\n  var rx = 3;\n  var arrowLocation;\n  var direction;\n  var scrollBarHeight = axis.scrollbarSettings.enable || axis.zoomingScrollBar && axis.zoomingScrollBar.svgObject ? axis.scrollBarHeight : 0;\n\n  for (var i = 0; i < 2; i++) {\n    size = measureText(i ? axis.endLabel : axis.startLabel, axis.labelStyle);\n\n    if (isVertical) {\n      arrowLocation = i ? new ChartLocation(rect.x - scrollBarHeight, rect.y + rx) : new ChartLocation(axis.rect.x - scrollBarHeight, rect.y + rect.height - rx);\n      x = rect.x + (opposedPosition ? rect.width + margin + scrollBarHeight : -(size.width + margin + margin + scrollBarHeight));\n      y = rect.y + (i ? 0 : rect.height - size.height - margin);\n      x += x < 0 || chartRect < x + size.width + margin ? opposedPosition ? -(size.width / 2) : size.width / 2 : 0;\n      direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, false, false, !opposedPosition, arrowLocation.x, arrowLocation.y + (i ? -rx : rx));\n    } else {\n      arrowLocation = i ? new ChartLocation(rect.x + rect.width - rx, rect.y + rect.height + scrollBarHeight) : new ChartLocation(rect.x + rx, rect.y + rect.height + scrollBarHeight);\n      x = rect.x + (i ? rect.width - size.width - margin : 0);\n      y = opposedPosition ? rect.y - size.height - 10 - scrollBarHeight : rect.y + rect.height + margin + scrollBarHeight;\n      direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, opposedPosition, !opposedPosition, false, arrowLocation.x + (i ? rx : -rx), arrowLocation.y);\n    }\n\n    x = x + margin / 2;\n    y = y + 3 * (size.height / 4) + margin / 2;\n    parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_Shape_' + i, chart.themeStyle.crosshairFill, 2, chart.themeStyle.crosshairFill, 1, null, direction)));\n    textElement(chart.renderer, new TextOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_' + i, x, y, anchor, i ? axis.endLabel : axis.startLabel), {\n      color: chart.themeStyle.crosshairLabel,\n      fontFamily: 'Segoe UI',\n      fontWeight: 'Regular',\n      size: '11px'\n    }, chart.themeStyle.crosshairLabel, parent);\n  }\n\n  return parent;\n} //Within bounds\n\n/** @private */\n\nexport function withInBounds(x, y, bounds, width, height) {\n  if (width === void 0) {\n    width = 0;\n  }\n\n  if (height === void 0) {\n    height = 0;\n  }\n\n  return x >= bounds.x - width && x <= bounds.x + bounds.width + width && y >= bounds.y - height && y <= bounds.y + bounds.height + height;\n}\n/** @private */\n\nexport function getValueXByPoint(value, size, axis) {\n  var actualValue = !axis.isAxisInverse ? value / size : 1 - value / size;\n  return actualValue * axis.visibleRange.delta + axis.visibleRange.min;\n}\n/** @private */\n\nexport function getValueYByPoint(value, size, axis) {\n  var actualValue = axis.isAxisInverse ? value / size : 1 - value / size;\n  return actualValue * axis.visibleRange.delta + axis.visibleRange.min;\n}\n/** @private */\n\nexport function findClipRect(series) {\n  var rect = series.clipRect;\n\n  if (series.chart.requireInvertedAxis) {\n    rect.x = series.yAxis.rect.x;\n    rect.y = series.xAxis.rect.y;\n    rect.width = series.yAxis.rect.width;\n    rect.height = series.xAxis.rect.height;\n  } else {\n    rect.x = series.xAxis.rect.x;\n    rect.y = series.yAxis.rect.y;\n    rect.width = series.xAxis.rect.width;\n    rect.height = series.yAxis.rect.height;\n  }\n}\n/** @private */\n\nexport function firstToLowerCase(str) {\n  return str.substr(0, 1).toLowerCase() + str.substr(1);\n}\n/** @private */\n\nexport function getTransform(xAxis, yAxis, invertedAxis) {\n  var x;\n  var y;\n  var width;\n  var height;\n\n  if (invertedAxis) {\n    x = yAxis.rect.x;\n    y = xAxis.rect.y;\n    width = yAxis.rect.width;\n    height = xAxis.rect.height;\n  } else {\n    x = xAxis.rect.x;\n    y = yAxis.rect.y;\n    width = xAxis.rect.width;\n    height = yAxis.rect.height;\n  }\n\n  return new Rect(x, y, width, height);\n}\n/** @private */\n\nexport function getMinPointsDelta(axis, seriesCollection) {\n  var minDelta = Number.MAX_VALUE;\n  var xValues;\n  var minVal;\n  var seriesMin;\n\n  for (var index = 0; index < seriesCollection.length; index++) {\n    var series = seriesCollection[index];\n    xValues = [];\n\n    if (series.visible && (axis.name === series.xAxisName || axis.name === 'primaryXAxis' && series.xAxisName === null || axis.name === series.chart.primaryXAxis.name && !series.xAxisName)) {\n      xValues = series.points.map(function (point) {\n        return point.xValue;\n      });\n      xValues.sort(function (first, second) {\n        return first - second;\n      });\n\n      if (xValues.length === 1) {\n        seriesMin = axis.valueType === 'DateTime' && series.xMin === series.xMax ? series.xMin - 2592000000 : series.xMin;\n        minVal = xValues[0] - (!isNullOrUndefined(seriesMin) ? seriesMin : axis.visibleRange.min);\n\n        if (minVal !== 0) {\n          minDelta = Math.min(minDelta, minVal);\n        }\n      } else {\n        for (var index_1 = 0; index_1 < xValues.length; index_1++) {\n          var value = xValues[index_1];\n\n          if (index_1 > 0 && value) {\n            minVal = value - xValues[index_1 - 1];\n\n            if (minVal !== 0) {\n              minDelta = Math.min(minDelta, minVal);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (minDelta === Number.MAX_VALUE) {\n    minDelta = 1;\n  }\n\n  return minDelta;\n}\n/** @private */\n\nexport function getAnimationFunction(effect) {\n  var functionName;\n\n  switch (effect) {\n    case 'Linear':\n      functionName = linear;\n      break;\n  }\n\n  return functionName;\n}\n/**\r\n * Animation Effect Calculation Started Here\r\n *\r\n * @param {number} currentTime currentTime\r\n * @param {number} startValue startValue of the animation\r\n * @param {number} endValue endValue of the animation\r\n * @param {number} duration duration of the animation\r\n * @private\r\n */\n\nexport function linear(currentTime, startValue, endValue, duration) {\n  return -endValue * Math.cos(currentTime / duration * (Math.PI / 2)) + endValue + startValue;\n}\n/**\r\n * Animation Effect Calculation End\r\n *\r\n * @private\r\n */\n\nexport function markerAnimate(element, delay, duration, series, pointIndex, point, isLabel) {\n  var centerX = point.x;\n  var centerY = point.y;\n  var height = 0;\n  element.style.visibility = 'hidden';\n  new Animation({}).animate(element, {\n    duration: duration,\n    delay: delay,\n    progress: function (args) {\n      if (args.timeStamp > args.delay) {\n        args.element.style.visibility = 'visible';\n        height = (args.timeStamp - args.delay) / args.duration;\n        element.setAttribute('transform', 'translate(' + centerX + ' ' + centerY + ') scale(' + height + ') translate(' + -centerX + ' ' + -centerY + ')');\n      }\n    },\n    end: function () {\n      element.style.visibility = '';\n\n      if ((series.type === 'Scatter' || series.type === 'Bubble') && !isLabel && pointIndex === series.points.length - 1) {\n        series.chart.trigger('animationComplete', {\n          series: series.chart.isBlazor ? {} : series\n        });\n      }\n    }\n  });\n}\n/**\r\n * Animate the rect element\r\n */\n\nexport function animateRectElement(element, delay, duration, currentRect, previousRect) {\n  var setStyle = function (rect) {\n    element.setAttribute('x', rect.x + '');\n    element.setAttribute('y', rect.y + '');\n    element.setAttribute('width', rect.width + '');\n    element.setAttribute('height', rect.height + '');\n  };\n\n  new Animation({}).animate(createElement('div'), {\n    duration: duration,\n    delay: delay,\n    //name: name,\n    progress: function (args) {\n      setStyle(new Rect(linear(args.timeStamp, previousRect.x, currentRect.x - previousRect.x, args.duration), linear(args.timeStamp, previousRect.y, currentRect.y - previousRect.y, args.duration), linear(args.timeStamp, previousRect.width, currentRect.width - previousRect.width, args.duration), linear(args.timeStamp, previousRect.height, currentRect.height - previousRect.height, args.duration)));\n    },\n    end: function () {\n      setStyle(currentRect);\n    }\n  });\n}\n/**\r\n * Animation after legend click a path\r\n *\r\n * @param {Element} element element to be animated\r\n * @param {string} direction current direction of the path\r\n * @param {boolean} redraw chart redraw\r\n * @param {string} previousDirection previous direction of the path\r\n * @param {number} animateDuration animateDuration of the path\r\n */\n\nexport function pathAnimation(element, direction, redraw, previousDirection, animateDuration) {\n  if (!redraw || !previousDirection && !element) {\n    return null;\n  }\n\n  var duration = 300;\n\n  if (animateDuration) {\n    duration = animateDuration;\n  }\n\n  var startDirections = previousDirection || element.getAttribute('d');\n  var splitDirections = startDirections.split(/(?=[LMCZAQ])/);\n  var endDirections = direction.split(/(?=[LMCZAQ])/);\n  var currentDireciton;\n  var startPath = [];\n  var endPath = [];\n  var c;\n  var end;\n  element.setAttribute('d', startDirections);\n  new Animation({}).animate(createElement('div'), {\n    duration: duration,\n    progress: function (args) {\n      currentDireciton = '';\n      splitDirections.map(function (directions, index) {\n        startPath = directions.split(' ');\n        endPath = endDirections[index] ? endDirections[index].split(' ') : startPath;\n\n        if (startPath[0] === 'Z') {\n          currentDireciton += 'Z' + ' ';\n        } else {\n          currentDireciton += startPath[0] + ' ' + linear(args.timeStamp, +startPath[1], +endPath[1] - +startPath[1], args.duration) + ' ' + linear(args.timeStamp, +startPath[2], +endPath[2] - +startPath[2], args.duration) + ' ';\n        }\n\n        if (startPath[0] === 'C' || startPath[0] === 'Q') {\n          c = 3;\n          end = startPath[0] === 'Q' ? 4 : 6;\n\n          while (c < end) {\n            currentDireciton += linear(args.timeStamp, +startPath[c], +endPath[c] - +startPath[c], args.duration) + ' ' + linear(args.timeStamp, +startPath[++c], +endPath[c] - +startPath[c], args.duration) + ' ';\n            ++c;\n          }\n        }\n\n        if (startPath[0] === 'A') {\n          currentDireciton += 0 + ' ' + 0 + ' ' + 1 + ' ' + linear(args.timeStamp, +startPath[6], +endPath[6] - +startPath[6], args.duration) + ' ' + linear(args.timeStamp, +startPath[7], +endPath[7] - +startPath[7], args.duration) + ' ';\n        }\n      });\n      element.setAttribute('d', currentDireciton);\n    },\n    end: function () {\n      element.setAttribute('d', direction);\n    }\n  });\n}\n/**\r\n * To append the clip rect element\r\n *\r\n * @param {boolean} redraw chart redraw value\r\n * @param {BaseAttibutes} options element options\r\n * @param {SvgRenderer} renderer svg renderer values\r\n * @param {string} clipPath clipPath of the element\r\n */\n\nexport function appendClipElement(redraw, options, renderer, clipPath) {\n  if (clipPath === void 0) {\n    clipPath = 'drawClipPath';\n  }\n\n  var clipElement = redrawElement(redraw, options.id, options, renderer);\n\n  if (clipElement) {\n    var def = renderer.createDefs();\n    def.appendChild(clipElement);\n    return def;\n  } else {\n    return renderer[clipPath](options);\n  }\n}\n/**\r\n * Triggers the event.\r\n *\r\n * @returns {void}\r\n * @private\r\n */\n\nexport function triggerLabelRender(chart, tempInterval, text, labelStyle, axis) {\n  var argsData = {\n    cancel: false,\n    name: axisLabelRender,\n    axis: axis,\n    text: text,\n    value: tempInterval,\n    labelStyle: labelStyle\n  };\n  chart.trigger(axisLabelRender, argsData);\n\n  if (!argsData.cancel) {\n    var isLineBreakLabels = argsData.text.indexOf('<br>') !== -1;\n    var text_1 = axis.enableTrim ? isLineBreakLabels ? lineBreakLabelTrim(axis.maximumLabelWidth, argsData.text, axis.labelStyle) : textTrim(axis.maximumLabelWidth, argsData.text, axis.labelStyle) : argsData.text;\n    axis.visibleLabels.push(new VisibleLabels(text_1, argsData.value, argsData.labelStyle, argsData.text));\n  }\n}\n/**\r\n * The function used to find whether the range is set.\r\n *\r\n * @returns {boolean} It returns true if the axis range is set otherwise false.\r\n * @private\r\n */\n\nexport function setRange(axis) {\n  return axis.minimum != null && axis.maximum != null;\n}\n/**\r\n * To check whether the axis is zoomed or not.\r\n *\r\n * @param {Axis} axis axis model\r\n */\n\nexport function isZoomSet(axis) {\n  return axis.zoomFactor < 1 && axis.zoomPosition >= 0;\n}\n/**\r\n * Calculate desired interval for the axis.\r\n *\r\n * @returns {void} It returns desired interval count.\r\n * @private\r\n */\n\nexport function getActualDesiredIntervalsCount(availableSize, axis) {\n  var size = axis.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n\n  if (isNullOrUndefined(axis.desiredIntervals)) {\n    var desiredIntervalsCount = (axis.orientation === 'Horizontal' ? 0.533 : 1) * axis.maximumLabels;\n    desiredIntervalsCount = Math.max(size * (desiredIntervalsCount / 100), 1);\n    return desiredIntervalsCount;\n  } else {\n    return axis.desiredIntervals;\n  }\n}\n/**\r\n * Animation for template\r\n *\r\n * @private\r\n */\n\nexport function templateAnimate(element, delay, duration, name, isRemove) {\n  new Animation({}).animate(element, {\n    duration: duration,\n    delay: delay,\n    name: name,\n    progress: function (args) {\n      args.element.style.visibility = 'visible';\n    },\n    end: function (args) {\n      if (isRemove) {\n        remove(args.element);\n      } else {\n        args.element.style.visibility = 'visible';\n      }\n    }\n  });\n}\n/** @private */\n\nexport function drawSymbol(location, shape, size, url, options, label, renderer, clipRect, isChartControl, control) {\n  var chartRenderer = renderer ? renderer : new SvgRenderer('');\n  var shapeOption = calculateShapes(location, size, shape, options, url, isChartControl, control);\n  var drawElement = chartRenderer['draw' + shapeOption.functionName](shapeOption.renderOption, clipRect ? new Int32Array([clipRect.x, clipRect.y]) : null); //drawElement.setAttribute('aria-label', label);\n\n  return drawElement;\n}\n/** @private */\n\nexport function calculateShapes(location, size, shape, options, url, isChart, control) {\n  var dir;\n  var functionName = 'Path';\n  var isBulletChart = isChart;\n  var width = isBulletChart && shape === 'Circle' ? size.width - 2 : size.width;\n  var height = isBulletChart && shape === 'Circle' ? size.height - 2 : size.height;\n  var sizeBullet = isBulletChart ? control.targetWidth : 0;\n  var lx = location.x;\n  var ly = location.y;\n  var y = location.y + -height / 2;\n  var x = location.x + -width / 2;\n  var eq = 72;\n  var xVal;\n  var yVal;\n\n  switch (shape) {\n    case 'Bubble':\n    case 'Circle':\n      functionName = 'Ellipse';\n      merge(options, {\n        'rx': width / 2,\n        'ry': height / 2,\n        'cx': lx,\n        'cy': ly\n      });\n      break;\n\n    case 'Cross':\n      dir = 'M' + ' ' + x + ' ' + ly + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + ly + ' ' + 'M' + ' ' + lx + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + -height / 2);\n      merge(options, {\n        'd': dir,\n        stroke: options.fill\n      });\n      break;\n\n    case 'Multiply':\n      dir = 'M ' + (lx - sizeBullet) + ' ' + (ly - sizeBullet) + ' L ' + (lx + sizeBullet) + ' ' + (ly + sizeBullet) + ' M ' + (lx - sizeBullet) + ' ' + (ly + sizeBullet) + ' L ' + (lx + sizeBullet) + ' ' + (ly - sizeBullet);\n      merge(options, {\n        'd': dir,\n        stroke: options.fill\n      });\n      break;\n\n    case 'HorizontalLine':\n      dir = 'M' + ' ' + x + ' ' + ly + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + ly;\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'VerticalLine':\n      dir = 'M' + ' ' + lx + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + -height / 2);\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Diamond':\n      dir = 'M' + ' ' + x + ' ' + ly + ' ' + 'L' + ' ' + lx + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + ly + ' ' + 'L' + ' ' + lx + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + x + ' ' + ly + ' z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'ActualRect':\n      dir = 'M' + ' ' + x + ' ' + (ly + -height / 8) + ' ' + 'L' + ' ' + (lx + sizeBullet) + ' ' + (ly + -height / 8) + ' ' + 'L' + ' ' + (lx + sizeBullet) + ' ' + (ly + height / 8) + ' ' + 'L' + ' ' + x + ' ' + (ly + height / 8) + ' ' + 'L' + ' ' + x + ' ' + (ly + -height / 8) + ' z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'TargetRect':\n      dir = 'M' + ' ' + (x + sizeBullet) + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + sizeBullet / 2) + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + sizeBullet / 2) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (x + sizeBullet) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (x + sizeBullet) + ' ' + (ly + -height / 2) + ' z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Rectangle':\n    case 'Hilo':\n    case 'HiloOpenClose':\n    case 'Candle':\n    case 'Waterfall':\n    case 'BoxAndWhisker':\n    case 'StepArea':\n    case 'StackingStepArea':\n    case 'Square':\n    case 'Flag':\n      dir = 'M' + ' ' + x + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + x + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + x + ' ' + (ly + -height / 2) + ' z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Pyramid':\n    case 'Triangle':\n      dir = 'M' + ' ' + x + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + x + ' ' + (ly + height / 2) + ' z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Funnel':\n    case 'InvertedTriangle':\n      dir = 'M' + ' ' + (lx + width / 2) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx - width / 2) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly - height / 2) + ' z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Pentagon':\n      for (var i = 0; i <= 5; i++) {\n        xVal = width / 2 * Math.cos(Math.PI / 180 * (i * eq));\n        yVal = height / 2 * Math.sin(Math.PI / 180 * (i * eq));\n\n        if (i === 0) {\n          dir = 'M' + ' ' + (lx + xVal) + ' ' + (ly + yVal) + ' ';\n        } else {\n          dir = dir.concat('L' + ' ' + (lx + xVal) + ' ' + (ly + yVal) + ' ');\n        }\n      }\n\n      dir = dir.concat('Z');\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Image':\n      functionName = 'Image';\n      merge(options, {\n        'href': url,\n        'height': height,\n        'width': width,\n        x: x,\n        y: y\n      });\n      break;\n  }\n\n  options = calculateLegendShapes(location, new Size(width, height), shape, options).renderOption;\n  return {\n    renderOption: options,\n    functionName: functionName\n  };\n}\n/** @private */\n\nexport function getRectLocation(startLocation, endLocation, outerRect) {\n  var x = endLocation.x < outerRect.x ? outerRect.x : endLocation.x > outerRect.x + outerRect.width ? outerRect.x + outerRect.width : endLocation.x;\n  var y = endLocation.y < outerRect.y ? outerRect.y : endLocation.y > outerRect.y + outerRect.height ? outerRect.y + outerRect.height : endLocation.y;\n  return new Rect(x > startLocation.x ? startLocation.x : x, y > startLocation.y ? startLocation.y : y, Math.abs(x - startLocation.x), Math.abs(y - startLocation.y));\n}\n/** @private */\n\nexport function minMax(value, min, max) {\n  return value > max ? max : value < min ? min : value;\n}\n/** @private */\n\nexport function getElement(id) {\n  return document.getElementById(id);\n}\n/** @private */\n\nexport function getTemplateFunction(template) {\n  var templateFn = null;\n\n  try {\n    if (document.querySelectorAll(template).length) {\n      templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n    }\n  } catch (e) {\n    templateFn = templateComplier(template);\n  }\n\n  return templateFn;\n}\n/** @private */\n\nexport function accReactTemplate(childElement, chart, isTemplate, points, argsData, point, datalabelGroup, id, dataLabel, redraw) {\n  var clientRect = childElement.getBoundingClientRect();\n  chart.accumulationDataLabelModule.calculateLabelSize(isTemplate, childElement, point, points, argsData, datalabelGroup, id, dataLabel, redraw, clientRect, true);\n}\n/** @private */\n\nexport function chartReactTemplate(childElement, chart, point, series, labelIndex, redraw) {\n  var parentElement = document.getElementById(chart.element.id + '_Series_' + (series.index === undefined ? series.category : series.index) + '_DataLabelCollections');\n\n  if (parentElement) {\n    if (point.index === 0) {\n      chart.dataLabelCollections = []; // clear old datalabel bounds for react callback\n    }\n\n    chart.dataLabelModule.calculateTemplateLabelSize(parentElement, childElement, point, series, series.marker.dataLabel, labelIndex, series.clipRect, redraw, true);\n  }\n}\n/** @private */\n\nexport function createTemplate(childElement, pointIndex, content, chart, point, series, dataLabelId, labelIndex, argsData, isTemplate, points, datalabelGroup, id, dataLabel, redraw) {\n  var templateFn = getTemplateFunction(content);\n  var templateElement;\n\n  try {\n    var blazor = 'Blazor';\n    var tempObject = window[blazor] ? dataLabelId ? point : {\n      point: point\n    } : {\n      chart: chart,\n      series: series,\n      point: point\n    };\n    var templateId = dataLabelId ? dataLabelId + '_template' : 'template';\n    var elementData = templateFn ? templateFn(tempObject, chart, templateId, dataLabelId || childElement.id.replace(/[^a-zA-Z0-9]/g, '')) : [];\n\n    if (elementData.length) {\n      templateElement = Array.prototype.slice.call(elementData);\n      var len = templateElement.length;\n\n      for (var i = 0; i < len; i++) {\n        childElement.appendChild(templateElement[i]);\n      }\n    }\n\n    var reactCallback = void 0;\n\n    if (chart.getModuleName() === 'accumulationchart') {\n      reactCallback = accReactTemplate.bind(this, childElement, chart, isTemplate, points, argsData, points[pointIndex], datalabelGroup, id, dataLabel, redraw); // tslint:disable-next-line:no-any\n\n      if (chart.isReact) {\n        chart.renderReactTemplates(reactCallback);\n      }\n    } else if (chart.getModuleName() === 'chart') {\n      reactCallback = point && series ? chartReactTemplate.bind(this, childElement, chart, point, series, labelIndex, redraw) : reactCallback; // tslint:disable-next-line:no-any\n\n      if (chart.isReact) {\n        chart.renderReactTemplates(reactCallback);\n      }\n    }\n  } catch (e) {\n    return childElement;\n  }\n\n  return childElement;\n}\n/** @private */\n\nexport function getFontStyle(font) {\n  var style = '';\n  style = 'font-size:' + font.size + '; font-style:' + font.fontStyle + '; font-weight:' + font.fontWeight + '; font-family:' + font.fontFamily + ';opacity:' + font.opacity + '; color:' + font.color + ';';\n  return style;\n}\n/** @private */\n\nexport function measureElementRect(element, redraw, isReactCallback) {\n  if (redraw === void 0) {\n    redraw = false;\n  }\n\n  if (!isReactCallback) {\n    // If the element is already in DOM, no need to append in the body.\n    document.body.appendChild(element);\n  }\n\n  var bounds = element.getBoundingClientRect();\n\n  if (redraw) {\n    remove(element);\n  } else if (!isReactCallback) {\n    // for react chart data label template - (callback function)\n    removeElement(element.id);\n  }\n\n  return bounds;\n}\n/** @private */\n\nexport function findlElement(elements, id) {\n  var element;\n\n  for (var i = 0, length_1 = elements.length; i < length_1; i++) {\n    if (elements[i].id.indexOf(id) > -1) {\n      element = elements[i];\n      continue;\n    }\n  }\n\n  return element;\n}\n/** @private */\n\nexport function getPoint(x, y, xAxis, yAxis, isInverted) {\n  x = xAxis.valueType === 'Logarithmic' ? logBase(x > 0 ? x : Math.pow(xAxis.logBase, xAxis.visibleRange.min), xAxis.logBase) : x;\n  y = yAxis.valueType === 'Logarithmic' ? logBase(y > 0 ? y : Math.pow(yAxis.logBase, yAxis.visibleRange.min), yAxis.logBase) : y;\n  x = valueToCoefficient(x, xAxis);\n  y = valueToCoefficient(y, yAxis);\n  var xLength = isInverted ? xAxis.rect.height : xAxis.rect.width;\n  var yLength = isInverted ? yAxis.rect.width : yAxis.rect.height;\n  var locationX = isInverted ? y * yLength : x * xLength;\n  var locationY = isInverted ? (1 - x) * xLength : (1 - y) * yLength;\n  return new ChartLocation(locationX, locationY);\n}\n/** @private */\n\nexport function appendElement(child, parent, redraw, animate, x, y) {\n  if (redraw === void 0) {\n    redraw = false;\n  }\n\n  if (animate === void 0) {\n    animate = false;\n  }\n\n  if (x === void 0) {\n    x = 'x';\n  }\n\n  if (y === void 0) {\n    y = 'y';\n  }\n\n  if (child && child.hasChildNodes() && parent) {\n    appendChildElement(false, parent, child, redraw, animate, x, y);\n  } else {\n    return null;\n  }\n}\n/**\r\n * Method to append child element\r\n *\r\n * @param {boolean} isCanvas canvas mode value\r\n * @param {Element} parent parent element\r\n * @param {Element} childElement childElement element\r\n * @param {boolean} redraw chart redraw value\r\n * @param {boolean} isAnimate animation value\r\n * @param {string} x x position\r\n * @param {string} y y position\r\n * @param {ChartLocation} start start location value\r\n * @param {string} direction direction of the element\r\n * @param {boolean} forceAnimate forceAnimate\r\n * @param {boolean} isRect isRect\r\n * @param {Rect} previousRect previousRect\r\n * @param {number} animateDuration duration of the animation\r\n */\n\nexport function appendChildElement(isCanvas, parent, childElement, redraw, isAnimate, x, y, start, direction, forceAnimate, isRect, previousRect, animateDuration) {\n  if (isAnimate === void 0) {\n    isAnimate = false;\n  }\n\n  if (x === void 0) {\n    x = 'x';\n  }\n\n  if (y === void 0) {\n    y = 'y';\n  }\n\n  if (forceAnimate === void 0) {\n    forceAnimate = false;\n  }\n\n  if (isRect === void 0) {\n    isRect = false;\n  }\n\n  if (previousRect === void 0) {\n    previousRect = null;\n  }\n\n  if (isCanvas) {\n    return null;\n  }\n\n  var existChild = parent.querySelector('#' + childElement.id);\n  var element = existChild || getElement(childElement.id);\n  var child = childElement;\n  var duration = animateDuration ? animateDuration : 300;\n\n  if (redraw && isAnimate && element) {\n    start = start || (element.tagName === 'DIV' ? new ChartLocation(+element.style[x].split('px')[0], +element.style[y].split('px')[0]) : new ChartLocation(+element.getAttribute(x), +element.getAttribute(y)));\n\n    if (direction && direction !== 'undefined') {\n      pathAnimation(childElement, childElement.getAttribute('d'), redraw, direction, duration);\n    } else if (isRect && previousRect) {\n      animateRectElement(child, 0, duration, new Rect(+element.getAttribute('x'), +element.getAttribute('y'), +element.getAttribute('width'), +element.getAttribute('height')), previousRect);\n    } else {\n      var end = child.tagName === 'DIV' ? new ChartLocation(+child.style[x].split('px')[0], +child.style[y].split('px')[0]) : new ChartLocation(+child.getAttribute(x), +child.getAttribute(y));\n      animateRedrawElement(child, duration, start, end, x, y);\n    }\n  } else if (redraw && isAnimate && !element && forceAnimate) {\n    templateAnimate(child, 0, 600, 'FadeIn');\n  }\n\n  if (existChild) {\n    parent.replaceChild(child, element);\n  } else {\n    parent.appendChild(child);\n  }\n}\n/** @private */\n\nexport function getDraggedRectLocation(x1, y1, x2, y2, outerRect) {\n  var width = Math.abs(x1 - x2);\n  var height = Math.abs(y1 - y2);\n  var x = Math.max(checkBounds(Math.min(x1, x2), width, outerRect.x, outerRect.width), outerRect.x);\n  var y = Math.max(checkBounds(Math.min(y1, y2), height, outerRect.y, outerRect.height), outerRect.y);\n  return new Rect(x, y, Math.min(width, outerRect.width), Math.min(height, outerRect.height));\n}\n/** @private */\n\nexport function checkBounds(start, size, min, max) {\n  if (start < min) {\n    start = min;\n  } else if (start + size > max + min) {\n    start = max + min - size;\n  }\n\n  return start;\n}\n/** @private */\n\nexport function getLabelText(currentPoint, series, chart) {\n  var labelFormat = series.yAxis.labelFormat;\n  var text = [];\n  var customLabelFormat = labelFormat.match('{value}') !== null;\n\n  switch (series.seriesType) {\n    case 'XY':\n      /**\r\n       * I255790\r\n       * For Polar radar series, the dataLabel appears out of range when axis range is given for yaxis\r\n       * Cause: Since symbol location for the points which did not lies in within range, lies outside of seriesRect.\r\n       * Fix: DataLabel rendered after checking WithIn for the points\r\n       */\n      if (series.chart.chartAreaType === 'PolarRadar') {\n        if (series.drawType.indexOf('Stacking') !== -1) {\n          if (series.yAxis.valueType === 'Logarithmic' && logWithIn(series.stackedValues.endValues[currentPoint.index], series.yAxis) || withIn(series.stackedValues.endValues[currentPoint.index], series.yAxis.visibleRange)) {\n            text.push(currentPoint.text || currentPoint.yValue.toString());\n          }\n        } else {\n          if (series.yAxis.valueType === 'Logarithmic' && logWithIn(currentPoint.yValue, series.yAxis) || withIn(currentPoint.yValue, series.yAxis.visibleRange)) {\n            text.push(currentPoint.text || currentPoint.yValue.toString());\n          }\n        }\n      } else {\n        text.push(currentPoint.text || currentPoint.yValue.toString());\n      }\n\n      break;\n\n    case 'HighLow':\n      text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n      text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n      break;\n\n    case 'HighLowOpenClose':\n      text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\n      text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\n      text.push(currentPoint.text || Math.max(currentPoint.open, currentPoint.close).toString());\n      text.push(currentPoint.text || Math.min(currentPoint.open, currentPoint.close).toString());\n      break;\n\n    case 'BoxPlot':\n      text.push(currentPoint.text || currentPoint.median.toString());\n      text.push(currentPoint.text || currentPoint.maximum.toString());\n      text.push(currentPoint.text || currentPoint.minimum.toString());\n      text.push(currentPoint.text || currentPoint.upperQuartile.toString());\n      text.push(currentPoint.text || currentPoint.lowerQuartile.toString());\n\n      for (var _i = 0, _a = currentPoint.outliers; _i < _a.length; _i++) {\n        var liers = _a[_i];\n        text.push(currentPoint.text || liers.toString());\n      }\n\n      break;\n  }\n\n  if (labelFormat && !currentPoint.text) {\n    series.yAxis.format = chart.intl.getNumberFormat({\n      format: customLabelFormat ? '' : labelFormat,\n      useGrouping: chart.useGroupingSeparator\n    });\n\n    for (var i = 0; i < text.length; i++) {\n      text[i] = customLabelFormat ? labelFormat.replace('{value}', series.yAxis.format(parseFloat(text[i]))) : series.yAxis.format(parseFloat(text[i]));\n    }\n  }\n\n  return text;\n}\n/** @private */\n\nexport function stopTimer(timer) {\n  window.clearInterval(timer);\n}\n/** @private */\n\nexport function isCollide(rect, collections, clipRect) {\n  var currentRect = new Rect(rect.x + clipRect.x, rect.y + clipRect.y, rect.width, rect.height);\n  var isCollide = collections.some(function (rect) {\n    return currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x && currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y;\n  });\n  return isCollide;\n}\n/** @private */\n\nexport function isOverlap(currentRect, rect) {\n  return currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x && currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y;\n}\n/** @private */\n\nexport function containsRect(currentRect, rect) {\n  return currentRect.x <= rect.x && currentRect.x + currentRect.width >= rect.x + rect.width && currentRect.y <= rect.y && currentRect.height + currentRect.y >= rect.y + rect.height;\n}\n/** @private */\n\nexport function calculateRect(location, textSize, margin) {\n  return new Rect(location.x - textSize.width / 2 - margin.left, location.y - textSize.height / 2 - margin.top, textSize.width + margin.left + margin.right, textSize.height + margin.top + margin.bottom);\n}\n/** @private */\n\nexport function convertToHexCode(value) {\n  return '#' + componentToHex(value.r) + componentToHex(value.g) + componentToHex(value.b);\n}\n/** @private */\n\nexport function componentToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\n\nexport function convertHexToColor(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? new ColorValue(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) : new ColorValue(255, 255, 255);\n}\n/** @private */\n\nexport function colorNameToHex(color) {\n  color = color === 'transparent' ? 'white' : color;\n  document.body.appendChild(createElement('text', {\n    id: 'chartmeasuretext'\n  }));\n  var element = document.getElementById('chartmeasuretext');\n  element.style.color = color;\n  color = window.getComputedStyle(element).color;\n  remove(element);\n  var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n  var isRGBValue = exp.exec(color);\n  return convertToHexCode(new ColorValue(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\n\nexport function getSaturationColor(color, factor) {\n  color = colorNameToHex(color);\n  color = color.replace(/[^0-9a-f]/gi, '');\n\n  if (color.length < 6) {\n    color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n  }\n\n  factor = factor || 0; // convert to decimal and change luminosity\n\n  var rgb = '#';\n  var colorCode;\n\n  for (var i = 0; i < 3; i++) {\n    colorCode = parseInt(color.substr(i * 2, 2), 16);\n    colorCode = Math.round(Math.min(Math.max(0, colorCode + colorCode * factor), 255));\n    rgb += ('00' + colorCode.toString(16)).substr(colorCode.toString(16).length);\n  }\n\n  return rgb;\n}\n/** @private */\n\nexport function getMedian(values) {\n  var half = Math.floor(values.length / 2);\n  return values.length % 2 ? values[half] : (values[half - 1] + values[half]) / 2.0;\n}\n/** @private */\n\nexport function calculateLegendShapes(location, size, shape, options) {\n  var padding = 10;\n  var dir = '';\n  var space = 2;\n  var height = size.height;\n  var width = size.width;\n  var lx = location.x;\n  var ly = location.y;\n\n  switch (shape) {\n    case 'MultiColoredLine':\n    case 'Line':\n    case 'StackingLine':\n    case 'StackingLine100':\n      dir = 'M' + ' ' + (lx + -width / 2) + ' ' + ly + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + ly;\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'StepLine':\n      options.fill = 'transparent';\n      dir = 'M' + ' ' + (lx + -width / 2 - padding / 4) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + -width / 2 + width / 10) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + -width / 2 + width / 10) + ' ' + ly + ' ' + 'L' + ' ' + (lx + -width / 10) + ' ' + ly + ' ' + 'L' + ' ' + (lx + -width / 10) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + width / 5) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + width / 5) + ' ' + (ly + -height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + -height / 2) + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + ' ' + 'L' + '' + (lx + width / 2 + padding / 4) + ' ' + (ly + height / 2);\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'UpArrow':\n      options.fill = options.stroke;\n      options.stroke = 'transparent';\n      dir = 'M' + ' ' + (lx + -width / 2) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + 'L' + ' ' + (lx + width / 2 - space) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly - height / 2 + 2 * space) + 'L' + (lx - width / 2 + space) + ' ' + (ly + height / 2) + ' Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'DownArrow':\n      dir = 'M' + ' ' + (lx - width / 2) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly - height / 2) + 'L' + ' ' + (lx + width / 2 - space) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + height / 2 - 2 * space) + 'L' + (lx - width / 2 + space) + ' ' + (ly - height / 2) + ' Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'RightArrow':\n      dir = 'M' + ' ' + (lx + -width / 2) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + ly + ' ' + 'L' + ' ' + (lx + -width / 2) + ' ' + (ly + height / 2) + ' L' + ' ' + (lx + -width / 2) + ' ' + (ly + height / 2 - space) + ' ' + 'L' + ' ' + (lx + width / 2 - 2 * space) + ' ' + ly + ' L' + (lx + -width / 2) + ' ' + (ly - height / 2 + space) + ' Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'LeftArrow':\n      options.fill = options.stroke;\n      options.stroke = 'transparent';\n      dir = 'M' + ' ' + (lx + width / 2) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + (lx + -width / 2) + ' ' + ly + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2 - space) + ' L' + ' ' + (lx + -width / 2 + 2 * space) + ' ' + ly + ' L' + (lx + width / 2) + ' ' + (ly - height / 2 + space) + ' Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Column':\n    case 'Pareto':\n    case 'StackingColumn':\n    case 'StackingColumn100':\n    case 'RangeColumn':\n    case 'Histogram':\n      dir = 'M' + ' ' + (lx - 3 * (width / 5)) + ' ' + (ly - height / 5) + ' ' + 'L' + ' ' + (lx + 3 * (-width / 10)) + ' ' + (ly - height / 5) + ' ' + 'L' + ' ' + (lx + 3 * (-width / 10)) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx - 3 * (width / 5)) + ' ' + (ly + height / 2) + ' ' + 'Z' + ' ' + 'M' + ' ' + (lx + -width / 10 - width / 20) + ' ' + (ly - height / 4 - padding / 2) + ' ' + 'L' + ' ' + (lx + width / 10 + width / 20) + ' ' + (ly - height / 4 - padding / 2) + ' ' + 'L' + ' ' + (lx + width / 10 + width / 20) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + -width / 10 - width / 20) + ' ' + (ly + height / 2) + ' ' + 'Z' + ' ' + 'M' + ' ' + (lx + 3 * (width / 10)) + ' ' + ly + ' ' + 'L' + ' ' + (lx + 3 * (width / 5)) + ' ' + ly + ' ' + 'L' + ' ' + (lx + 3 * (width / 5)) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + 3 * (width / 10)) + ' ' + (ly + height / 2) + ' ' + 'Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Bar':\n    case 'StackingBar':\n    case 'StackingBar100':\n      dir = 'M' + ' ' + (lx + -width / 2 + -padding / 4) + ' ' + (ly - 3 * (height / 5)) + ' ' + 'L' + ' ' + (lx + 3 * (width / 10)) + ' ' + (ly - 3 * (height / 5)) + ' ' + 'L' + ' ' + (lx + 3 * (width / 10)) + ' ' + (ly - 3 * (height / 10)) + ' ' + 'L' + ' ' + (lx - width / 2 + -padding / 4) + ' ' + (ly - 3 * (height / 10)) + ' ' + 'Z' + ' ' + 'M' + ' ' + (lx + -width / 2 + -padding / 4) + ' ' + (ly - height / 5 + padding / 20) + ' ' + 'L' + ' ' + (lx + width / 2 + padding / 4) + ' ' + (ly - height / 5 + padding / 20) + ' ' + 'L' + ' ' + (lx + width / 2 + padding / 4) + ' ' + (ly + height / 10 + padding / 20) + ' ' + 'L' + ' ' + (lx - width / 2 + -padding / 4) + ' ' + (ly + height / 10 + padding / 20) + ' ' + 'Z' + ' ' + 'M' + ' ' + (lx - width / 2 + -padding / 4) + ' ' + (ly + height / 5 + padding / 10) + ' ' + 'L' + ' ' + (lx + -width / 4) + ' ' + (ly + height / 5 + padding / 10) + ' ' + 'L' + ' ' + (lx + -width / 4) + ' ' + (ly + height / 2 + padding / 10) + ' ' + 'L' + ' ' + (lx - width / 2 + -padding / 4) + ' ' + (ly + height / 2 + padding / 10) + ' ' + 'Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Spline':\n      options.fill = 'transparent';\n      dir = 'M' + ' ' + (lx - width / 2) + ' ' + (ly + height / 5) + ' ' + 'Q' + ' ' + lx + ' ' + (ly - height) + ' ' + lx + ' ' + (ly + height / 5) + ' ' + 'M' + ' ' + lx + ' ' + (ly + height / 5) + ' ' + 'Q' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + ' ' + (lx + width / 2) + ' ' + (ly - height / 2);\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Area':\n    case 'MultiColoredArea':\n    case 'RangeArea':\n    case 'StackingArea':\n    case 'StackingArea100':\n      dir = 'M' + ' ' + (lx - width / 2 - padding / 4) + ' ' + (ly + height / 2) + ' ' + 'L' + ' ' + (lx + -width / 4 + -padding / 8) + ' ' + (ly - height / 2) + ' ' + 'L' + ' ' + lx + ' ' + (ly + height / 4) + ' ' + 'L' + ' ' + (lx + width / 4 + padding / 8) + ' ' + (ly + -height / 2 + height / 4) + ' ' + 'L' + ' ' + (lx + height / 2 + padding / 4) + ' ' + (ly + height / 2) + ' ' + 'Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'SplineArea':\n    case 'SplineRangeArea':\n      dir = 'M' + ' ' + (lx - width / 2) + ' ' + (ly + height / 5) + ' ' + 'Q' + ' ' + lx + ' ' + (ly - height) + ' ' + lx + ' ' + (ly + height / 5) + ' ' + 'Z' + ' ' + 'M' + ' ' + lx + ' ' + (ly + height / 5) + ' ' + 'Q' + ' ' + (lx + width / 2) + ' ' + (ly + height / 2) + ' ' + (lx + width / 2) + ' ' + (ly - height / 2) + ' ' + ' Z';\n      merge(options, {\n        'd': dir\n      });\n      break;\n\n    case 'Pie':\n    case 'Doughnut':\n      options.stroke = 'transparent'; // eslint-disable-next-line no-case-declarations\n\n      var r = Math.min(height, width) / 2;\n      dir = getAccumulationLegend(lx, ly, r, height, width, shape);\n      merge(options, {\n        'd': dir\n      });\n      break;\n  }\n\n  return {\n    renderOption: options\n  };\n}\n/** @private */\n\nexport function textTrim(maxWidth, text, font) {\n  var label = text;\n  var size = measureText(text, font).width;\n\n  if (size > maxWidth) {\n    var textLength = text.length;\n\n    for (var i = textLength - 1; i >= 0; --i) {\n      label = text.substring(0, i) + '...';\n      size = measureText(label, font).width;\n\n      if (size <= maxWidth) {\n        return label;\n      }\n    }\n  }\n\n  return label;\n}\n/** @private */\n\nexport function lineBreakLabelTrim(maxWidth, text, font) {\n  var labelCollection = [];\n  var breakLabels = text.split('<br>');\n\n  for (var i = 0; i < breakLabels.length; i++) {\n    text = breakLabels[i];\n    var size = measureText(text, font).width;\n\n    if (size > maxWidth) {\n      var textLength = text.length;\n\n      for (var i_1 = textLength - 1; i_1 >= 0; --i_1) {\n        text = text.substring(0, i_1) + '...';\n        size = measureText(text, font).width;\n\n        if (size <= maxWidth) {\n          labelCollection.push(text);\n          break;\n        }\n      }\n    } else {\n      labelCollection.push(text);\n    }\n  }\n\n  return labelCollection;\n}\n/** @private */\n\nexport function stringToNumber(value, containerSize) {\n  if (value !== null && value !== undefined) {\n    return value.indexOf('%') !== -1 ? containerSize / 100 * parseInt(value, 10) : parseInt(value, 10);\n  }\n\n  return null;\n}\n/** @private */\n\nexport function redrawElement(redraw, id, options, renderer) {\n  if (!redraw) {\n    return null;\n  }\n\n  var element = getElement(id);\n\n  if (element && options) {\n    renderer.setElementAttributes(options, element.tagName === 'clipPath' ? element.childNodes[0] : element);\n  }\n\n  return element;\n}\n/** @private */\n\nexport function animateRedrawElement(element, duration, start, end, x, y) {\n  if (x === void 0) {\n    x = 'x';\n  }\n\n  if (y === void 0) {\n    y = 'y';\n  }\n\n  var isDiv = element.tagName === 'DIV';\n\n  var setStyle = function (xValue, yValue) {\n    if (isDiv) {\n      element.style[x] = xValue + 'px';\n      element.style[y] = yValue + 'px';\n    } else {\n      element.setAttribute(x, xValue + '');\n      element.setAttribute(y, yValue + '');\n    }\n  };\n\n  setStyle(start.x, start.y);\n  new Animation({}).animate(createElement('div'), {\n    duration: duration,\n    progress: function (args) {\n      setStyle(linear(args.timeStamp, start.x, end.x - start.x, args.duration), linear(args.timeStamp, start.y, end.y - start.y, args.duration));\n    },\n    end: function () {\n      setStyle(end.x, end.y);\n    }\n  });\n}\n/** @private */\n\nexport function textElement(renderer, option, font, color, parent, isMinus, redraw, isAnimate, forceAnimate, animateDuration, seriesClipRect, labelSize, isRotatedLabelIntersect, isCanvas) {\n  if (isMinus === void 0) {\n    isMinus = false;\n  }\n\n  if (forceAnimate === void 0) {\n    forceAnimate = false;\n  }\n\n  var renderOptions = {};\n  var tspanElement; //let renderer: SvgRenderer = new SvgRenderer('');\n\n  var height;\n  var dy;\n  var label;\n  renderOptions = {\n    'id': option.id,\n    'x': option.x,\n    'y': option.y,\n    'fill': color ? color : 'black',\n    'font-size': font.size,\n    'font-style': font.fontStyle,\n    'font-family': font.fontFamily,\n    'font-weight': font.fontWeight,\n    'text-anchor': option.anchor,\n    'labelRotation': option.labelRotation,\n    'transform': option.transform,\n    'opacity': font.opacity,\n    'dominant-baseline': option.baseLine\n  };\n  var text = typeof option.text === 'string' ? option.text : isMinus ? option.text[option.text.length - 1] : option.text[0];\n  var transX = seriesClipRect ? seriesClipRect.x : 0;\n  var transY = seriesClipRect ? seriesClipRect.y : 0;\n  var htmlObject = renderer.createText(renderOptions, text, transX, transY);\n  htmlObject.style.fontFamily = font.fontFamily;\n  htmlObject.style.fontStyle = font.fontStyle;\n  htmlObject.style.fontSize = font.size;\n  htmlObject.style.fontWeight = font.fontWeight;\n  htmlObject.style.color = font.color;\n  htmlObject.style.textAnchor = option.anchor;\n\n  if (typeof option.text !== 'string' && option.text.length > 1) {\n    for (var i = 1, len = option.text.length; i < len; i++) {\n      height = measureText(option.text[i], font).height;\n      dy = option.y + (isMinus ? -(i * height) : i * height);\n      label = isMinus ? option.text[option.text.length - (i + 1)] : option.text[i];\n\n      if (isCanvas) {\n        tspanElement = renderer.createText(renderOptions, label, null, null, dy, true);\n      } else {\n        tspanElement = renderer.createTSpan({\n          'x': option.x,\n          'id': option.id,\n          'y': dy\n        }, label);\n        htmlObject.appendChild(tspanElement);\n      }\n    }\n  }\n\n  if (!isRotatedLabelIntersect) {\n    appendChildElement(renderer instanceof CanvasRenderer, parent, htmlObject, redraw, isAnimate, 'x', 'y', null, null, forceAnimate, false, null, animateDuration);\n  }\n\n  return htmlObject;\n}\n/**\r\n * Method to calculate the width and height of the chart\r\n */\n\nexport function calculateSize(chart) {\n  // fix for Chart rendered with default width in IE issue\n  var containerWidth = chart.element.clientWidth || chart.element.offsetWidth;\n  var containerHeight = chart.element.clientHeight;\n\n  if (chart.stockChart) {\n    containerWidth = chart.stockChart.availableSize.width;\n    containerHeight = chart.stockChart.availableSize.height;\n  }\n\n  var height = 450;\n  var marginHeight;\n\n  if (chart.getModuleName() === 'rangeNavigator') {\n    var range = chart;\n    var tooltipSpace = range.tooltip.enable ? 35 : 0;\n    var periodHeight = range.periodSelectorSettings.periods.length ? range.periodSelectorSettings.height : 0;\n    marginHeight = range.margin.top + range.margin.bottom + tooltipSpace;\n    var labelSize = measureText('tempString', range.labelStyle).height;\n    var labelPadding = 15;\n    height = (chart.series.length ? Browser.isDevice ? 80 : 120 : (range.enableGrouping ? 40 + labelPadding + labelSize : 40) + marginHeight) + periodHeight;\n\n    if (range.disableRangeSelector) {\n      height = periodHeight;\n    }\n  }\n\n  chart.availableSize = new Size(stringToNumber(chart.width, containerWidth) || containerWidth || 600, stringToNumber(chart.height, containerHeight || height) || containerHeight || height);\n}\n/**\r\n * To create svg element.\r\n *\r\n * @param {Chart} chart chart instance\r\n */\n\nexport function createSvg(chart) {\n  chart.canvasRender = new CanvasRenderer(chart.element.id);\n  chart.renderer = chart.enableCanvas ? chart.canvasRender : new SvgRenderer(chart.element.id);\n  calculateSize(chart);\n\n  if (chart.stockChart && chart.getModuleName() === 'chart') {\n    chart.svgObject = chart.stockChart.chartObject;\n  } else if (chart.stockChart && chart.getModuleName() === 'rangeNavigator') {\n    chart.svgObject = chart.stockChart.selectorObject;\n  } else {\n    if (chart.enableCanvas) {\n      chart.svgObject = chart.renderer.createCanvas({\n        id: chart.element.id + '_canvas',\n        width: chart.availableSize.width,\n        height: chart.availableSize.height\n      });\n    } else {\n      chart.svgObject = chart.renderer.createSvg({\n        id: chart.element.id + '_svg',\n        width: chart.availableSize.width,\n        height: chart.availableSize.height\n      });\n    }\n  }\n\n  if (chart.enableCanvas) {\n    chart.renderer.ctx.direction = chart.enableRtl ? 'rtl' : 'ltr';\n  }\n}\n/**\r\n * To calculate chart title and height\r\n *\r\n * @param {string} title text of the title\r\n * @param {FontModel} style style of the title\r\n * @param {number} width width of the title\r\n */\n\nexport function getTitle(title, style, width) {\n  var titleCollection = [];\n\n  switch (style.textOverflow) {\n    case 'Wrap':\n      titleCollection = textWrap(title, width, style);\n      break;\n\n    case 'Trim':\n      titleCollection.push(textTrim(width, title, style));\n      break;\n\n    default:\n      titleCollection.push(title);\n      break;\n  }\n\n  return titleCollection;\n}\n/**\r\n * Method to calculate x position of title\r\n */\n\nexport function titlePositionX(rect, titleStyle) {\n  var positionX;\n\n  if (titleStyle.textAlignment === 'Near') {\n    positionX = rect.x;\n  } else if (titleStyle.textAlignment === 'Center') {\n    positionX = rect.x + rect.width / 2;\n  } else {\n    positionX = rect.x + rect.width;\n  }\n\n  return positionX;\n}\n/**\r\n * Method to find new text and element size based on textOverflow\r\n */\n\nexport function textWrap(currentLabel, maximumWidth, font) {\n  var textCollection = currentLabel.split(' ');\n  var label = '';\n  var labelCollection = [];\n  var text;\n\n  for (var i = 0, len = textCollection.length; i < len; i++) {\n    text = textCollection[i];\n\n    if (measureText(label.concat(text), font).width < maximumWidth) {\n      label = label.concat((label === '' ? '' : ' ') + text);\n    } else {\n      if (label !== '') {\n        labelCollection.push(textTrim(maximumWidth, label, font));\n        label = text;\n      } else {\n        labelCollection.push(textTrim(maximumWidth, text, font));\n        text = '';\n      }\n    }\n\n    if (label && i === len - 1) {\n      labelCollection.push(textTrim(maximumWidth, label, font));\n    }\n  }\n\n  return labelCollection;\n}\n/**\r\n * Method to support the subscript and superscript value to text\r\n */\n\nexport function getUnicodeText(text, regexp) {\n  var title = text.replace(regexp, ' ');\n  var digit = text.match(regexp);\n  var digitSpecific = ' ';\n  var convertedText = ' ';\n  var k = 0;\n  var unicodeSub = {\n    '0': '\\u2080',\n    '1': '\\u2081',\n    '2': '\\u2082',\n    '3': '\\u2083',\n    '4': '\\u2084',\n    '5': '\\u2085',\n    '6': '\\u2086',\n    '7': '\\u2087',\n    '8': '\\u2088',\n    '9': '\\u2089'\n  };\n  var unicodeSup = {\n    '0': '\\u2070',\n    '1': '\\u00B9',\n    '2': '\\u00B2',\n    '3': '\\u00B3',\n    '4': '\\u2074',\n    '5': '\\u2075',\n    '6': '\\u2076',\n    '7': '\\u2077',\n    '8': '\\u2078',\n    '9': '\\u2079'\n  };\n\n  for (var i = 0; i <= title.length - 1; i++) {\n    if (title[i] === ' ') {\n      digitSpecific = regexp === regSub ? digit[k].replace(/~/g, '') : digit[k].replace(/\\^/g, '');\n\n      for (var j = 0; j < digitSpecific.length; j++) {\n        convertedText += regexp === regSub ? unicodeSub[digitSpecific[j]] : unicodeSup[digitSpecific[j]];\n      }\n\n      k++;\n    } else {\n      convertedText += title[i];\n    }\n  }\n\n  return convertedText.trim();\n}\n/**\r\n * Method to reset the blazor templates\r\n */\n\nexport function blazorTemplatesReset(control) {\n  for (var i = 0; i < control.annotations.length; i++) {\n    resetBlazorTemplate((control.element.id + '_Annotation_' + i).replace(/[^a-zA-Z0-9]/g, ''), 'ContentTemplate');\n  } //This reset the tooltip templates\n\n\n  resetBlazorTemplate(control.element.id + '_tooltipparent_template' + '_blazorTemplate', 'Template'); //Datalabel templates reset\n\n  resetBlazorTemplate(control.element.id + '_DataLabel');\n}\n/** @private */\n\nvar CustomizeOption =\n/** @class */\nfunction () {\n  function CustomizeOption(id) {\n    this.id = id;\n  }\n\n  return CustomizeOption;\n}();\n\nexport { CustomizeOption };\n/** @private */\n\nvar StackValues =\n/** @class */\nfunction () {\n  function StackValues(startValue, endValue) {\n    this.startValues = startValue;\n    this.endValues = endValue;\n  }\n\n  return StackValues;\n}();\n\nexport { StackValues };\n/** @private */\n\nvar RectOption =\n/** @class */\nfunction (_super) {\n  __extends(RectOption, _super);\n\n  function RectOption(id, fill, border, opacity, rect, rx, ry, transform, dashArray) {\n    var _this = _super.call(this, id, fill, border.width, border.color, opacity, dashArray) || this;\n\n    _this.y = rect.y;\n    _this.x = rect.x;\n    _this.height = rect.height;\n    _this.width = rect.width;\n    _this.rx = rx ? rx : 0;\n    _this.ry = ry ? ry : 0;\n    _this.transform = transform ? transform : '';\n    _this.stroke = border.width !== 0 && _this.stroke !== '' ? border.color : 'transparent';\n    return _this;\n  }\n\n  return RectOption;\n}(PathOption);\n\nexport { RectOption };\n/** @private */\n\nvar ImageOption =\n/** @class */\nfunction () {\n  function ImageOption(height, width, href, x, y, id, visibility, preserveAspectRatio) {\n    this.height = height;\n    this.width = width;\n    this.href = href;\n    this.x = x;\n    this.y = y;\n    this.id = id;\n    this.visibility = visibility;\n    this.preserveAspectRatio = preserveAspectRatio;\n  }\n\n  return ImageOption;\n}();\n\nexport { ImageOption };\n/** @private */\n\nvar CircleOption =\n/** @class */\nfunction (_super) {\n  __extends(CircleOption, _super);\n\n  function CircleOption(id, fill, border, opacity, cx, cy, r) {\n    var _this = _super.call(this, id, fill, border.width, border.color, opacity) || this;\n\n    _this.cy = cy;\n    _this.cx = cx;\n    _this.r = r;\n    return _this;\n  }\n\n  return CircleOption;\n}(PathOption);\n\nexport { CircleOption };\n/** @private */\n\nvar PolygonOption =\n/** @class */\nfunction () {\n  function PolygonOption(id, points, fill) {\n    this.id = id;\n    this.points = points;\n    this.fill = fill;\n  }\n\n  return PolygonOption;\n}();\n\nexport { PolygonOption };\n/** @private */\n\nvar ChartLocation =\n/** @class */\nfunction () {\n  function ChartLocation(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  return ChartLocation;\n}();\n\nexport { ChartLocation };\n/** @private */\n\nvar LabelLocation =\n/** @class */\nfunction () {\n  function LabelLocation(x, y) {\n    this.x = 0;\n    this.y = 0;\n    this.x = x;\n    this.y = y;\n  }\n\n  return LabelLocation;\n}();\n\nexport { LabelLocation };\n/** @private */\n\nvar Thickness =\n/** @class */\nfunction () {\n  function Thickness(left, right, top, bottom) {\n    this.left = left;\n    this.right = right;\n    this.top = top;\n    this.bottom = bottom;\n  }\n\n  return Thickness;\n}();\n\nexport { Thickness };\n/** @private */\n\nvar ColorValue =\n/** @class */\nfunction () {\n  function ColorValue(r, g, b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n\n  return ColorValue;\n}();\n\nexport { ColorValue };\n/** @private */\n\nvar PointData =\n/** @class */\nfunction () {\n  function PointData(point, series, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n\n    this.point = point;\n    this.series = series;\n    this.lierIndex = index;\n  }\n\n  return PointData;\n}();\n\nexport { PointData };\n/** @private */\n\nvar AccPointData =\n/** @class */\nfunction () {\n  function AccPointData(point, series, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n\n    this.point = point;\n    this.series = series;\n    this.index = index;\n  }\n\n  return AccPointData;\n}();\n\nexport { AccPointData };\n/** @private */\n\nvar ControlPoints =\n/** @class */\nfunction () {\n  function ControlPoints(controlPoint1, controlPoint2) {\n    this.controlPoint1 = controlPoint1;\n    this.controlPoint2 = controlPoint2;\n  }\n\n  return ControlPoints;\n}();\n\nexport { ControlPoints };\n/** @private */\n\nexport function getColorByValue(colorMap, value) {\n  var color = '';\n  var rbgColorValue;\n\n  if (Number(value) === colorMap.start) {\n    color = colorMap.colors[0];\n  } else if (Number(value) === colorMap.end) {\n    color = colorMap.colors[colorMap.colors.length - 1];\n  } else {\n    rbgColorValue = getGradientColor(Number(value), colorMap);\n    color = convertToHexCode(rbgColorValue);\n  }\n\n  return color;\n}\n/** @private */\n\nexport function getGradientColor(value, colorMap) {\n  var previousOffset = colorMap.start;\n  var nextOffset = colorMap.end;\n  var percent = 0;\n  var full = nextOffset - previousOffset;\n  var midColor;\n  percent = (value - previousOffset) / full;\n  var previousColor;\n  var nextColor;\n\n  if (colorMap.colors.length <= 2) {\n    previousColor = colorMap.colors[0].charAt(0) === '#' ? colorMap.colors[0] : colorNameToHex(colorMap.colors[0]);\n    nextColor = colorMap.colors[colorMap.colors.length - 1].charAt(0) === '#' ? colorMap.colors[colorMap.colors.length - 1] : colorNameToHex(colorMap.colors[colorMap.colors.length - 1]);\n  } else {\n    previousColor = colorMap.colors[0].charAt(0) === '#' ? colorMap.colors[0] : colorNameToHex(colorMap.colors[0]);\n    nextColor = colorMap.colors[colorMap.colors.length - 1].charAt(0) === '#' ? colorMap.colors[colorMap.colors.length - 1] : colorNameToHex(colorMap.colors[colorMap.colors.length - 1]);\n    var a = full / (colorMap.colors.length - 1);\n    var b = void 0;\n    var c = void 0;\n    var length_2 = colorMap.colors.length - 1;\n    var splitColorValueOffset = [];\n    var splitColor = {};\n\n    for (var j = 1; j < length_2; j++) {\n      c = j * a;\n      b = previousOffset + c;\n      splitColor = {\n        b: b,\n        color: colorMap.colors[j]\n      };\n      splitColorValueOffset.push(splitColor);\n    }\n\n    for (var i = 0; i < splitColorValueOffset.length; i++) {\n      if (previousOffset <= value && value <= splitColorValueOffset[i]['b'] && i === 0) {\n        midColor = splitColorValueOffset[i]['color'].charAt(0) === '#' ? splitColorValueOffset[i]['color'] : colorNameToHex(splitColorValueOffset[i]['color']);\n        nextColor = midColor;\n        percent = value <= splitColorValueOffset[i]['b'] ? 1 - Math.abs((value - splitColorValueOffset[i]['b']) / a) : (value - splitColorValueOffset[i]['b']) / a;\n      } else if (splitColorValueOffset[i]['b'] <= value && value <= nextOffset && i === splitColorValueOffset.length - 1) {\n        midColor = splitColorValueOffset[i]['color'].charAt(0) === '#' ? splitColorValueOffset[i]['color'] : colorNameToHex(splitColorValueOffset[i]['color']);\n        previousColor = midColor;\n        percent = value < splitColorValueOffset[i]['b'] ? 1 - Math.abs((value - splitColorValueOffset[i]['b']) / a) : (value - splitColorValueOffset[i]['b']) / a;\n      }\n\n      if (i !== splitColorValueOffset.length - 1 && i < splitColorValueOffset.length) {\n        if (splitColorValueOffset[i]['b'] <= value && value <= splitColorValueOffset[i + 1]['b']) {\n          midColor = splitColorValueOffset[i]['color'].charAt(0) === '#' ? splitColorValueOffset[i]['color'] : colorNameToHex(splitColorValueOffset[i]['color']);\n          previousColor = midColor;\n          nextColor = splitColorValueOffset[i + 1]['color'].charAt(0) === '#' ? splitColorValueOffset[i + 1]['color'] : colorNameToHex(splitColorValueOffset[i + 1]['color']);\n          percent = Math.abs(value - splitColorValueOffset[i + 1]['b']) / a;\n        }\n      }\n    }\n  }\n\n  return getPercentageColor(percent, previousColor, nextColor);\n}\n/** @private */\n\nexport function getPercentageColor(percent, previous, next) {\n  var nextColor = next.split('#')[1];\n  var prevColor = previous.split('#')[1];\n  var r = getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n  var g = getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n  var b = getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n  return new ColorValue(r, g, b);\n}\n/** @private */\n\nexport function getPercentage(percent, previous, next) {\n  var full = next - previous;\n  return Math.round(previous + full * percent);\n}\n/** @private */\n\nexport function getTextAnchor(alignment, enableRTL) {\n  switch (alignment) {\n    case 'Near':\n      return enableRTL ? 'end' : 'start';\n\n    case 'Far':\n      return enableRTL ? 'start' : 'end';\n\n    default:\n      return 'middle';\n  }\n}","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/common/utils/helper.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Animation","compile","templateComplier","Browser","merge","extend","isNullOrUndefined","resetBlazorTemplate","createElement","remove","Index","VisibleLabels","axisLabelRender","regSub","measureText","findDirection","Rect","TextOption","Size","PathOption","SvgRenderer","CanvasRenderer","sort","data","fields","isDescending","sortData","a","first","second","i","length","isBreakLabel","label","indexOf","getVisiblePoints","series","points","tempPoints","tempPoint","pointIndex","x","index","push","rotateTextSize","font","text","angle","chart","renderer","element","id","labelText","textCollection","height","dy","tspanElement","options","initialClipRect","y","size","fontStyle","fontFamily","fontWeight","split","htmlObject","createText","delayRedraw","redraw","appendChild","svgObject","len","createTSpan","box","getBoundingClientRect","right","left","bottom","top","removeElement","getElement","logBase","value","base","Math","log","showTooltip","areaWidth","isTouch","isTitleOrLegendEnabled","tooltip","document","getElementById","width","innerHTML","styles","toString","parseInt","style","replace","setTimeout","inside","range","max","min","withIn","logWithIn","axis","valueType","withInRange","previousPoint","currentPoint","nextPoint","mX2","xValue","xAxis","mX1","mX3","xStart","floor","visibleRange","xEnd","ceil","sum","values","_i","values_1","subArraySum","last","yName","subtractThickness","rect","thickness","subtractRect","degreeToLocation","degree","radius","center","radian","PI","ChartLocation","cos","sin","degreeToRadian","getRotatedRectangleCoordinates","actualPoints","centerX","centerY","coordinatesAfterRotation","point","tempX","tempY","rotatedX","rotatedY","isRotatedRectIntersect","polygons","minA","maxA","projected","i1","j","minB","maxB","polygon","i2","p1","p2","normal","undefined","getAccumulationLegend","locX","locY","r","mode","cartesianlarge","cartesiansmall","getAngle","atan2","subArray","valueToCoefficient","result","delta","isInverse","isChart","isAxisInverse","isInversed","TransformToVisible","yAxis","isInverted","labelPlacement","type","CoefficientToVector","valueToPolarCoefficient","primaryXAxis","startAngle","clipRect","indexFinder","isPoint","ids","coefficient","dateTimeInterval","interval","visibleLabels","Mean","verticalStandardMean","verticalSquareRoot","horizontalStandardMean","horizontalSquareRoot","verticalMean","horizontalMean","PolarArc","endAngle","innerRadius","currentXPosition","createTooltip","fontSize","body","setAttribute","createZoomingLabels","parent","isVertical","margin","opposedPosition","isAxisOpposedPosition","anchor","chartRect","availableSize","rx","arrowLocation","direction","scrollBarHeight","scrollbarSettings","enable","zoomingScrollBar","endLabel","startLabel","labelStyle","drawPath","themeStyle","crosshairFill","textElement","color","crosshairLabel","withInBounds","bounds","getValueXByPoint","actualValue","getValueYByPoint","findClipRect","requireInvertedAxis","firstToLowerCase","str","substr","toLowerCase","getTransform","invertedAxis","getMinPointsDelta","seriesCollection","minDelta","Number","MAX_VALUE","xValues","minVal","seriesMin","visible","name","xAxisName","map","xMin","xMax","index_1","getAnimationFunction","effect","functionName","linear","currentTime","startValue","endValue","duration","markerAnimate","delay","isLabel","visibility","animate","progress","args","timeStamp","end","trigger","isBlazor","animateRectElement","currentRect","previousRect","setStyle","pathAnimation","previousDirection","animateDuration","startDirections","getAttribute","splitDirections","endDirections","currentDireciton","startPath","endPath","c","directions","appendClipElement","clipPath","clipElement","redrawElement","def","createDefs","triggerLabelRender","tempInterval","argsData","cancel","isLineBreakLabels","text_1","enableTrim","lineBreakLabelTrim","maximumLabelWidth","textTrim","setRange","minimum","maximum","isZoomSet","zoomFactor","zoomPosition","getActualDesiredIntervalsCount","orientation","desiredIntervals","desiredIntervalsCount","maximumLabels","templateAnimate","isRemove","drawSymbol","location","shape","url","isChartControl","control","chartRenderer","shapeOption","calculateShapes","drawElement","renderOption","Int32Array","dir","isBulletChart","sizeBullet","targetWidth","lx","ly","eq","xVal","yVal","stroke","fill","concat","calculateLegendShapes","getRectLocation","startLocation","endLocation","outerRect","abs","minMax","getTemplateFunction","template","templateFn","querySelectorAll","querySelector","trim","e","accReactTemplate","childElement","isTemplate","datalabelGroup","dataLabel","clientRect","accumulationDataLabelModule","calculateLabelSize","chartReactTemplate","labelIndex","parentElement","category","dataLabelCollections","dataLabelModule","calculateTemplateLabelSize","marker","createTemplate","content","dataLabelId","templateElement","blazor","tempObject","window","templateId","elementData","slice","call","reactCallback","getModuleName","bind","isReact","renderReactTemplates","getFontStyle","opacity","measureElementRect","isReactCallback","findlElement","elements","length_1","getPoint","pow","xLength","yLength","locationX","locationY","appendElement","child","hasChildNodes","appendChildElement","isCanvas","isAnimate","start","forceAnimate","isRect","existChild","tagName","animateRedrawElement","replaceChild","getDraggedRectLocation","x1","y1","x2","y2","checkBounds","getLabelText","labelFormat","customLabelFormat","match","seriesType","chartAreaType","drawType","stackedValues","endValues","yValue","high","low","open","close","median","upperQuartile","lowerQuartile","_a","outliers","liers","format","intl","getNumberFormat","useGrouping","useGroupingSeparator","parseFloat","stopTimer","timer","clearInterval","isCollide","collections","some","isOverlap","containsRect","calculateRect","textSize","convertToHexCode","componentToHex","g","hex","convertHexToColor","exec","ColorValue","colorNameToHex","getComputedStyle","exp","isRGBValue","getSaturationColor","factor","rgb","colorCode","round","getMedian","half","padding","space","maxWidth","textLength","substring","labelCollection","breakLabels","i_1","stringToNumber","containerSize","setElementAttributes","childNodes","isDiv","option","isMinus","seriesClipRect","labelSize","isRotatedLabelIntersect","renderOptions","labelRotation","transform","baseLine","transX","transY","textAnchor","calculateSize","containerWidth","clientWidth","offsetWidth","containerHeight","clientHeight","stockChart","marginHeight","tooltipSpace","periodHeight","periodSelectorSettings","periods","labelPadding","isDevice","enableGrouping","disableRangeSelector","createSvg","canvasRender","enableCanvas","chartObject","selectorObject","createCanvas","ctx","enableRtl","getTitle","title","titleCollection","textOverflow","textWrap","titlePositionX","titleStyle","positionX","textAlignment","currentLabel","maximumWidth","getUnicodeText","regexp","digit","digitSpecific","convertedText","k","unicodeSub","unicodeSup","blazorTemplatesReset","annotations","CustomizeOption","StackValues","startValues","RectOption","_super","border","ry","dashArray","_this","ImageOption","href","preserveAspectRatio","CircleOption","cx","cy","PolygonOption","LabelLocation","Thickness","PointData","lierIndex","AccPointData","ControlPoints","controlPoint1","controlPoint2","getColorByValue","colorMap","rbgColorValue","colors","getGradientColor","previousOffset","nextOffset","percent","full","midColor","previousColor","nextColor","charAt","length_2","splitColorValueOffset","splitColor","getPercentageColor","previous","next","prevColor","getPercentage","getTextAnchor","alignment","enableRTL"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/* eslint-disable jsdoc/require-returns */\r\n/* eslint-disable jsdoc/require-param */\r\n/* eslint-disable @typescript-eslint/no-inferrable-types */\r\n/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable valid-jsdoc */\r\nimport { Animation, compile as templateComplier, Browser } from '@syncfusion/ej2-base';\r\nimport { merge, extend, isNullOrUndefined, resetBlazorTemplate } from '@syncfusion/ej2-base';\r\nimport { createElement, remove } from '@syncfusion/ej2-base';\r\nimport { Index } from '../../common/model/base';\r\nimport { VisibleLabels } from '../../chart/axis/axis';\r\nimport { axisLabelRender, regSub } from '../model/constants';\r\nimport { measureText, findDirection, Rect, TextOption, Size, PathOption, SvgRenderer, CanvasRenderer } from '@syncfusion/ej2-svg-base';\r\n/**\r\n * Function to sort the dataSource, by default it sort the data in ascending order.\r\n *\r\n * @param  {Object} data chart data\r\n * @param  {string} fields date fields\r\n * @param  {boolean} isDescending boolean values of descending\r\n * @returns {Object[]} It returns chart data which be sorted.\r\n */\r\nexport function sort(data, fields, isDescending) {\r\n    var sortData = extend([], data, null);\r\n    sortData.sort(function (a, b) {\r\n        var first = 0;\r\n        var second = 0;\r\n        for (var i = 0; i < fields.length; i++) {\r\n            first += a[fields[i]];\r\n            second += b[fields[i]];\r\n        }\r\n        if ((!isDescending && first < second) || (isDescending && first > second)) {\r\n            return -1;\r\n        }\r\n        else if (first === second) {\r\n            return 0;\r\n        }\r\n        return 1;\r\n    });\r\n    return sortData;\r\n}\r\n/** @private */\r\nexport function isBreakLabel(label) {\r\n    return label.indexOf('<br>') !== -1;\r\n}\r\n/** @private */\r\nexport function getVisiblePoints(series) {\r\n    var points = extend([], series.points, null, true);\r\n    var tempPoints = [];\r\n    var tempPoint;\r\n    var pointIndex = 0;\r\n    for (var i = 0; i < points.length; i++) {\r\n        tempPoint = points[i];\r\n        if (isNullOrUndefined(tempPoint.x) || tempPoint.x === '') {\r\n            continue;\r\n        }\r\n        else {\r\n            tempPoint.index = pointIndex++;\r\n            tempPoints.push(tempPoint);\r\n        }\r\n    }\r\n    return tempPoints;\r\n}\r\n/** @private */\r\nexport function rotateTextSize(font, text, angle, chart) {\r\n    var renderer = new SvgRenderer(chart.element.id);\r\n    var labelText;\r\n    var textCollection = [];\r\n    var height;\r\n    var dy;\r\n    var label;\r\n    var tspanElement;\r\n    var options = {\r\n        id: 'rotate_text',\r\n        x: chart.initialClipRect.x,\r\n        y: chart.initialClipRect.y,\r\n        'font-size': font.size,\r\n        'font-style': font.fontStyle,\r\n        'font-family': font.fontFamily,\r\n        'font-weight': font.fontWeight,\r\n        'transform': 'rotate(' + angle + ', 0, 0)',\r\n        'text-anchor': 'middle'\r\n    };\r\n    if (isBreakLabel(text)) {\r\n        textCollection = text.split('<br>');\r\n        labelText = textCollection[0];\r\n    }\r\n    else {\r\n        labelText = text;\r\n    }\r\n    var htmlObject = renderer.createText(options, labelText);\r\n    if (!chart.delayRedraw && !chart.redraw) {\r\n        chart.element.appendChild(chart.svgObject);\r\n    }\r\n    // for line break label\r\n    if (typeof textCollection !== 'string' && textCollection.length > 1) {\r\n        for (var i = 1, len = textCollection.length; i < len; i++) {\r\n            height = (measureText(textCollection[i], font).height);\r\n            dy = (options.y) + ((i * height));\r\n            label = textCollection[i];\r\n            tspanElement = renderer.createTSpan({\r\n                'x': options.x, 'id': options.id,\r\n                'y': dy\r\n            }, label);\r\n            htmlObject.appendChild(tspanElement);\r\n        }\r\n    }\r\n    chart.svgObject.appendChild(htmlObject);\r\n    var box = htmlObject.getBoundingClientRect();\r\n    remove(htmlObject);\r\n    if (!chart.delayRedraw && !chart.redraw) {\r\n        remove(chart.svgObject);\r\n    }\r\n    return new Size((box.right - box.left), (box.bottom - box.top));\r\n}\r\n/** @private */\r\nexport function removeElement(id) {\r\n    if (!id) {\r\n        return null;\r\n    }\r\n    var element = typeof id === 'string' ? getElement(id) : id;\r\n    if (element) {\r\n        remove(element);\r\n    }\r\n}\r\n/** @private */\r\nexport function logBase(value, base) {\r\n    return Math.log(value) / Math.log(base);\r\n}\r\n/** @private */\r\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, isTitleOrLegendEnabled) {\r\n    //let id1: string = 'EJ2_legend_tooltip';\r\n    var tooltip = document.getElementById(id);\r\n    var size = measureText(text, {\r\n        fontFamily: 'Segoe UI', size: '12px',\r\n        fontStyle: 'Normal', fontWeight: 'Regular'\r\n    });\r\n    var width = size.width + 5;\r\n    x = (x + width > areaWidth) ? x - (width + 15) : x;\r\n    y = isTitleOrLegendEnabled ? (y - size.height / 2) : y + 15;\r\n    if (!tooltip) {\r\n        tooltip = createElement('div', {\r\n            innerHTML: text,\r\n            id: id,\r\n            styles: 'top:' + (y).toString() + 'px;left:' + (x + 15).toString() +\r\n                'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\r\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\r\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: \"Segoe UI\"'\r\n        });\r\n        element.appendChild(tooltip);\r\n        var left = parseInt(tooltip.style.left.replace('px', ''), 10);\r\n        if (left < 0) {\r\n            tooltip.style.left = '0px';\r\n        }\r\n    }\r\n    else {\r\n        tooltip.innerHTML = text;\r\n        tooltip.style.top = (y).toString() + 'px';\r\n        tooltip.style.left = (x + 15).toString() + 'px';\r\n    }\r\n    if (isTouch) {\r\n        setTimeout(function () { removeElement(id); }, 1500);\r\n    }\r\n}\r\n/** @private */\r\nexport function inside(value, range) {\r\n    return (value < range.max) && (value > range.min);\r\n}\r\n/** @private */\r\nexport function withIn(value, range) {\r\n    return (value <= range.max) && (value >= range.min);\r\n}\r\n/** @private */\r\nexport function logWithIn(value, axis) {\r\n    return axis.valueType === 'Logarithmic' ? logBase(value, axis.logBase) : value;\r\n}\r\n/** @private */\r\nexport function withInRange(previousPoint, currentPoint, nextPoint, series) {\r\n    var mX2 = logWithIn(currentPoint.xValue, series.xAxis);\r\n    var mX1 = previousPoint ? logWithIn(previousPoint.xValue, series.xAxis) : mX2;\r\n    var mX3 = nextPoint ? logWithIn(nextPoint.xValue, series.xAxis) : mX2;\r\n    var xStart = Math.floor(series.xAxis.visibleRange.min);\r\n    var xEnd = Math.ceil(series.xAxis.visibleRange.max);\r\n    return ((mX1 >= xStart && mX1 <= xEnd) || (mX2 >= xStart && mX2 <= xEnd) ||\r\n        (mX3 >= xStart && mX3 <= xEnd) || (xStart >= mX1 && xStart <= mX3));\r\n}\r\n/** @private */\r\nexport function sum(values) {\r\n    var sum = 0;\r\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\r\n        var value = values_1[_i];\r\n        sum += value;\r\n    }\r\n    return sum;\r\n}\r\n/** @private */\r\nexport function subArraySum(values, first, last, index, series) {\r\n    var sum = 0;\r\n    if (index !== null) {\r\n        for (var i = (first + 1); i < last; i++) {\r\n            if (index.indexOf(i) === -1) {\r\n                sum += values[i][series.yName];\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (var i = (first + 1); i < last; i++) {\r\n            if (!isNullOrUndefined(values[i][series.yName])) {\r\n                sum += values[i][series.yName];\r\n            }\r\n        }\r\n    }\r\n    return sum;\r\n}\r\n/** @private */\r\nexport function subtractThickness(rect, thickness) {\r\n    rect.x += thickness.left;\r\n    rect.y += thickness.top;\r\n    rect.width -= thickness.left + thickness.right;\r\n    rect.height -= thickness.top + thickness.bottom;\r\n    return rect;\r\n}\r\n/** @private */\r\nexport function subtractRect(rect, thickness) {\r\n    rect.x += thickness.x;\r\n    rect.y += thickness.y;\r\n    rect.width -= thickness.x + thickness.width;\r\n    rect.height -= thickness.y + thickness.height;\r\n    return rect;\r\n}\r\n/** @private */\r\nexport function degreeToLocation(degree, radius, center) {\r\n    var radian = (degree * Math.PI) / 180;\r\n    return new ChartLocation(Math.cos(radian) * radius + center.x, Math.sin(radian) * radius + center.y);\r\n}\r\n/** @private */\r\nexport function degreeToRadian(degree) {\r\n    return degree * (Math.PI / 180);\r\n}\r\n/** @private */\r\nexport function getRotatedRectangleCoordinates(actualPoints, centerX, centerY, angle) {\r\n    var coordinatesAfterRotation = [];\r\n    for (var i = 0; i < 4; i++) {\r\n        var point = actualPoints[i];\r\n        // translate point to origin\r\n        var tempX = point.x - centerX;\r\n        var tempY = point.y - centerY;\r\n        // now apply rotation\r\n        var rotatedX = tempX * Math.cos(degreeToRadian(angle)) - tempY * Math.sin(degreeToRadian(angle));\r\n        var rotatedY = tempX * Math.sin(degreeToRadian(angle)) + tempY * Math.cos(degreeToRadian(angle));\r\n        // translate back\r\n        point.x = rotatedX + centerX;\r\n        point.y = rotatedY + centerY;\r\n        coordinatesAfterRotation.push(new ChartLocation(point.x, point.y));\r\n    }\r\n    return coordinatesAfterRotation;\r\n}\r\n/**\r\n * Helper function to determine whether there is an intersection between the two polygons described\r\n * by the lists of vertices. Uses the Separating Axis Theorem\r\n *\r\n * @param {ChartLocation[]} a an array of connected points [{x:, y:}, {x:, y:},...] that form a closed polygon\r\n * @param {ChartLocation[]} b an array of connected points [{x:, y:}, {x:, y:},...] that form a closed polygon\r\n * @returns {boolean} if there is any intersection between the 2 polygons, false otherwise\r\n */\r\nexport function isRotatedRectIntersect(a, b) {\r\n    var polygons = [a, b];\r\n    var minA;\r\n    var maxA;\r\n    var projected;\r\n    var i;\r\n    var i1;\r\n    var j;\r\n    var minB;\r\n    var maxB;\r\n    for (i = 0; i < polygons.length; i++) {\r\n        // for each polygon, look at each edge of the polygon, and determine if it separates\r\n        // the two shapes\r\n        var polygon = polygons[i];\r\n        for (i1 = 0; i1 < polygon.length; i1++) {\r\n            // grab 2 vertices to create an edge\r\n            var i2 = (i1 + 1) % polygon.length;\r\n            var p1 = polygon[i1];\r\n            var p2 = polygon[i2];\r\n            // find the line perpendicular to this edge\r\n            var normal = new ChartLocation(p2.y - p1.y, p1.x - p2.x);\r\n            minA = maxA = undefined;\r\n            // for each vertex in the first shape, project it onto the line perpendicular to the edge\r\n            // and keep track of the min and max of these values\r\n            for (j = 0; j < a.length; j++) {\r\n                projected = normal.x * a[j].x + normal.y * a[j].y;\r\n                if (isNullOrUndefined(minA) || projected < minA) {\r\n                    minA = projected;\r\n                }\r\n                if (isNullOrUndefined(maxA) || projected > maxA) {\r\n                    maxA = projected;\r\n                }\r\n            }\r\n            // for each vertex in the second shape, project it onto the line perpendicular to the edge\r\n            // and keep track of the min and max of these values\r\n            minB = maxB = undefined;\r\n            for (j = 0; j < b.length; j++) {\r\n                projected = normal.x * b[j].x + normal.y * b[j].y;\r\n                if (isNullOrUndefined(minB) || projected < minB) {\r\n                    minB = projected;\r\n                }\r\n                if (isNullOrUndefined(maxB) || projected > maxB) {\r\n                    maxB = projected;\r\n                }\r\n            }\r\n            // if there is no overlap between the projects, the edge we are looking at separates the two\r\n            // polygons, and we know there is no overlap\r\n            if (maxA < minB || maxB < minA) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/** @private */\r\nfunction getAccumulationLegend(locX, locY, r, height, width, mode) {\r\n    var cartesianlarge = degreeToLocation(270, r, new ChartLocation(locX, locY));\r\n    var cartesiansmall = degreeToLocation(270, r, new ChartLocation(locX + (width / 10), locY));\r\n    return 'M' + ' ' + locX + ' ' + locY + ' ' + 'L' + ' ' + (locX + r) + ' ' + (locY) + ' ' + 'A' + ' ' + (r) + ' ' + (r) +\r\n        ' ' + 0 + ' ' + 1 + ' ' + 1 + ' ' + cartesianlarge.x + ' ' + cartesianlarge.y + ' ' + 'Z' + ' ' + 'M' + ' ' + (locX +\r\n        (width / 10)) + ' ' + (locY - (height / 10)) + ' ' + 'L' + (locX + (r)) + ' ' + (locY - height / 10) + ' ' + 'A' + ' '\r\n        + (r) + ' ' + (r) + ' ' + 0 + ' ' + 0 + ' ' + 0 + ' ' + cartesiansmall.x + ' ' + cartesiansmall.y + ' ' + 'Z';\r\n}\r\n/** @private */\r\nexport function getAngle(center, point) {\r\n    var angle = Math.atan2((point.y - center.y), (point.x - center.x));\r\n    angle = angle < 0 ? (6.283 + angle) : angle;\r\n    return angle * (180 / Math.PI);\r\n}\r\n/** @private */\r\nexport function subArray(values, index) {\r\n    var subArray = [];\r\n    for (var i = 0; i <= index - 1; i++) {\r\n        subArray.push(values[i]);\r\n    }\r\n    return subArray;\r\n}\r\n/** @private */\r\nexport function valueToCoefficient(value, axis) {\r\n    var range = axis.visibleRange;\r\n    var result = (value - range.min) / (range.delta);\r\n    var isInverse = axis.isChart ? axis.isAxisInverse : axis.isInversed;\r\n    return isInverse ? (1 - result) : result;\r\n}\r\n/** @private */\r\nexport function TransformToVisible(x, y, xAxis, yAxis, isInverted, series) {\r\n    x = (xAxis.valueType === 'Logarithmic' ? logBase(x > 1 ? x : 1, xAxis.logBase) : x);\r\n    y = (yAxis.valueType === 'Logarithmic' ?\r\n        logBase(y > 1 ? y : 1, yAxis.logBase) : y);\r\n    x += xAxis.valueType === 'Category' && xAxis.labelPlacement === 'BetweenTicks' && series.type !== 'Radar' ? 0.5 : 0;\r\n    var radius = series.chart.radius * valueToCoefficient(y, yAxis);\r\n    var point = CoefficientToVector(valueToPolarCoefficient(x, xAxis), series.chart.primaryXAxis.startAngle);\r\n    return {\r\n        x: (series.clipRect.width / 2 + series.clipRect.x) + radius * point.x,\r\n        y: (series.clipRect.height / 2 + series.clipRect.y) + radius * point.y\r\n    };\r\n}\r\n/**\r\n * method to find series, point index by element id\r\n *\r\n * @private\r\n */\r\nexport function indexFinder(id, isPoint) {\r\n    if (isPoint === void 0) { isPoint = false; }\r\n    var ids = ['NaN', 'NaN'];\r\n    if (id.indexOf('_Point_') > -1) {\r\n        ids = id.split('_Series_')[1].split('_Point_');\r\n    }\r\n    else if (id.indexOf('_shape_') > -1 && (!isPoint || (isPoint && id.indexOf('_legend_') === -1))) {\r\n        ids = id.split('_shape_');\r\n        ids[0] = '0';\r\n    }\r\n    else if (id.indexOf('_text_') > -1 && (!isPoint || (isPoint && id.indexOf('_legend_') === -1))) {\r\n        ids = id.split('_text_');\r\n        ids[0] = '0';\r\n    }\r\n    return new Index(parseInt(ids[0], 10), parseInt(ids[1], 10));\r\n}\r\n/** @private */\r\nexport function CoefficientToVector(coefficient, startAngle) {\r\n    startAngle = startAngle < 0 ? startAngle + 360 : startAngle;\r\n    var angle = Math.PI * (1.5 - 2 * coefficient);\r\n    angle = angle + (startAngle * Math.PI) / 180;\r\n    return { x: Math.cos(angle), y: Math.sin(angle) };\r\n}\r\n/** @private */\r\nexport function valueToPolarCoefficient(value, axis) {\r\n    var range = axis.visibleRange;\r\n    var delta;\r\n    var length;\r\n    if (axis.valueType !== 'Category') {\r\n        delta = (range.max - (axis.valueType === 'DateTime' ? axis.dateTimeInterval : range.interval)) - range.min;\r\n        length = axis.visibleLabels.length - 1;\r\n        delta = delta === 0 ? 1 : delta;\r\n    }\r\n    else {\r\n        // To split an interval equally based on visible labels count\r\n        delta = axis.visibleLabels.length === 1 ? 1 :\r\n            (axis.visibleLabels[axis.visibleLabels.length - 1].value - axis.visibleLabels[0].value);\r\n        length = axis.visibleLabels.length;\r\n    }\r\n    return axis.isAxisInverse ? ((value - range.min) / delta) * (1 - 1 / (length)) :\r\n        1 - ((value - range.min) / delta) * (1 - 1 / (length));\r\n}\r\n/** @private */\r\nvar Mean = /** @class */ (function () {\r\n    function Mean(verticalStandardMean, verticalSquareRoot, horizontalStandardMean, horizontalSquareRoot, verticalMean, horizontalMean) {\r\n        this.verticalStandardMean = verticalStandardMean;\r\n        this.horizontalStandardMean = horizontalStandardMean;\r\n        this.verticalSquareRoot = verticalSquareRoot;\r\n        this.horizontalSquareRoot = horizontalSquareRoot;\r\n        this.verticalMean = verticalMean;\r\n        this.horizontalMean = horizontalMean;\r\n    }\r\n    return Mean;\r\n}());\r\nexport { Mean };\r\n/** @private */\r\nvar PolarArc = /** @class */ (function () {\r\n    function PolarArc(startAngle, endAngle, innerRadius, radius, currentXPosition) {\r\n        this.startAngle = startAngle;\r\n        this.endAngle = endAngle;\r\n        this.innerRadius = innerRadius;\r\n        this.radius = radius;\r\n        this.currentXPosition = currentXPosition;\r\n    }\r\n    return PolarArc;\r\n}());\r\nexport { PolarArc };\r\n/** @private */\r\nexport function createTooltip(id, text, top, left, fontSize) {\r\n    var tooltip = getElement(id);\r\n    var style = 'top:' + top.toString() + 'px;' +\r\n        'left:' + left.toString() + 'px;' +\r\n        'color:black !important; ' +\r\n        'background:#FFFFFF !important; ' +\r\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px; z-index:1';\r\n    if (!tooltip) {\r\n        tooltip = createElement('div', {\r\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\r\n        });\r\n        document.body.appendChild(tooltip);\r\n    }\r\n    else {\r\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\r\n        tooltip.setAttribute('styles', style);\r\n    }\r\n}\r\n/** @private */\r\nexport function createZoomingLabels(chart, axis, parent, index, isVertical, rect) {\r\n    var margin = 5;\r\n    var opposedPosition = axis.isAxisOpposedPosition;\r\n    var anchor = isVertical ? 'start' : 'auto';\r\n    var size;\r\n    var chartRect = chart.availableSize.width;\r\n    var x;\r\n    var y;\r\n    var rx = 3;\r\n    var arrowLocation;\r\n    var direction;\r\n    var scrollBarHeight = axis.scrollbarSettings.enable || (axis.zoomingScrollBar && axis.zoomingScrollBar.svgObject)\r\n        ? axis.scrollBarHeight : 0;\r\n    for (var i = 0; i < 2; i++) {\r\n        size = measureText(i ? axis.endLabel : axis.startLabel, axis.labelStyle);\r\n        if (isVertical) {\r\n            arrowLocation = i ? new ChartLocation(rect.x - scrollBarHeight, rect.y + rx) :\r\n                new ChartLocation(axis.rect.x - scrollBarHeight, (rect.y + rect.height - rx));\r\n            x = (rect.x + (opposedPosition ? (rect.width + margin + scrollBarHeight) : -(size.width + margin + margin + scrollBarHeight)));\r\n            y = (rect.y + (i ? 0 : rect.height - size.height - margin));\r\n            x += (x < 0 || ((chartRect) < (x + size.width + margin))) ? (opposedPosition ? -(size.width / 2) : size.width / 2) : 0;\r\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, false, false, !opposedPosition, arrowLocation.x, arrowLocation.y + (i ? -rx : rx));\r\n        }\r\n        else {\r\n            arrowLocation = i ? new ChartLocation((rect.x + rect.width - rx), (rect.y + rect.height + scrollBarHeight)) :\r\n                new ChartLocation(rect.x + rx, (rect.y + rect.height + scrollBarHeight));\r\n            x = (rect.x + (i ? (rect.width - size.width - margin) : 0));\r\n            y = (opposedPosition ? (rect.y - size.height - 10 - scrollBarHeight) : (rect.y + rect.height + margin + scrollBarHeight));\r\n            direction = findDirection(rx, rx, new Rect(x, y, size.width + margin, size.height + margin), arrowLocation, margin, opposedPosition, !opposedPosition, false, arrowLocation.x + (i ? rx : -rx), arrowLocation.y);\r\n        }\r\n        x = x + (margin / 2);\r\n        y = y + (3 * (size.height / 4)) + (margin / 2);\r\n        parent.appendChild(chart.renderer.drawPath(new PathOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_Shape_' + i, chart.themeStyle.crosshairFill, 2, chart.themeStyle.crosshairFill, 1, null, direction)));\r\n        textElement(chart.renderer, new TextOption(chart.element.id + '_Zoom_' + index + '_AxisLabel_' + i, x, y, anchor, i ? axis.endLabel : axis.startLabel), { color: chart.themeStyle.crosshairLabel, fontFamily: 'Segoe UI', fontWeight: 'Regular', size: '11px' }, chart.themeStyle.crosshairLabel, parent);\r\n    }\r\n    return parent;\r\n}\r\n//Within bounds\r\n/** @private */\r\nexport function withInBounds(x, y, bounds, width, height) {\r\n    if (width === void 0) { width = 0; }\r\n    if (height === void 0) { height = 0; }\r\n    return (x >= bounds.x - width && x <= bounds.x + bounds.width + width && y >= bounds.y - height\r\n        && y <= bounds.y + bounds.height + height);\r\n}\r\n/** @private */\r\nexport function getValueXByPoint(value, size, axis) {\r\n    var actualValue = !axis.isAxisInverse ? value / size : (1 - (value / size));\r\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\r\n}\r\n/** @private */\r\nexport function getValueYByPoint(value, size, axis) {\r\n    var actualValue = axis.isAxisInverse ? value / size : (1 - (value / size));\r\n    return actualValue * (axis.visibleRange.delta) + axis.visibleRange.min;\r\n}\r\n/** @private */\r\nexport function findClipRect(series) {\r\n    var rect = series.clipRect;\r\n    if (series.chart.requireInvertedAxis) {\r\n        rect.x = series.yAxis.rect.x;\r\n        rect.y = series.xAxis.rect.y;\r\n        rect.width = series.yAxis.rect.width;\r\n        rect.height = series.xAxis.rect.height;\r\n    }\r\n    else {\r\n        rect.x = series.xAxis.rect.x;\r\n        rect.y = series.yAxis.rect.y;\r\n        rect.width = series.xAxis.rect.width;\r\n        rect.height = series.yAxis.rect.height;\r\n    }\r\n}\r\n/** @private */\r\nexport function firstToLowerCase(str) {\r\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\r\n}\r\n/** @private */\r\nexport function getTransform(xAxis, yAxis, invertedAxis) {\r\n    var x;\r\n    var y;\r\n    var width;\r\n    var height;\r\n    if (invertedAxis) {\r\n        x = yAxis.rect.x;\r\n        y = xAxis.rect.y;\r\n        width = yAxis.rect.width;\r\n        height = xAxis.rect.height;\r\n    }\r\n    else {\r\n        x = xAxis.rect.x;\r\n        y = yAxis.rect.y;\r\n        width = xAxis.rect.width;\r\n        height = yAxis.rect.height;\r\n    }\r\n    return new Rect(x, y, width, height);\r\n}\r\n/** @private */\r\nexport function getMinPointsDelta(axis, seriesCollection) {\r\n    var minDelta = Number.MAX_VALUE;\r\n    var xValues;\r\n    var minVal;\r\n    var seriesMin;\r\n    for (var index = 0; index < seriesCollection.length; index++) {\r\n        var series = seriesCollection[index];\r\n        xValues = [];\r\n        if (series.visible &&\r\n            (axis.name === series.xAxisName || (axis.name === 'primaryXAxis' && series.xAxisName === null)\r\n                || (axis.name === series.chart.primaryXAxis.name && !series.xAxisName))) {\r\n            xValues = series.points.map(function (point) {\r\n                return point.xValue;\r\n            });\r\n            xValues.sort(function (first, second) { return first - second; });\r\n            if (xValues.length === 1) {\r\n                seriesMin = (axis.valueType === 'DateTime' && series.xMin === series.xMax) ? (series.xMin - 2592000000) : series.xMin;\r\n                minVal = xValues[0] - (!isNullOrUndefined(seriesMin) ?\r\n                    seriesMin : axis.visibleRange.min);\r\n                if (minVal !== 0) {\r\n                    minDelta = Math.min(minDelta, minVal);\r\n                }\r\n            }\r\n            else {\r\n                for (var index_1 = 0; index_1 < xValues.length; index_1++) {\r\n                    var value = xValues[index_1];\r\n                    if (index_1 > 0 && value) {\r\n                        minVal = value - xValues[index_1 - 1];\r\n                        if (minVal !== 0) {\r\n                            minDelta = Math.min(minDelta, minVal);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (minDelta === Number.MAX_VALUE) {\r\n        minDelta = 1;\r\n    }\r\n    return minDelta;\r\n}\r\n/** @private */\r\nexport function getAnimationFunction(effect) {\r\n    var functionName;\r\n    switch (effect) {\r\n        case 'Linear':\r\n            functionName = linear;\r\n            break;\r\n    }\r\n    return functionName;\r\n}\r\n/**\r\n * Animation Effect Calculation Started Here\r\n *\r\n * @param {number} currentTime currentTime\r\n * @param {number} startValue startValue of the animation\r\n * @param {number} endValue endValue of the animation\r\n * @param {number} duration duration of the animation\r\n * @private\r\n */\r\nexport function linear(currentTime, startValue, endValue, duration) {\r\n    return -endValue * Math.cos(currentTime / duration * (Math.PI / 2)) + endValue + startValue;\r\n}\r\n/**\r\n * Animation Effect Calculation End\r\n *\r\n * @private\r\n */\r\nexport function markerAnimate(element, delay, duration, series, pointIndex, point, isLabel) {\r\n    var centerX = point.x;\r\n    var centerY = point.y;\r\n    var height = 0;\r\n    element.style.visibility = 'hidden';\r\n    new Animation({}).animate(element, {\r\n        duration: duration,\r\n        delay: delay,\r\n        progress: function (args) {\r\n            if (args.timeStamp > args.delay) {\r\n                args.element.style.visibility = 'visible';\r\n                height = ((args.timeStamp - args.delay) / args.duration);\r\n                element.setAttribute('transform', 'translate(' + centerX\r\n                    + ' ' + centerY + ') scale(' + height + ') translate(' + (-centerX) + ' ' + (-centerY) + ')');\r\n            }\r\n        },\r\n        end: function () {\r\n            element.style.visibility = '';\r\n            if ((series.type === 'Scatter' || series.type === 'Bubble') && !isLabel && (pointIndex === series.points.length - 1)) {\r\n                series.chart.trigger('animationComplete', { series: series.chart.isBlazor ? {} : series });\r\n            }\r\n        }\r\n    });\r\n}\r\n/**\r\n * Animate the rect element\r\n */\r\nexport function animateRectElement(element, delay, duration, currentRect, previousRect) {\r\n    var setStyle = function (rect) {\r\n        element.setAttribute('x', rect.x + '');\r\n        element.setAttribute('y', rect.y + '');\r\n        element.setAttribute('width', rect.width + '');\r\n        element.setAttribute('height', rect.height + '');\r\n    };\r\n    new Animation({}).animate(createElement('div'), {\r\n        duration: duration,\r\n        delay: delay,\r\n        //name: name,\r\n        progress: function (args) {\r\n            setStyle(new Rect(linear(args.timeStamp, previousRect.x, currentRect.x - previousRect.x, args.duration), linear(args.timeStamp, previousRect.y, currentRect.y - previousRect.y, args.duration), linear(args.timeStamp, previousRect.width, currentRect.width - previousRect.width, args.duration), linear(args.timeStamp, previousRect.height, currentRect.height - previousRect.height, args.duration)));\r\n        },\r\n        end: function () {\r\n            setStyle(currentRect);\r\n        }\r\n    });\r\n}\r\n/**\r\n * Animation after legend click a path\r\n *\r\n * @param {Element} element element to be animated\r\n * @param {string} direction current direction of the path\r\n * @param {boolean} redraw chart redraw\r\n * @param {string} previousDirection previous direction of the path\r\n * @param {number} animateDuration animateDuration of the path\r\n */\r\nexport function pathAnimation(element, direction, redraw, previousDirection, animateDuration) {\r\n    if (!redraw || (!previousDirection && !element)) {\r\n        return null;\r\n    }\r\n    var duration = 300;\r\n    if (animateDuration) {\r\n        duration = animateDuration;\r\n    }\r\n    var startDirections = previousDirection || element.getAttribute('d');\r\n    var splitDirections = startDirections.split(/(?=[LMCZAQ])/);\r\n    var endDirections = direction.split(/(?=[LMCZAQ])/);\r\n    var currentDireciton;\r\n    var startPath = [];\r\n    var endPath = [];\r\n    var c;\r\n    var end;\r\n    element.setAttribute('d', startDirections);\r\n    new Animation({}).animate(createElement('div'), {\r\n        duration: duration,\r\n        progress: function (args) {\r\n            currentDireciton = '';\r\n            splitDirections.map(function (directions, index) {\r\n                startPath = directions.split(' ');\r\n                endPath = endDirections[index] ? endDirections[index].split(' ') : startPath;\r\n                if (startPath[0] === 'Z') {\r\n                    currentDireciton += 'Z' + ' ';\r\n                }\r\n                else {\r\n                    currentDireciton += startPath[0] + ' ' +\r\n                        linear(args.timeStamp, +startPath[1], (+endPath[1] - +startPath[1]), args.duration) + ' ' +\r\n                        linear(args.timeStamp, +startPath[2], (+endPath[2] - +startPath[2]), args.duration) + ' ';\r\n                }\r\n                if (startPath[0] === 'C' || startPath[0] === 'Q') {\r\n                    c = 3;\r\n                    end = startPath[0] === 'Q' ? 4 : 6;\r\n                    while (c < end) {\r\n                        currentDireciton += linear(args.timeStamp, +startPath[c], (+endPath[c] - +startPath[c]), args.duration) + ' ' +\r\n                            linear(args.timeStamp, +startPath[++c], (+endPath[c] - +startPath[c]), args.duration) + ' ';\r\n                        ++c;\r\n                    }\r\n                }\r\n                if (startPath[0] === 'A') {\r\n                    currentDireciton += 0 + ' ' + 0 + ' ' + 1 + ' ' +\r\n                        linear(args.timeStamp, +startPath[6], (+endPath[6] - +startPath[6]), args.duration) + ' ' +\r\n                        linear(args.timeStamp, +startPath[7], (+endPath[7] - +startPath[7]), args.duration) + ' ';\r\n                }\r\n            });\r\n            element.setAttribute('d', currentDireciton);\r\n        },\r\n        end: function () {\r\n            element.setAttribute('d', direction);\r\n        }\r\n    });\r\n}\r\n/**\r\n * To append the clip rect element\r\n *\r\n * @param {boolean} redraw chart redraw value\r\n * @param {BaseAttibutes} options element options\r\n * @param {SvgRenderer} renderer svg renderer values\r\n * @param {string} clipPath clipPath of the element\r\n */\r\nexport function appendClipElement(redraw, options, renderer, clipPath) {\r\n    if (clipPath === void 0) { clipPath = 'drawClipPath'; }\r\n    var clipElement = redrawElement(redraw, options.id, options, renderer);\r\n    if (clipElement) {\r\n        var def = renderer.createDefs();\r\n        def.appendChild(clipElement);\r\n        return def;\r\n    }\r\n    else {\r\n        return renderer[clipPath](options);\r\n    }\r\n}\r\n/**\r\n * Triggers the event.\r\n *\r\n * @returns {void}\r\n * @private\r\n */\r\nexport function triggerLabelRender(chart, tempInterval, text, labelStyle, axis) {\r\n    var argsData = {\r\n        cancel: false, name: axisLabelRender, axis: axis,\r\n        text: text, value: tempInterval, labelStyle: labelStyle\r\n    };\r\n    chart.trigger(axisLabelRender, argsData);\r\n    if (!argsData.cancel) {\r\n        var isLineBreakLabels = argsData.text.indexOf('<br>') !== -1;\r\n        var text_1 = (axis.enableTrim) ? (isLineBreakLabels ?\r\n            lineBreakLabelTrim(axis.maximumLabelWidth, argsData.text, axis.labelStyle) :\r\n            textTrim(axis.maximumLabelWidth, argsData.text, axis.labelStyle)) : argsData.text;\r\n        axis.visibleLabels.push(new VisibleLabels(text_1, argsData.value, argsData.labelStyle, argsData.text));\r\n    }\r\n}\r\n/**\r\n * The function used to find whether the range is set.\r\n *\r\n * @returns {boolean} It returns true if the axis range is set otherwise false.\r\n * @private\r\n */\r\nexport function setRange(axis) {\r\n    return (axis.minimum != null && axis.maximum != null);\r\n}\r\n/**\r\n * To check whether the axis is zoomed or not.\r\n *\r\n * @param {Axis} axis axis model\r\n */\r\nexport function isZoomSet(axis) {\r\n    return (axis.zoomFactor < 1 && axis.zoomPosition >= 0);\r\n}\r\n/**\r\n * Calculate desired interval for the axis.\r\n *\r\n * @returns {void} It returns desired interval count.\r\n * @private\r\n */\r\nexport function getActualDesiredIntervalsCount(availableSize, axis) {\r\n    var size = axis.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\r\n    if (isNullOrUndefined(axis.desiredIntervals)) {\r\n        var desiredIntervalsCount = (axis.orientation === 'Horizontal' ? 0.533 : 1) * axis.maximumLabels;\r\n        desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\r\n        return desiredIntervalsCount;\r\n    }\r\n    else {\r\n        return axis.desiredIntervals;\r\n    }\r\n}\r\n/**\r\n * Animation for template\r\n *\r\n * @private\r\n */\r\nexport function templateAnimate(element, delay, duration, name, isRemove) {\r\n    new Animation({}).animate(element, {\r\n        duration: duration,\r\n        delay: delay,\r\n        name: name,\r\n        progress: function (args) {\r\n            args.element.style.visibility = 'visible';\r\n        },\r\n        end: function (args) {\r\n            if (isRemove) {\r\n                remove(args.element);\r\n            }\r\n            else {\r\n                args.element.style.visibility = 'visible';\r\n            }\r\n        }\r\n    });\r\n}\r\n/** @private */\r\nexport function drawSymbol(location, shape, size, url, options, label, renderer, clipRect, isChartControl, control) {\r\n    var chartRenderer = renderer ? renderer : new SvgRenderer('');\r\n    var shapeOption = calculateShapes(location, size, shape, options, url, isChartControl, control);\r\n    var drawElement = chartRenderer['draw' + shapeOption.functionName](shapeOption.renderOption, clipRect ? new Int32Array([clipRect.x, clipRect.y]) : null);\r\n    //drawElement.setAttribute('aria-label', label);\r\n    return drawElement;\r\n}\r\n/** @private */\r\nexport function calculateShapes(location, size, shape, options, url, isChart, control) {\r\n    var dir;\r\n    var functionName = 'Path';\r\n    var isBulletChart = isChart;\r\n    var width = (isBulletChart && shape === 'Circle') ? (size.width - 2) : size.width;\r\n    var height = (isBulletChart && shape === 'Circle') ? (size.height - 2) : size.height;\r\n    var sizeBullet = (isBulletChart) ? control.targetWidth : 0;\r\n    var lx = location.x;\r\n    var ly = location.y;\r\n    var y = location.y + (-height / 2);\r\n    var x = location.x + (-width / 2);\r\n    var eq = 72;\r\n    var xVal;\r\n    var yVal;\r\n    switch (shape) {\r\n        case 'Bubble':\r\n        case 'Circle':\r\n            functionName = 'Ellipse';\r\n            merge(options, { 'rx': width / 2, 'ry': height / 2, 'cx': lx, 'cy': ly });\r\n            break;\r\n        case 'Cross':\r\n            dir = 'M' + ' ' + x + ' ' + ly + ' ' + 'L' + ' ' + (lx + (width / 2)) + ' ' + ly + ' ' +\r\n                'M' + ' ' + lx + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' + lx + ' ' +\r\n                (ly + (-height / 2));\r\n            merge(options, { 'd': dir, stroke: options.fill });\r\n            break;\r\n        case 'Multiply':\r\n            dir = 'M ' + (lx - sizeBullet) + ' ' + (ly - sizeBullet) + ' L ' +\r\n                (lx + sizeBullet) + ' ' + (ly + sizeBullet) + ' M ' +\r\n                (lx - sizeBullet) + ' ' + (ly + sizeBullet) + ' L ' + (lx + sizeBullet) + ' ' + (ly - sizeBullet);\r\n            merge(options, { 'd': dir, stroke: options.fill });\r\n            break;\r\n        case 'HorizontalLine':\r\n            dir = 'M' + ' ' + x + ' ' + ly + ' ' + 'L' + ' ' + (lx + (width / 2)) + ' ' + ly;\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'VerticalLine':\r\n            dir = 'M' + ' ' + lx + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' + lx + ' ' + (ly + (-height / 2));\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Diamond':\r\n            dir = 'M' + ' ' + x + ' ' + ly + ' ' +\r\n                'L' + ' ' + lx + ' ' + (ly + (-height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + ly + ' ' +\r\n                'L' + ' ' + lx + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + x + ' ' + ly + ' z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'ActualRect':\r\n            dir = 'M' + ' ' + x + ' ' + (ly + (-height / 8)) + ' ' +\r\n                'L' + ' ' + (lx + (sizeBullet)) + ' ' + (ly + (-height / 8)) + ' ' +\r\n                'L' + ' ' + (lx + (sizeBullet)) + ' ' + (ly + (height / 8)) + ' ' +\r\n                'L' + ' ' + x + ' ' + (ly + (height / 8)) + ' ' +\r\n                'L' + ' ' + x + ' ' + (ly + (-height / 8)) + ' z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'TargetRect':\r\n            dir = 'M' + ' ' + (x + (sizeBullet)) + ' ' + (ly + (-height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (sizeBullet / 2)) + ' ' + (ly + (-height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (sizeBullet / 2)) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + (x + (sizeBullet)) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + (x + (sizeBullet)) + ' ' + (ly + (-height / 2)) + ' z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Rectangle':\r\n        case 'Hilo':\r\n        case 'HiloOpenClose':\r\n        case 'Candle':\r\n        case 'Waterfall':\r\n        case 'BoxAndWhisker':\r\n        case 'StepArea':\r\n        case 'StackingStepArea':\r\n        case 'Square':\r\n        case 'Flag':\r\n            dir = 'M' + ' ' + x + ' ' + (ly + (-height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly + (-height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + x + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + x + ' ' + (ly + (-height / 2)) + ' z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Pyramid':\r\n        case 'Triangle':\r\n            dir = 'M' + ' ' + x + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + lx + ' ' + (ly + (-height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + x + ' ' + (ly + (height / 2)) + ' z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Funnel':\r\n        case 'InvertedTriangle':\r\n            dir = 'M' + ' ' + (lx + (width / 2)) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + lx + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx - (width / 2)) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly - (height / 2)) + ' z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Pentagon':\r\n            for (var i = 0; i <= 5; i++) {\r\n                xVal = (width / 2) * Math.cos((Math.PI / 180) * (i * eq));\r\n                yVal = (height / 2) * Math.sin((Math.PI / 180) * (i * eq));\r\n                if (i === 0) {\r\n                    dir = 'M' + ' ' + (lx + xVal) + ' ' + (ly + yVal) + ' ';\r\n                }\r\n                else {\r\n                    dir = dir.concat('L' + ' ' + (lx + xVal) + ' ' + (ly + yVal) + ' ');\r\n                }\r\n            }\r\n            dir = dir.concat('Z');\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Image':\r\n            functionName = 'Image';\r\n            merge(options, { 'href': url, 'height': height, 'width': width, x: x, y: y });\r\n            break;\r\n    }\r\n    options = calculateLegendShapes(location, new Size(width, height), shape, options).renderOption;\r\n    return { renderOption: options, functionName: functionName };\r\n}\r\n/** @private */\r\nexport function getRectLocation(startLocation, endLocation, outerRect) {\r\n    var x = (endLocation.x < outerRect.x) ? outerRect.x :\r\n        (endLocation.x > (outerRect.x + outerRect.width)) ? outerRect.x + outerRect.width : endLocation.x;\r\n    var y = (endLocation.y < outerRect.y) ? outerRect.y :\r\n        (endLocation.y > (outerRect.y + outerRect.height)) ? outerRect.y + outerRect.height : endLocation.y;\r\n    return new Rect((x > startLocation.x ? startLocation.x : x), (y > startLocation.y ? startLocation.y : y), Math.abs(x - startLocation.x), Math.abs(y - startLocation.y));\r\n}\r\n/** @private */\r\nexport function minMax(value, min, max) {\r\n    return value > max ? max : (value < min ? min : value);\r\n}\r\n/** @private */\r\nexport function getElement(id) {\r\n    return document.getElementById(id);\r\n}\r\n/** @private */\r\nexport function getTemplateFunction(template) {\r\n    var templateFn = null;\r\n    try {\r\n        if (document.querySelectorAll(template).length) {\r\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\r\n        }\r\n    }\r\n    catch (e) {\r\n        templateFn = templateComplier(template);\r\n    }\r\n    return templateFn;\r\n}\r\n/** @private */\r\nexport function accReactTemplate(childElement, chart, isTemplate, points, argsData, point, datalabelGroup, id, dataLabel, redraw) {\r\n    var clientRect = childElement.getBoundingClientRect();\r\n    chart.accumulationDataLabelModule.calculateLabelSize(isTemplate, childElement, point, points, argsData, datalabelGroup, id, dataLabel, redraw, clientRect, true);\r\n}\r\n/** @private */\r\nexport function chartReactTemplate(childElement, chart, point, series, labelIndex, redraw) {\r\n    var parentElement = document.getElementById(chart.element.id + '_Series_' + (series.index === undefined ? series.category : series.index) + '_DataLabelCollections');\r\n    if (parentElement) {\r\n        if (point.index === 0) {\r\n            chart.dataLabelCollections = []; // clear old datalabel bounds for react callback\r\n        }\r\n        chart.dataLabelModule.calculateTemplateLabelSize(parentElement, childElement, point, series, series.marker.dataLabel, labelIndex, series.clipRect, redraw, true);\r\n    }\r\n}\r\n/** @private */\r\nexport function createTemplate(childElement, pointIndex, content, chart, point, series, dataLabelId, labelIndex, argsData, isTemplate, points, datalabelGroup, id, dataLabel, redraw) {\r\n    var templateFn = getTemplateFunction(content);\r\n    var templateElement;\r\n    try {\r\n        var blazor = 'Blazor';\r\n        var tempObject = window[blazor] ? (dataLabelId ? point : { point: point }) :\r\n            { chart: chart, series: series, point: point };\r\n        var templateId = dataLabelId ? dataLabelId + '_template' : 'template';\r\n        var elementData = templateFn ? templateFn(tempObject, chart, templateId, dataLabelId ||\r\n            childElement.id.replace(/[^a-zA-Z0-9]/g, '')) : [];\r\n        if (elementData.length) {\r\n            templateElement = Array.prototype.slice.call(elementData);\r\n            var len = templateElement.length;\r\n            for (var i = 0; i < len; i++) {\r\n                childElement.appendChild(templateElement[i]);\r\n            }\r\n        }\r\n        var reactCallback = void 0;\r\n        if (chart.getModuleName() === 'accumulationchart') {\r\n            reactCallback = accReactTemplate.bind(this, childElement, chart, isTemplate, points, argsData, points[pointIndex], datalabelGroup, id, dataLabel, redraw);\r\n            // tslint:disable-next-line:no-any\r\n            if (chart.isReact) {\r\n                chart.renderReactTemplates(reactCallback);\r\n            }\r\n        }\r\n        else if (chart.getModuleName() === 'chart') {\r\n            reactCallback = (point && series) ? chartReactTemplate.bind(this, childElement, chart, point, series, labelIndex, redraw) : reactCallback;\r\n            // tslint:disable-next-line:no-any\r\n            if (chart.isReact) {\r\n                chart.renderReactTemplates(reactCallback);\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        return childElement;\r\n    }\r\n    return childElement;\r\n}\r\n/** @private */\r\nexport function getFontStyle(font) {\r\n    var style = '';\r\n    style = 'font-size:' + font.size +\r\n        '; font-style:' + font.fontStyle + '; font-weight:' + font.fontWeight +\r\n        '; font-family:' + font.fontFamily + ';opacity:' + font.opacity +\r\n        '; color:' + font.color + ';';\r\n    return style;\r\n}\r\n/** @private */\r\nexport function measureElementRect(element, redraw, isReactCallback) {\r\n    if (redraw === void 0) { redraw = false; }\r\n    if (!isReactCallback) { // If the element is already in DOM, no need to append in the body.\r\n        document.body.appendChild(element);\r\n    }\r\n    var bounds = element.getBoundingClientRect();\r\n    if (redraw) {\r\n        remove(element);\r\n    }\r\n    else if (!isReactCallback) { // for react chart data label template - (callback function)\r\n        removeElement(element.id);\r\n    }\r\n    return bounds;\r\n}\r\n/** @private */\r\nexport function findlElement(elements, id) {\r\n    var element;\r\n    for (var i = 0, length_1 = elements.length; i < length_1; i++) {\r\n        if (elements[i].id.indexOf(id) > -1) {\r\n            element = elements[i];\r\n            continue;\r\n        }\r\n    }\r\n    return element;\r\n}\r\n/** @private */\r\nexport function getPoint(x, y, xAxis, yAxis, isInverted) {\r\n    x = ((xAxis.valueType === 'Logarithmic') ?\r\n        logBase(((x > 0) ? x : Math.pow(xAxis.logBase, xAxis.visibleRange.min)), xAxis.logBase) : x);\r\n    y = ((yAxis.valueType === 'Logarithmic') ?\r\n        logBase(((y > 0) ? y : Math.pow(yAxis.logBase, yAxis.visibleRange.min)), yAxis.logBase) : y);\r\n    x = valueToCoefficient(x, xAxis);\r\n    y = valueToCoefficient(y, yAxis);\r\n    var xLength = (isInverted ? xAxis.rect.height : xAxis.rect.width);\r\n    var yLength = (isInverted ? yAxis.rect.width : yAxis.rect.height);\r\n    var locationX = isInverted ? y * (yLength) : x * (xLength);\r\n    var locationY = isInverted ? (1 - x) * (xLength) : (1 - y) * (yLength);\r\n    return new ChartLocation(locationX, locationY);\r\n}\r\n/** @private */\r\nexport function appendElement(child, parent, redraw, animate, x, y) {\r\n    if (redraw === void 0) { redraw = false; }\r\n    if (animate === void 0) { animate = false; }\r\n    if (x === void 0) { x = 'x'; }\r\n    if (y === void 0) { y = 'y'; }\r\n    if (child && child.hasChildNodes() && parent) {\r\n        appendChildElement(false, parent, child, redraw, animate, x, y);\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n/**\r\n * Method to append child element\r\n *\r\n * @param {boolean} isCanvas canvas mode value\r\n * @param {Element} parent parent element\r\n * @param {Element} childElement childElement element\r\n * @param {boolean} redraw chart redraw value\r\n * @param {boolean} isAnimate animation value\r\n * @param {string} x x position\r\n * @param {string} y y position\r\n * @param {ChartLocation} start start location value\r\n * @param {string} direction direction of the element\r\n * @param {boolean} forceAnimate forceAnimate\r\n * @param {boolean} isRect isRect\r\n * @param {Rect} previousRect previousRect\r\n * @param {number} animateDuration duration of the animation\r\n */\r\nexport function appendChildElement(isCanvas, parent, childElement, redraw, isAnimate, x, y, start, direction, forceAnimate, isRect, previousRect, animateDuration) {\r\n    if (isAnimate === void 0) { isAnimate = false; }\r\n    if (x === void 0) { x = 'x'; }\r\n    if (y === void 0) { y = 'y'; }\r\n    if (forceAnimate === void 0) { forceAnimate = false; }\r\n    if (isRect === void 0) { isRect = false; }\r\n    if (previousRect === void 0) { previousRect = null; }\r\n    if (isCanvas) {\r\n        return null;\r\n    }\r\n    var existChild = parent.querySelector('#' + childElement.id);\r\n    var element = (existChild || getElement(childElement.id));\r\n    var child = childElement;\r\n    var duration = animateDuration ? animateDuration : 300;\r\n    if (redraw && isAnimate && element) {\r\n        start = start || (element.tagName === 'DIV' ?\r\n            new ChartLocation(+(element.style[x].split('px')[0]), +(element.style[y].split('px')[0])) :\r\n            new ChartLocation(+element.getAttribute(x), +element.getAttribute(y)));\r\n        if (direction && direction !== 'undefined') {\r\n            pathAnimation(childElement, childElement.getAttribute('d'), redraw, direction, duration);\r\n        }\r\n        else if (isRect && previousRect) {\r\n            animateRectElement(child, 0, duration, new Rect(+element.getAttribute('x'), +element.getAttribute('y'), +element.getAttribute('width'), +element.getAttribute('height')), previousRect);\r\n        }\r\n        else {\r\n            var end = child.tagName === 'DIV' ?\r\n                new ChartLocation(+(child.style[x].split('px')[0]), +(child.style[y].split('px')[0])) :\r\n                new ChartLocation(+child.getAttribute(x), +child.getAttribute(y));\r\n            animateRedrawElement(child, duration, start, end, x, y);\r\n        }\r\n    }\r\n    else if (redraw && isAnimate && !element && forceAnimate) {\r\n        templateAnimate(child, 0, 600, 'FadeIn');\r\n    }\r\n    if (existChild) {\r\n        parent.replaceChild(child, element);\r\n    }\r\n    else {\r\n        parent.appendChild(child);\r\n    }\r\n}\r\n/** @private */\r\nexport function getDraggedRectLocation(x1, y1, x2, y2, outerRect) {\r\n    var width = Math.abs(x1 - x2);\r\n    var height = Math.abs(y1 - y2);\r\n    var x = Math.max(checkBounds(Math.min(x1, x2), width, outerRect.x, outerRect.width), outerRect.x);\r\n    var y = Math.max(checkBounds(Math.min(y1, y2), height, outerRect.y, outerRect.height), outerRect.y);\r\n    return new Rect(x, y, Math.min(width, outerRect.width), Math.min(height, outerRect.height));\r\n}\r\n/** @private */\r\nexport function checkBounds(start, size, min, max) {\r\n    if (start < min) {\r\n        start = min;\r\n    }\r\n    else if ((start + size) > (max + min)) {\r\n        start = (max + min) - size;\r\n    }\r\n    return start;\r\n}\r\n/** @private */\r\nexport function getLabelText(currentPoint, series, chart) {\r\n    var labelFormat = series.yAxis.labelFormat;\r\n    var text = [];\r\n    var customLabelFormat = labelFormat.match('{value}') !== null;\r\n    switch (series.seriesType) {\r\n        case 'XY':\r\n            /**\r\n             * I255790\r\n             * For Polar radar series, the dataLabel appears out of range when axis range is given for yaxis\r\n             * Cause: Since symbol location for the points which did not lies in within range, lies outside of seriesRect.\r\n             * Fix: DataLabel rendered after checking WithIn for the points\r\n             */\r\n            if (series.chart.chartAreaType === 'PolarRadar') {\r\n                if (series.drawType.indexOf('Stacking') !== -1) {\r\n                    if ((series.yAxis.valueType === 'Logarithmic' &&\r\n                        logWithIn(series.stackedValues.endValues[currentPoint.index], series.yAxis)) ||\r\n                        withIn(series.stackedValues.endValues[currentPoint.index], series.yAxis.visibleRange)) {\r\n                        text.push(currentPoint.text || currentPoint.yValue.toString());\r\n                    }\r\n                }\r\n                else {\r\n                    if ((series.yAxis.valueType === 'Logarithmic' && logWithIn(currentPoint.yValue, series.yAxis)) ||\r\n                        withIn(currentPoint.yValue, series.yAxis.visibleRange)) {\r\n                        text.push(currentPoint.text || currentPoint.yValue.toString());\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                text.push(currentPoint.text || currentPoint.yValue.toString());\r\n            }\r\n            break;\r\n        case 'HighLow':\r\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\r\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\r\n            break;\r\n        case 'HighLowOpenClose':\r\n            text.push(currentPoint.text || Math.max(currentPoint.high, currentPoint.low).toString());\r\n            text.push(currentPoint.text || Math.min(currentPoint.high, currentPoint.low).toString());\r\n            text.push(currentPoint.text || Math.max(currentPoint.open, currentPoint.close).toString());\r\n            text.push(currentPoint.text || Math.min(currentPoint.open, currentPoint.close).toString());\r\n            break;\r\n        case 'BoxPlot':\r\n            text.push(currentPoint.text || currentPoint.median.toString());\r\n            text.push(currentPoint.text || currentPoint.maximum.toString());\r\n            text.push(currentPoint.text || currentPoint.minimum.toString());\r\n            text.push(currentPoint.text || currentPoint.upperQuartile.toString());\r\n            text.push(currentPoint.text || currentPoint.lowerQuartile.toString());\r\n            for (var _i = 0, _a = currentPoint.outliers; _i < _a.length; _i++) {\r\n                var liers = _a[_i];\r\n                text.push(currentPoint.text || liers.toString());\r\n            }\r\n            break;\r\n    }\r\n    if (labelFormat && !currentPoint.text) {\r\n        series.yAxis.format = chart.intl.getNumberFormat({\r\n            format: customLabelFormat ? '' : labelFormat,\r\n            useGrouping: chart.useGroupingSeparator\r\n        });\r\n        for (var i = 0; i < text.length; i++) {\r\n            text[i] = customLabelFormat ? labelFormat.replace('{value}', series.yAxis.format(parseFloat(text[i]))) :\r\n                series.yAxis.format(parseFloat(text[i]));\r\n        }\r\n    }\r\n    return text;\r\n}\r\n/** @private */\r\nexport function stopTimer(timer) {\r\n    window.clearInterval(timer);\r\n}\r\n/** @private */\r\nexport function isCollide(rect, collections, clipRect) {\r\n    var currentRect = new Rect(rect.x + clipRect.x, rect.y + clipRect.y, rect.width, rect.height);\r\n    var isCollide = collections.some(function (rect) {\r\n        return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\r\n            currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\r\n    });\r\n    return isCollide;\r\n}\r\n/** @private */\r\nexport function isOverlap(currentRect, rect) {\r\n    return (currentRect.x < rect.x + rect.width && currentRect.x + currentRect.width > rect.x &&\r\n        currentRect.y < rect.y + rect.height && currentRect.height + currentRect.y > rect.y);\r\n}\r\n/** @private */\r\nexport function containsRect(currentRect, rect) {\r\n    return (currentRect.x <= rect.x && currentRect.x + currentRect.width >= rect.x + rect.width &&\r\n        currentRect.y <= rect.y && currentRect.height + currentRect.y >= rect.y + rect.height);\r\n}\r\n/** @private */\r\nexport function calculateRect(location, textSize, margin) {\r\n    return new Rect((location.x - (textSize.width / 2) - margin.left), (location.y - (textSize.height / 2) - margin.top), textSize.width + margin.left + margin.right, textSize.height + margin.top + margin.bottom);\r\n}\r\n/** @private */\r\nexport function convertToHexCode(value) {\r\n    return '#' + componentToHex(value.r) + componentToHex(value.g) + componentToHex(value.b);\r\n}\r\n/** @private */\r\nexport function componentToHex(value) {\r\n    var hex = value.toString(16);\r\n    return hex.length === 1 ? '0' + hex : hex;\r\n}\r\n/** @private */\r\nexport function convertHexToColor(hex) {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? new ColorValue(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\r\n        new ColorValue(255, 255, 255);\r\n}\r\n/** @private */\r\nexport function colorNameToHex(color) {\r\n    color = color === 'transparent' ? 'white' : color;\r\n    document.body.appendChild(createElement('text', { id: 'chartmeasuretext' }));\r\n    var element = document.getElementById('chartmeasuretext');\r\n    element.style.color = color;\r\n    color = window.getComputedStyle(element).color;\r\n    remove(element);\r\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\r\n    var isRGBValue = exp.exec(color);\r\n    return convertToHexCode(new ColorValue(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\r\n}\r\n/** @private */\r\nexport function getSaturationColor(color, factor) {\r\n    color = colorNameToHex(color);\r\n    color = color.replace(/[^0-9a-f]/gi, '');\r\n    if (color.length < 6) {\r\n        color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\r\n    }\r\n    factor = factor || 0;\r\n    // convert to decimal and change luminosity\r\n    var rgb = '#';\r\n    var colorCode;\r\n    for (var i = 0; i < 3; i++) {\r\n        colorCode = parseInt(color.substr(i * 2, 2), 16);\r\n        colorCode = Math.round(Math.min(Math.max(0, colorCode + (colorCode * factor)), 255));\r\n        rgb += ('00' + colorCode.toString(16)).substr(colorCode.toString(16).length);\r\n    }\r\n    return rgb;\r\n}\r\n/** @private */\r\nexport function getMedian(values) {\r\n    var half = Math.floor(values.length / 2);\r\n    return values.length % 2 ? values[half] : ((values[half - 1] + values[half]) / 2.0);\r\n}\r\n/** @private */\r\nexport function calculateLegendShapes(location, size, shape, options) {\r\n    var padding = 10;\r\n    var dir = '';\r\n    var space = 2;\r\n    var height = size.height;\r\n    var width = size.width;\r\n    var lx = location.x;\r\n    var ly = location.y;\r\n    switch (shape) {\r\n        case 'MultiColoredLine':\r\n        case 'Line':\r\n        case 'StackingLine':\r\n        case 'StackingLine100':\r\n            dir = 'M' + ' ' + (lx + (-width / 2)) + ' ' + (ly) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly);\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'StepLine':\r\n            options.fill = 'transparent';\r\n            dir = 'M' + ' ' + (lx + (-width / 2) - (padding / 4)) + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' + (lx +\r\n                (-width / 2) + (width / 10)) + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' + (lx + (-width / 2) + (width / 10))\r\n                + ' ' + (ly) + ' ' + 'L' + ' ' + (lx + (-width / 10)) + ' ' + (ly) + ' ' + 'L' + ' ' + (lx + (-width / 10))\r\n                + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' + (lx + (width / 5)) + ' ' + (ly + (height / 2)) + ' ' + 'L' +\r\n                ' ' + (lx + (width / 5)) + ' ' + (ly + (-height / 2)) + ' ' + 'L' + ' ' + (lx + (width / 2)) + ' ' + (ly +\r\n                (-height / 2)) + 'L' + ' ' + (lx + (width / 2)) + ' ' + (ly + (height / 2)) + ' ' + 'L' + '' + (lx + (width / 2)\r\n                + (padding / 4)) + ' ' + (ly + (height / 2));\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'UpArrow':\r\n            options.fill = options.stroke;\r\n            options.stroke = 'transparent';\r\n            dir = 'M' + ' ' + (lx + (-width / 2)) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly + (height / 2)) +\r\n                'L' + ' ' + (lx + (width / 2) - space) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx) + ' ' + (ly - (height / 2) + (2 * space)) +\r\n                'L' + (lx - (width / 2) + space) + ' ' + (ly + (height / 2)) + ' Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'DownArrow':\r\n            dir = 'M' + ' ' + (lx - (width / 2)) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx) + ' ' + (ly + (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly - (height / 2)) +\r\n                'L' + ' ' + (lx + (width / 2) - space) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx) + ' ' + (ly + (height / 2) - (2 * space)) +\r\n                'L' + (lx - (width / 2) + space) + ' ' + (ly - (height / 2)) + ' Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'RightArrow':\r\n            dir = 'M' + ' ' + (lx + (-width / 2)) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (width / 2)) + ' ' + (ly) + ' ' + 'L' + ' ' +\r\n                (lx + (-width / 2)) + ' ' + (ly + (height / 2)) + ' L' + ' ' + (lx + (-width / 2)) + ' ' +\r\n                (ly + (height / 2) - space) + ' ' + 'L' + ' ' + (lx + (width / 2) - (2 * space)) + ' ' + (ly) +\r\n                ' L' + (lx + (-width / 2)) + ' ' + (ly - (height / 2) + space) + ' Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'LeftArrow':\r\n            options.fill = options.stroke;\r\n            options.stroke = 'transparent';\r\n            dir = 'M' + ' ' + (lx + (width / 2)) + ' ' + (ly - (height / 2)) + ' ' +\r\n                'L' + ' ' + (lx + (-width / 2)) + ' ' + (ly) + ' ' + 'L' + ' ' +\r\n                (lx + (width / 2)) + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' +\r\n                (lx + (width / 2)) + ' ' + (ly + (height / 2) - space) + ' L' + ' ' + (lx + (-width / 2) + (2 * space))\r\n                + ' ' + (ly) + ' L' + (lx + (width / 2)) + ' ' + (ly - (height / 2) + space) + ' Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Column':\r\n        case 'Pareto':\r\n        case 'StackingColumn':\r\n        case 'StackingColumn100':\r\n        case 'RangeColumn':\r\n        case 'Histogram':\r\n            dir = 'M' + ' ' + (lx - 3 * (width / 5)) + ' ' + (ly - (height / 5)) + ' ' + 'L' + ' ' +\r\n                (lx + 3 * (-width / 10)) + ' ' + (ly - (height / 5)) + ' ' + 'L' + ' ' +\r\n                (lx + 3 * (-width / 10)) + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' ' + (lx - 3 *\r\n                (width / 5)) + ' ' + (ly + (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' +\r\n                (lx + (-width / 10) - (width / 20)) + ' ' + (ly - (height / 4) - (padding / 2))\r\n                + ' ' + 'L' + ' ' + (lx + (width / 10) + (width / 20)) + ' ' + (ly - (height / 4) -\r\n                (padding / 2)) + ' ' + 'L' + ' ' + (lx + (width / 10) + (width / 20)) + ' ' + (ly\r\n                + (height / 2)) + ' ' + 'L' + ' ' + (lx + (-width / 10) - (width / 20)) + ' ' + (ly +\r\n                (height / 2)) + ' ' + 'Z' + ' ' + 'M' + ' ' + (lx + 3 * (width / 10)) + ' ' + (ly) + ' ' +\r\n                'L' + ' ' + (lx + 3 * (width / 5)) + ' ' + (ly) + ' ' + 'L' + ' '\r\n                + (lx + 3 * (width / 5)) + ' ' + (ly + (height / 2)) + ' ' + 'L' + ' '\r\n                + (lx + 3 * (width / 10)) + ' ' + (ly + (height / 2)) + ' ' + 'Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Bar':\r\n        case 'StackingBar':\r\n        case 'StackingBar100':\r\n            dir = 'M' + ' ' + (lx + (-width / 2) + (-padding / 4)) + ' ' + (ly - 3 * (height / 5)) + ' '\r\n                + 'L' + ' ' + (lx + 3 * (width / 10)) + ' ' + (ly - 3 * (height / 5)) + ' ' + 'L' + ' ' +\r\n                (lx + 3 * (width / 10)) + ' ' + (ly - 3 * (height / 10)) + ' ' + 'L' + ' ' +\r\n                (lx - (width / 2) + (-padding / 4)) + ' ' + (ly - 3 * (height / 10)) + ' ' + 'Z' + ' '\r\n                + 'M' + ' ' + (lx + (-width / 2) + (-padding / 4)) + ' ' + (ly - (height / 5)\r\n                + (padding / 20)) + ' ' + 'L' + ' ' + (lx + (width / 2) + (padding / 4)) + ' ' + (ly\r\n                - (height / 5) + (padding / 20)) + ' ' + 'L' + ' ' + (lx + (width / 2) + (padding / 4))\r\n                + ' ' + (ly + (height / 10) + (padding / 20)) + ' ' + 'L' + ' ' + (lx - (width / 2)\r\n                + (-padding / 4)) + ' ' + (ly + (height / 10) + (padding / 20)) + ' ' + 'Z' + ' ' + 'M'\r\n                + ' ' + (lx - (width / 2) + (-padding / 4)) + ' ' + (ly + (height / 5)\r\n                + (padding / 10)) + ' ' + 'L' + ' ' + (lx + (-width / 4)) + ' ' + (ly + (height / 5)\r\n                + (padding / 10)) + ' ' + 'L' + ' ' + (lx + (-width / 4)) + ' ' + (ly + (height / 2)\r\n                + (padding / 10)) + ' ' + 'L' + ' ' + (lx - (width / 2) + (-padding / 4))\r\n                + ' ' + (ly + (height / 2) + (padding / 10)) + ' ' + 'Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Spline':\r\n            options.fill = 'transparent';\r\n            dir = 'M' + ' ' + (lx - (width / 2)) + ' ' + (ly + (height / 5)) + ' ' + 'Q' + ' '\r\n                + lx + ' ' + (ly - height) + ' ' + lx + ' ' + (ly + (height / 5))\r\n                + ' ' + 'M' + ' ' + lx + ' ' + (ly + (height / 5)) + ' ' + 'Q' + ' ' + (lx\r\n                + (width / 2)) + ' ' + (ly + (height / 2)) + ' ' + (lx + (width / 2)) + ' '\r\n                + (ly - (height / 2));\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Area':\r\n        case 'MultiColoredArea':\r\n        case 'RangeArea':\r\n        case 'StackingArea':\r\n        case 'StackingArea100':\r\n            dir = 'M' + ' ' + (lx - (width / 2) - (padding / 4)) + ' ' + (ly + (height / 2))\r\n                + ' ' + 'L' + ' ' + (lx + (-width / 4) + (-padding / 8)) + ' ' + (ly - (height / 2))\r\n                + ' ' + 'L' + ' ' + (lx) + ' ' + (ly + (height / 4)) + ' ' + 'L' + ' ' + (lx\r\n                + (width / 4) + (padding / 8)) + ' ' + (ly + (-height / 2) + (height / 4)) + ' '\r\n                + 'L' + ' ' + (lx + (height / 2) + (padding / 4)) + ' ' + (ly + (height / 2)) + ' ' + 'Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'SplineArea':\r\n        case 'SplineRangeArea':\r\n            dir = 'M' + ' ' + (lx - (width / 2)) + ' ' + (ly + (height / 5)) + ' ' + 'Q' + ' ' + lx\r\n                + ' ' + (ly - height) + ' ' + lx + ' ' + (ly + (height / 5)) + ' ' + 'Z' + ' ' + 'M'\r\n                + ' ' + lx + ' ' + (ly + (height / 5)) + ' ' + 'Q' + ' ' + (lx + (width / 2)) + ' '\r\n                + (ly + (height / 2)) + ' ' + (lx + (width / 2)) + ' '\r\n                + (ly - (height / 2)) + ' ' + ' Z';\r\n            merge(options, { 'd': dir });\r\n            break;\r\n        case 'Pie':\r\n        case 'Doughnut':\r\n            options.stroke = 'transparent';\r\n            // eslint-disable-next-line no-case-declarations\r\n            var r = Math.min(height, width) / 2;\r\n            dir = getAccumulationLegend(lx, ly, r, height, width, shape);\r\n            merge(options, { 'd': dir });\r\n            break;\r\n    }\r\n    return { renderOption: options };\r\n}\r\n/** @private */\r\nexport function textTrim(maxWidth, text, font) {\r\n    var label = text;\r\n    var size = measureText(text, font).width;\r\n    if (size > maxWidth) {\r\n        var textLength = text.length;\r\n        for (var i = textLength - 1; i >= 0; --i) {\r\n            label = text.substring(0, i) + '...';\r\n            size = measureText(label, font).width;\r\n            if (size <= maxWidth) {\r\n                return label;\r\n            }\r\n        }\r\n    }\r\n    return label;\r\n}\r\n/** @private */\r\nexport function lineBreakLabelTrim(maxWidth, text, font) {\r\n    var labelCollection = [];\r\n    var breakLabels = text.split('<br>');\r\n    for (var i = 0; i < breakLabels.length; i++) {\r\n        text = breakLabels[i];\r\n        var size = measureText(text, font).width;\r\n        if (size > maxWidth) {\r\n            var textLength = text.length;\r\n            for (var i_1 = textLength - 1; i_1 >= 0; --i_1) {\r\n                text = text.substring(0, i_1) + '...';\r\n                size = measureText(text, font).width;\r\n                if (size <= maxWidth) {\r\n                    labelCollection.push(text);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            labelCollection.push(text);\r\n        }\r\n    }\r\n    return labelCollection;\r\n}\r\n/** @private */\r\nexport function stringToNumber(value, containerSize) {\r\n    if (value !== null && value !== undefined) {\r\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\r\n    }\r\n    return null;\r\n}\r\n/** @private */\r\nexport function redrawElement(redraw, id, options, renderer) {\r\n    if (!redraw) {\r\n        return null;\r\n    }\r\n    var element = getElement(id);\r\n    if (element && options) {\r\n        renderer.setElementAttributes(options, element.tagName === 'clipPath' ? element.childNodes[0] : element);\r\n    }\r\n    return element;\r\n}\r\n/** @private */\r\nexport function animateRedrawElement(element, duration, start, end, x, y) {\r\n    if (x === void 0) { x = 'x'; }\r\n    if (y === void 0) { y = 'y'; }\r\n    var isDiv = element.tagName === 'DIV';\r\n    var setStyle = function (xValue, yValue) {\r\n        if (isDiv) {\r\n            element.style[x] = xValue + 'px';\r\n            element.style[y] = yValue + 'px';\r\n        }\r\n        else {\r\n            element.setAttribute(x, xValue + '');\r\n            element.setAttribute(y, yValue + '');\r\n        }\r\n    };\r\n    setStyle(start.x, start.y);\r\n    new Animation({}).animate(createElement('div'), {\r\n        duration: duration,\r\n        progress: function (args) {\r\n            setStyle(linear(args.timeStamp, start.x, end.x - start.x, args.duration), linear(args.timeStamp, start.y, end.y - start.y, args.duration));\r\n        },\r\n        end: function () {\r\n            setStyle(end.x, end.y);\r\n        }\r\n    });\r\n}\r\n/** @private */\r\nexport function textElement(renderer, option, font, color, parent, isMinus, redraw, isAnimate, forceAnimate, animateDuration, seriesClipRect, labelSize, isRotatedLabelIntersect, isCanvas) {\r\n    if (isMinus === void 0) { isMinus = false; }\r\n    if (forceAnimate === void 0) { forceAnimate = false; }\r\n    var renderOptions = {};\r\n    var tspanElement;\r\n    //let renderer: SvgRenderer = new SvgRenderer('');\r\n    var height;\r\n    var dy;\r\n    var label;\r\n    renderOptions = {\r\n        'id': option.id,\r\n        'x': option.x,\r\n        'y': option.y,\r\n        'fill': color ? color : 'black',\r\n        'font-size': font.size,\r\n        'font-style': font.fontStyle,\r\n        'font-family': font.fontFamily,\r\n        'font-weight': font.fontWeight,\r\n        'text-anchor': option.anchor,\r\n        'labelRotation': option.labelRotation,\r\n        'transform': option.transform,\r\n        'opacity': font.opacity,\r\n        'dominant-baseline': option.baseLine\r\n    };\r\n    var text = typeof option.text === 'string' ? option.text : isMinus ? option.text[option.text.length - 1] : option.text[0];\r\n    var transX = seriesClipRect ? seriesClipRect.x : 0;\r\n    var transY = seriesClipRect ? seriesClipRect.y : 0;\r\n    var htmlObject = renderer.createText(renderOptions, text, transX, transY);\r\n    htmlObject.style.fontFamily = font.fontFamily;\r\n    htmlObject.style.fontStyle = font.fontStyle;\r\n    htmlObject.style.fontSize = font.size;\r\n    htmlObject.style.fontWeight = font.fontWeight;\r\n    htmlObject.style.color = font.color;\r\n    htmlObject.style.textAnchor = option.anchor;\r\n    if (typeof option.text !== 'string' && option.text.length > 1) {\r\n        for (var i = 1, len = option.text.length; i < len; i++) {\r\n            height = (measureText(option.text[i], font).height);\r\n            dy = (option.y) + ((isMinus) ? -(i * height) : (i * height));\r\n            label = isMinus ? option.text[option.text.length - (i + 1)] : option.text[i];\r\n            if (isCanvas) {\r\n                tspanElement = renderer.createText(renderOptions, label, null, null, dy, true);\r\n            }\r\n            else {\r\n                tspanElement = renderer.createTSpan({\r\n                    'x': option.x, 'id': option.id,\r\n                    'y': dy\r\n                }, label);\r\n                htmlObject.appendChild(tspanElement);\r\n            }\r\n        }\r\n    }\r\n    if (!isRotatedLabelIntersect) {\r\n        appendChildElement(renderer instanceof CanvasRenderer, parent, htmlObject, redraw, isAnimate, 'x', 'y', null, null, forceAnimate, false, null, animateDuration);\r\n    }\r\n    return htmlObject;\r\n}\r\n/**\r\n * Method to calculate the width and height of the chart\r\n */\r\nexport function calculateSize(chart) {\r\n    // fix for Chart rendered with default width in IE issue\r\n    var containerWidth = chart.element.clientWidth || chart.element.offsetWidth;\r\n    var containerHeight = chart.element.clientHeight;\r\n    if (chart.stockChart) {\r\n        containerWidth = chart.stockChart.availableSize.width;\r\n        containerHeight = chart.stockChart.availableSize.height;\r\n    }\r\n    var height = 450;\r\n    var marginHeight;\r\n    if (chart.getModuleName() === 'rangeNavigator') {\r\n        var range = chart;\r\n        var tooltipSpace = range.tooltip.enable ? 35 : 0;\r\n        var periodHeight = range.periodSelectorSettings.periods.length ?\r\n            range.periodSelectorSettings.height : 0;\r\n        marginHeight = range.margin.top + range.margin.bottom + tooltipSpace;\r\n        var labelSize = measureText('tempString', range.labelStyle).height;\r\n        var labelPadding = 15;\r\n        height = (chart.series.length ? (Browser.isDevice ? 80 : 120) : ((range.enableGrouping ? (40 + labelPadding + labelSize) : 40)\r\n            + marginHeight)) + periodHeight;\r\n        if (range.disableRangeSelector) {\r\n            height = periodHeight;\r\n        }\r\n    }\r\n    chart.availableSize = new Size(stringToNumber(chart.width, containerWidth) || containerWidth || 600, stringToNumber(chart.height, containerHeight || height) || containerHeight || height);\r\n}\r\n/**\r\n * To create svg element.\r\n *\r\n * @param {Chart} chart chart instance\r\n */\r\nexport function createSvg(chart) {\r\n    chart.canvasRender = new CanvasRenderer(chart.element.id);\r\n    chart.renderer = chart.enableCanvas ? chart.canvasRender : new SvgRenderer(chart.element.id);\r\n    calculateSize(chart);\r\n    if (chart.stockChart && chart.getModuleName() === 'chart') {\r\n        chart.svgObject = chart.stockChart.chartObject;\r\n    }\r\n    else if (chart.stockChart && chart.getModuleName() === 'rangeNavigator') {\r\n        chart.svgObject = chart.stockChart.selectorObject;\r\n    }\r\n    else {\r\n        if (chart.enableCanvas) {\r\n            chart.svgObject = chart.renderer.createCanvas({\r\n                id: chart.element.id + '_canvas',\r\n                width: chart.availableSize.width,\r\n                height: chart.availableSize.height\r\n            });\r\n        }\r\n        else {\r\n            chart.svgObject = chart.renderer.createSvg({\r\n                id: chart.element.id + '_svg',\r\n                width: chart.availableSize.width,\r\n                height: chart.availableSize.height\r\n            });\r\n        }\r\n    }\r\n    if (chart.enableCanvas) {\r\n        chart.renderer.ctx.direction = chart.enableRtl ? 'rtl' : 'ltr';\r\n    }\r\n}\r\n/**\r\n * To calculate chart title and height\r\n *\r\n * @param {string} title text of the title\r\n * @param {FontModel} style style of the title\r\n * @param {number} width width of the title\r\n */\r\nexport function getTitle(title, style, width) {\r\n    var titleCollection = [];\r\n    switch (style.textOverflow) {\r\n        case 'Wrap':\r\n            titleCollection = textWrap(title, width, style);\r\n            break;\r\n        case 'Trim':\r\n            titleCollection.push(textTrim(width, title, style));\r\n            break;\r\n        default:\r\n            titleCollection.push(title);\r\n            break;\r\n    }\r\n    return titleCollection;\r\n}\r\n/**\r\n * Method to calculate x position of title\r\n */\r\nexport function titlePositionX(rect, titleStyle) {\r\n    var positionX;\r\n    if (titleStyle.textAlignment === 'Near') {\r\n        positionX = rect.x;\r\n    }\r\n    else if (titleStyle.textAlignment === 'Center') {\r\n        positionX = rect.x + rect.width / 2;\r\n    }\r\n    else {\r\n        positionX = rect.x + rect.width;\r\n    }\r\n    return positionX;\r\n}\r\n/**\r\n * Method to find new text and element size based on textOverflow\r\n */\r\nexport function textWrap(currentLabel, maximumWidth, font) {\r\n    var textCollection = currentLabel.split(' ');\r\n    var label = '';\r\n    var labelCollection = [];\r\n    var text;\r\n    for (var i = 0, len = textCollection.length; i < len; i++) {\r\n        text = textCollection[i];\r\n        if (measureText(label.concat(text), font).width < maximumWidth) {\r\n            label = label.concat((label === '' ? '' : ' ') + text);\r\n        }\r\n        else {\r\n            if (label !== '') {\r\n                labelCollection.push(textTrim(maximumWidth, label, font));\r\n                label = text;\r\n            }\r\n            else {\r\n                labelCollection.push(textTrim(maximumWidth, text, font));\r\n                text = '';\r\n            }\r\n        }\r\n        if (label && i === len - 1) {\r\n            labelCollection.push(textTrim(maximumWidth, label, font));\r\n        }\r\n    }\r\n    return labelCollection;\r\n}\r\n/**\r\n * Method to support the subscript and superscript value to text\r\n */\r\nexport function getUnicodeText(text, regexp) {\r\n    var title = text.replace(regexp, ' ');\r\n    var digit = text.match(regexp);\r\n    var digitSpecific = ' ';\r\n    var convertedText = ' ';\r\n    var k = 0;\r\n    var unicodeSub = {\r\n        '0': '\\u2080', '1': '\\u2081', '2': '\\u2082', '3': '\\u2083', '4': '\\u2084',\r\n        '5': '\\u2085', '6': '\\u2086', '7': '\\u2087', '8': '\\u2088', '9': '\\u2089'\r\n    };\r\n    var unicodeSup = {\r\n        '0': '\\u2070', '1': '\\u00B9', '2': '\\u00B2', '3': '\\u00B3', '4': '\\u2074',\r\n        '5': '\\u2075', '6': '\\u2076', '7': '\\u2077', '8': '\\u2078', '9': '\\u2079'\r\n    };\r\n    for (var i = 0; i <= title.length - 1; i++) {\r\n        if (title[i] === ' ') {\r\n            digitSpecific = (regexp === regSub) ? digit[k].replace(/~/g, '') : digit[k].replace(/\\^/g, '');\r\n            for (var j = 0; j < digitSpecific.length; j++) {\r\n                convertedText += (regexp === regSub) ? unicodeSub[digitSpecific[j]] : unicodeSup[digitSpecific[j]];\r\n            }\r\n            k++;\r\n        }\r\n        else {\r\n            convertedText += title[i];\r\n        }\r\n    }\r\n    return convertedText.trim();\r\n}\r\n/**\r\n * Method to reset the blazor templates\r\n */\r\nexport function blazorTemplatesReset(control) {\r\n    for (var i = 0; i < control.annotations.length; i++) {\r\n        resetBlazorTemplate((control.element.id + '_Annotation_' + i).replace(/[^a-zA-Z0-9]/g, ''), 'ContentTemplate');\r\n    }\r\n    //This reset the tooltip templates\r\n    resetBlazorTemplate(control.element.id + '_tooltipparent_template' + '_blazorTemplate', 'Template');\r\n    //Datalabel templates reset\r\n    resetBlazorTemplate(control.element.id + '_DataLabel');\r\n}\r\n/** @private */\r\nvar CustomizeOption = /** @class */ (function () {\r\n    function CustomizeOption(id) {\r\n        this.id = id;\r\n    }\r\n    return CustomizeOption;\r\n}());\r\nexport { CustomizeOption };\r\n/** @private */\r\nvar StackValues = /** @class */ (function () {\r\n    function StackValues(startValue, endValue) {\r\n        this.startValues = startValue;\r\n        this.endValues = endValue;\r\n    }\r\n    return StackValues;\r\n}());\r\nexport { StackValues };\r\n/** @private */\r\nvar RectOption = /** @class */ (function (_super) {\r\n    __extends(RectOption, _super);\r\n    function RectOption(id, fill, border, opacity, rect, rx, ry, transform, dashArray) {\r\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity, dashArray) || this;\r\n        _this.y = rect.y;\r\n        _this.x = rect.x;\r\n        _this.height = rect.height;\r\n        _this.width = rect.width;\r\n        _this.rx = rx ? rx : 0;\r\n        _this.ry = ry ? ry : 0;\r\n        _this.transform = transform ? transform : '';\r\n        _this.stroke = (border.width !== 0 && _this.stroke !== '') ? border.color : 'transparent';\r\n        return _this;\r\n    }\r\n    return RectOption;\r\n}(PathOption));\r\nexport { RectOption };\r\n/** @private */\r\nvar ImageOption = /** @class */ (function () {\r\n    function ImageOption(height, width, href, x, y, id, visibility, preserveAspectRatio) {\r\n        this.height = height;\r\n        this.width = width;\r\n        this.href = href;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.id = id;\r\n        this.visibility = visibility;\r\n        this.preserveAspectRatio = preserveAspectRatio;\r\n    }\r\n    return ImageOption;\r\n}());\r\nexport { ImageOption };\r\n/** @private */\r\nvar CircleOption = /** @class */ (function (_super) {\r\n    __extends(CircleOption, _super);\r\n    function CircleOption(id, fill, border, opacity, cx, cy, r) {\r\n        var _this = _super.call(this, id, fill, border.width, border.color, opacity) || this;\r\n        _this.cy = cy;\r\n        _this.cx = cx;\r\n        _this.r = r;\r\n        return _this;\r\n    }\r\n    return CircleOption;\r\n}(PathOption));\r\nexport { CircleOption };\r\n/** @private */\r\nvar PolygonOption = /** @class */ (function () {\r\n    function PolygonOption(id, points, fill) {\r\n        this.id = id;\r\n        this.points = points;\r\n        this.fill = fill;\r\n    }\r\n    return PolygonOption;\r\n}());\r\nexport { PolygonOption };\r\n/** @private */\r\nvar ChartLocation = /** @class */ (function () {\r\n    function ChartLocation(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return ChartLocation;\r\n}());\r\nexport { ChartLocation };\r\n/** @private */\r\nvar LabelLocation = /** @class */ (function () {\r\n    function LabelLocation(x, y) {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return LabelLocation;\r\n}());\r\nexport { LabelLocation };\r\n/** @private */\r\nvar Thickness = /** @class */ (function () {\r\n    function Thickness(left, right, top, bottom) {\r\n        this.left = left;\r\n        this.right = right;\r\n        this.top = top;\r\n        this.bottom = bottom;\r\n    }\r\n    return Thickness;\r\n}());\r\nexport { Thickness };\r\n/** @private */\r\nvar ColorValue = /** @class */ (function () {\r\n    function ColorValue(r, g, b) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n    }\r\n    return ColorValue;\r\n}());\r\nexport { ColorValue };\r\n/** @private */\r\nvar PointData = /** @class */ (function () {\r\n    function PointData(point, series, index) {\r\n        if (index === void 0) { index = 0; }\r\n        this.point = point;\r\n        this.series = series;\r\n        this.lierIndex = index;\r\n    }\r\n    return PointData;\r\n}());\r\nexport { PointData };\r\n/** @private */\r\nvar AccPointData = /** @class */ (function () {\r\n    function AccPointData(point, series, index) {\r\n        if (index === void 0) { index = 0; }\r\n        this.point = point;\r\n        this.series = series;\r\n        this.index = index;\r\n    }\r\n    return AccPointData;\r\n}());\r\nexport { AccPointData };\r\n/** @private */\r\nvar ControlPoints = /** @class */ (function () {\r\n    function ControlPoints(controlPoint1, controlPoint2) {\r\n        this.controlPoint1 = controlPoint1;\r\n        this.controlPoint2 = controlPoint2;\r\n    }\r\n    return ControlPoints;\r\n}());\r\nexport { ControlPoints };\r\n/** @private */\r\nexport function getColorByValue(colorMap, value) {\r\n    var color = '';\r\n    var rbgColorValue;\r\n    if (Number(value) === colorMap.start) {\r\n        color = colorMap.colors[0];\r\n    }\r\n    else if (Number(value) === colorMap.end) {\r\n        color = colorMap.colors[colorMap.colors.length - 1];\r\n    }\r\n    else {\r\n        rbgColorValue = getGradientColor(Number(value), colorMap);\r\n        color = convertToHexCode(rbgColorValue);\r\n    }\r\n    return color;\r\n}\r\n/** @private */\r\nexport function getGradientColor(value, colorMap) {\r\n    var previousOffset = colorMap.start;\r\n    var nextOffset = colorMap.end;\r\n    var percent = 0;\r\n    var full = nextOffset - previousOffset;\r\n    var midColor;\r\n    percent = (value - previousOffset) / full;\r\n    var previousColor;\r\n    var nextColor;\r\n    if (colorMap.colors.length <= 2) {\r\n        previousColor = colorMap.colors[0].charAt(0) === '#' ? colorMap.colors[0] : colorNameToHex(colorMap.colors[0]);\r\n        nextColor = colorMap.colors[colorMap.colors.length - 1].charAt(0) === '#' ?\r\n            colorMap.colors[colorMap.colors.length - 1] : colorNameToHex(colorMap.colors[colorMap.colors.length - 1]);\r\n    }\r\n    else {\r\n        previousColor = colorMap.colors[0].charAt(0) === '#' ? colorMap.colors[0] : colorNameToHex(colorMap.colors[0]);\r\n        nextColor = colorMap.colors[colorMap.colors.length - 1].charAt(0) === '#' ?\r\n            colorMap.colors[colorMap.colors.length - 1] : colorNameToHex(colorMap.colors[colorMap.colors.length - 1]);\r\n        var a = full / (colorMap.colors.length - 1);\r\n        var b = void 0;\r\n        var c = void 0;\r\n        var length_2 = colorMap.colors.length - 1;\r\n        var splitColorValueOffset = [];\r\n        var splitColor = {};\r\n        for (var j = 1; j < length_2; j++) {\r\n            c = j * a;\r\n            b = previousOffset + c;\r\n            splitColor = { b: b, color: colorMap.colors[j] };\r\n            splitColorValueOffset.push(splitColor);\r\n        }\r\n        for (var i = 0; i < splitColorValueOffset.length; i++) {\r\n            if (previousOffset <= value && value <= splitColorValueOffset[i]['b'] && i === 0) {\r\n                midColor = splitColorValueOffset[i]['color'].charAt(0) === '#' ?\r\n                    splitColorValueOffset[i]['color'] : colorNameToHex(splitColorValueOffset[i]['color']);\r\n                nextColor = midColor;\r\n                percent = value <= splitColorValueOffset[i]['b'] ? 1 - Math.abs((value - splitColorValueOffset[i]['b']) / a)\r\n                    : (value - splitColorValueOffset[i]['b']) / a;\r\n            }\r\n            else if (splitColorValueOffset[i]['b'] <= value && value <= nextOffset && i === (splitColorValueOffset.length - 1)) {\r\n                midColor = splitColorValueOffset[i]['color'].charAt(0) === '#' ?\r\n                    splitColorValueOffset[i]['color'] : colorNameToHex(splitColorValueOffset[i]['color']);\r\n                previousColor = midColor;\r\n                percent = value < splitColorValueOffset[i]['b'] ?\r\n                    1 - Math.abs((value - splitColorValueOffset[i]['b']) / a) : (value - splitColorValueOffset[i]['b']) / a;\r\n            }\r\n            if (i !== splitColorValueOffset.length - 1 && i < splitColorValueOffset.length) {\r\n                if (splitColorValueOffset[i]['b'] <= value && value <= splitColorValueOffset[i + 1]['b']) {\r\n                    midColor = splitColorValueOffset[i]['color'].charAt(0) === '#' ?\r\n                        splitColorValueOffset[i]['color'] : colorNameToHex(splitColorValueOffset[i]['color']);\r\n                    previousColor = midColor;\r\n                    nextColor = splitColorValueOffset[i + 1]['color'].charAt(0) === '#' ?\r\n                        splitColorValueOffset[i + 1]['color'] : colorNameToHex(splitColorValueOffset[i + 1]['color']);\r\n                    percent = Math.abs((value - splitColorValueOffset[i + 1]['b'])) / a;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return getPercentageColor(percent, previousColor, nextColor);\r\n}\r\n/** @private */\r\nexport function getPercentageColor(percent, previous, next) {\r\n    var nextColor = next.split('#')[1];\r\n    var prevColor = previous.split('#')[1];\r\n    var r = getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\r\n    var g = getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\r\n    var b = getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\r\n    return new ColorValue(r, g, b);\r\n}\r\n/** @private */\r\nexport function getPercentage(percent, previous, next) {\r\n    var full = next - previous;\r\n    return Math.round((previous + (full * percent)));\r\n}\r\n/** @private */\r\nexport function getTextAnchor(alignment, enableRTL) {\r\n    switch (alignment) {\r\n        case 'Near':\r\n            return enableRTL ? 'end' : 'start';\r\n        case 'Far':\r\n            return enableRTL ? 'start' : 'end';\r\n        default:\r\n            return 'middle';\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}