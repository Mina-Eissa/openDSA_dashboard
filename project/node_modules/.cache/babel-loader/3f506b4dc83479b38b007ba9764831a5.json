{"ast":null,"code":"/* eslint-disable no-loss-of-precision */\nimport { isInteger } from '../../utils/number.js';\nimport { product } from '../../utils/product.js';\nexport function gammaNumber(n) {\n  var x;\n\n  if (isInteger(n)) {\n    if (n <= 0) {\n      return isFinite(n) ? Infinity : NaN;\n    }\n\n    if (n > 171) {\n      return Infinity; // Will overflow\n    }\n\n    return product(1, n - 1);\n  }\n\n  if (n < 0.5) {\n    return Math.PI / (Math.sin(Math.PI * n) * gammaNumber(1 - n));\n  }\n\n  if (n >= 171.35) {\n    return Infinity; // will overflow\n  }\n\n  if (n > 85.0) {\n    // Extended Stirling Approx\n    var twoN = n * n;\n    var threeN = twoN * n;\n    var fourN = threeN * n;\n    var fiveN = fourN * n;\n    return Math.sqrt(2 * Math.PI / n) * Math.pow(n / Math.E, n) * (1 + 1 / (12 * n) + 1 / (288 * twoN) - 139 / (51840 * threeN) - 571 / (2488320 * fourN) + 163879 / (209018880 * fiveN) + 5246819 / (75246796800 * fiveN * n));\n  }\n\n  --n;\n  x = gammaP[0];\n\n  for (var i = 1; i < gammaP.length; ++i) {\n    x += gammaP[i] / (n + i);\n  }\n\n  var t = n + gammaG + 0.5;\n  return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\n}\ngammaNumber.signature = 'number'; // TODO: comment on the variables g and p\n\nexport var gammaG = 4.7421875;\nexport var gammaP = [0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4, -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.21743961811521264320e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.26190838401581408670e-4, 0.36899182659531622704e-5]; // lgamma implementation ref: https://mrob.com/pub/ries/lanczos-gamma.html#code\n// log(2 * pi) / 2\n\nexport var lnSqrt2PI = 0.91893853320467274178;\nexport var lgammaG = 5; // Lanczos parameter \"g\"\n\nexport var lgammaN = 7; // Range of coefficients \"n\"\n\nexport var lgammaSeries = [1.000000000190015, 76.18009172947146, -86.50532032941677, 24.01409824083091, -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5];\nexport function lgammaNumber(n) {\n  if (n < 0) return NaN;\n  if (n === 0) return Infinity;\n  if (!isFinite(n)) return n;\n\n  if (n < 0.5) {\n    // Use Euler's reflection formula:\n    // gamma(z) = PI / (sin(PI * z) * gamma(1 - z))\n    return Math.log(Math.PI / Math.sin(Math.PI * n)) - lgammaNumber(1 - n);\n  } // Compute the logarithm of the Gamma function using the Lanczos method\n\n\n  n = n - 1;\n  var base = n + lgammaG + 0.5; // Base of the Lanczos exponential\n\n  var sum = lgammaSeries[0]; // We start with the terms that have the smallest coefficients and largest denominator\n\n  for (var i = lgammaN - 1; i >= 1; i--) {\n    sum += lgammaSeries[i] / (n + i);\n  }\n\n  return lnSqrt2PI + (n + 0.5) * Math.log(base) - base + Math.log(sum);\n}\nlgammaNumber.signature = 'number';","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/mathjs/lib/esm/plain/number/probability.js"],"names":["isInteger","product","gammaNumber","n","x","isFinite","Infinity","NaN","Math","PI","sin","twoN","threeN","fourN","fiveN","sqrt","pow","E","gammaP","i","length","t","gammaG","exp","signature","lnSqrt2PI","lgammaG","lgammaN","lgammaSeries","lgammaNumber","log","base","sum"],"mappings":"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","sourcesContent":["/* eslint-disable no-loss-of-precision */\r\n\r\nimport { isInteger } from '../../utils/number.js';\r\nimport { product } from '../../utils/product.js';\r\nexport function gammaNumber(n) {\r\n  var x;\r\n  if (isInteger(n)) {\r\n    if (n <= 0) {\r\n      return isFinite(n) ? Infinity : NaN;\r\n    }\r\n    if (n > 171) {\r\n      return Infinity; // Will overflow\r\n    }\r\n\r\n    return product(1, n - 1);\r\n  }\r\n  if (n < 0.5) {\r\n    return Math.PI / (Math.sin(Math.PI * n) * gammaNumber(1 - n));\r\n  }\r\n  if (n >= 171.35) {\r\n    return Infinity; // will overflow\r\n  }\r\n\r\n  if (n > 85.0) {\r\n    // Extended Stirling Approx\r\n    var twoN = n * n;\r\n    var threeN = twoN * n;\r\n    var fourN = threeN * n;\r\n    var fiveN = fourN * n;\r\n    return Math.sqrt(2 * Math.PI / n) * Math.pow(n / Math.E, n) * (1 + 1 / (12 * n) + 1 / (288 * twoN) - 139 / (51840 * threeN) - 571 / (2488320 * fourN) + 163879 / (209018880 * fiveN) + 5246819 / (75246796800 * fiveN * n));\r\n  }\r\n  --n;\r\n  x = gammaP[0];\r\n  for (var i = 1; i < gammaP.length; ++i) {\r\n    x += gammaP[i] / (n + i);\r\n  }\r\n  var t = n + gammaG + 0.5;\r\n  return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\r\n}\r\ngammaNumber.signature = 'number';\r\n\r\n// TODO: comment on the variables g and p\r\n\r\nexport var gammaG = 4.7421875;\r\nexport var gammaP = [0.99999999999999709182, 57.156235665862923517, -59.597960355475491248, 14.136097974741747174, -0.49191381609762019978, 0.33994649984811888699e-4, 0.46523628927048575665e-4, -0.98374475304879564677e-4, 0.15808870322491248884e-3, -0.21026444172410488319e-3, 0.21743961811521264320e-3, -0.16431810653676389022e-3, 0.84418223983852743293e-4, -0.26190838401581408670e-4, 0.36899182659531622704e-5];\r\n\r\n// lgamma implementation ref: https://mrob.com/pub/ries/lanczos-gamma.html#code\r\n\r\n// log(2 * pi) / 2\r\nexport var lnSqrt2PI = 0.91893853320467274178;\r\nexport var lgammaG = 5; // Lanczos parameter \"g\"\r\nexport var lgammaN = 7; // Range of coefficients \"n\"\r\n\r\nexport var lgammaSeries = [1.000000000190015, 76.18009172947146, -86.50532032941677, 24.01409824083091, -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5];\r\nexport function lgammaNumber(n) {\r\n  if (n < 0) return NaN;\r\n  if (n === 0) return Infinity;\r\n  if (!isFinite(n)) return n;\r\n  if (n < 0.5) {\r\n    // Use Euler's reflection formula:\r\n    // gamma(z) = PI / (sin(PI * z) * gamma(1 - z))\r\n    return Math.log(Math.PI / Math.sin(Math.PI * n)) - lgammaNumber(1 - n);\r\n  }\r\n\r\n  // Compute the logarithm of the Gamma function using the Lanczos method\r\n\r\n  n = n - 1;\r\n  var base = n + lgammaG + 0.5; // Base of the Lanczos exponential\r\n  var sum = lgammaSeries[0];\r\n\r\n  // We start with the terms that have the smallest coefficients and largest denominator\r\n  for (var i = lgammaN - 1; i >= 1; i--) {\r\n    sum += lgammaSeries[i] / (n + i);\r\n  }\r\n  return lnSqrt2PI + (n + 0.5) * Math.log(base) - base + Math.log(sum);\r\n}\r\nlgammaNumber.signature = 'number';"]},"metadata":{},"sourceType":"module"}