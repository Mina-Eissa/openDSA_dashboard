{"ast":null,"code":"import { deepMap } from '../../utils/collection.js';\nimport { factory } from '../../utils/factory.js';\nvar name = 'isPrime';\nvar dependencies = ['typed'];\nexport var createIsPrime = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed\n  } = _ref;\n  /**\r\n   * Test whether a value is prime: has no divisors other than itself and one.\r\n   * The function supports type `number`, `bignumber`.\r\n   *\r\n   * The function is evaluated element-wise in case of Array or Matrix input.\r\n   *\r\n   * Syntax:\r\n   *\r\n   *     math.isPrime(x)\r\n   *\r\n   * Examples:\r\n   *\r\n   *    math.isPrime(3)                     // returns true\r\n   *    math.isPrime(-2)                    // returns false\r\n   *    math.isPrime(0)                     // returns false\r\n   *    math.isPrime(-0)                    // returns false\r\n   *    math.isPrime(0.5)                   // returns false\r\n   *    math.isPrime('2')                   // returns true\r\n   *    math.isPrime([2, 17, 100])           // returns [true, true, false]\r\n   *\r\n   * See also:\r\n   *\r\n   *    isNumeric, isZero, isNegative, isInteger\r\n   *\r\n   * @param {number | BigNumber | Array | Matrix} x  Value to be tested\r\n   * @return {boolean}  Returns true when `x` is larger than zero.\r\n   *                    Throws an error in case of an unknown data type.\r\n   */\n\n  return typed(name, {\n    number: function number(x) {\n      if (x * 0 !== 0) {\n        return false;\n      }\n\n      if (x <= 3) {\n        return x > 1;\n      }\n\n      if (x % 2 === 0 || x % 3 === 0) {\n        return false;\n      }\n\n      for (var i = 5; i * i <= x; i += 6) {\n        if (x % i === 0 || x % (i + 2) === 0) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    BigNumber: function BigNumber(n) {\n      if (n.toNumber() * 0 !== 0) {\n        return false;\n      }\n\n      if (n.lte(3)) return n.gt(1);\n      if (n.mod(2).eq(0) || n.mod(3).eq(0)) return false;\n\n      if (n.lt(Math.pow(2, 32))) {\n        var x = n.toNumber();\n\n        for (var i = 5; i * i <= x; i += 6) {\n          if (x % i === 0 || x % (i + 2) === 0) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      function modPow(base, exponent, modulus) {\n        // exponent can be huge, use non-recursive variant\n        var accumulator = 1;\n\n        while (!exponent.eq(0)) {\n          if (exponent.mod(2).eq(0)) {\n            exponent = exponent.div(2);\n            base = base.mul(base).mod(modulus);\n          } else {\n            exponent = exponent.sub(1);\n            accumulator = base.mul(accumulator).mod(modulus);\n          }\n        }\n\n        return accumulator;\n      } // https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test#Deterministic_variants\n\n\n      var Decimal = n.constructor.clone({\n        precision: n.toFixed(0).length * 2\n      });\n      n = new Decimal(n);\n      var r = 0;\n      var d = n.sub(1);\n\n      while (d.mod(2).eq(0)) {\n        d = d.div(2);\n        r += 1;\n      }\n\n      var bases = null; // https://en.wikipedia.org/wiki/Miller–Rabin_primality_test#Testing_against_small_sets_of_bases\n\n      if (n.lt('3317044064679887385961981')) {\n        bases = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41].filter(x => x < n);\n      } else {\n        var max = Math.min(n.toNumber() - 2, Math.floor(2 * Math.pow(n.toFixed(0).length * Math.log(10), 2)));\n        bases = [];\n\n        for (var _i = 2; _i <= max; _i += 1) {\n          bases.push(max);\n        }\n      }\n\n      for (var _i2 = 0; _i2 < bases.length; _i2 += 1) {\n        var a = bases[_i2];\n        var adn = modPow(n.sub(n).add(a), d, n);\n\n        if (!adn.eq(1)) {\n          for (var _i3 = 0, _x = adn; !_x.eq(n.sub(1)); _i3 += 1, _x = _x.mul(_x).mod(n)) {\n            if (_i3 === r - 1) {\n              return false;\n            }\n          }\n        }\n      }\n\n      return true;\n    },\n    'Array | Matrix': typed.referToSelf(self => x => deepMap(x, self))\n  });\n});","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/mathjs/lib/esm/function/utils/isPrime.js"],"names":["deepMap","factory","name","dependencies","createIsPrime","_ref","typed","number","x","i","BigNumber","n","toNumber","lte","gt","mod","eq","lt","Math","pow","modPow","base","exponent","modulus","accumulator","div","mul","sub","Decimal","constructor","clone","precision","toFixed","length","r","d","bases","filter","max","min","floor","log","_i","push","_i2","a","adn","add","_i3","_x","referToSelf","self"],"mappings":"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","sourcesContent":["import { deepMap } from '../../utils/collection.js';\r\nimport { factory } from '../../utils/factory.js';\r\nvar name = 'isPrime';\r\nvar dependencies = ['typed'];\r\nexport var createIsPrime = /* #__PURE__ */factory(name, dependencies, _ref => {\r\n  var {\r\n    typed\r\n  } = _ref;\r\n  /**\r\n   * Test whether a value is prime: has no divisors other than itself and one.\r\n   * The function supports type `number`, `bignumber`.\r\n   *\r\n   * The function is evaluated element-wise in case of Array or Matrix input.\r\n   *\r\n   * Syntax:\r\n   *\r\n   *     math.isPrime(x)\r\n   *\r\n   * Examples:\r\n   *\r\n   *    math.isPrime(3)                     // returns true\r\n   *    math.isPrime(-2)                    // returns false\r\n   *    math.isPrime(0)                     // returns false\r\n   *    math.isPrime(-0)                    // returns false\r\n   *    math.isPrime(0.5)                   // returns false\r\n   *    math.isPrime('2')                   // returns true\r\n   *    math.isPrime([2, 17, 100])           // returns [true, true, false]\r\n   *\r\n   * See also:\r\n   *\r\n   *    isNumeric, isZero, isNegative, isInteger\r\n   *\r\n   * @param {number | BigNumber | Array | Matrix} x  Value to be tested\r\n   * @return {boolean}  Returns true when `x` is larger than zero.\r\n   *                    Throws an error in case of an unknown data type.\r\n   */\r\n  return typed(name, {\r\n    number: function number(x) {\r\n      if (x * 0 !== 0) {\r\n        return false;\r\n      }\r\n      if (x <= 3) {\r\n        return x > 1;\r\n      }\r\n      if (x % 2 === 0 || x % 3 === 0) {\r\n        return false;\r\n      }\r\n      for (var i = 5; i * i <= x; i += 6) {\r\n        if (x % i === 0 || x % (i + 2) === 0) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    BigNumber: function BigNumber(n) {\r\n      if (n.toNumber() * 0 !== 0) {\r\n        return false;\r\n      }\r\n      if (n.lte(3)) return n.gt(1);\r\n      if (n.mod(2).eq(0) || n.mod(3).eq(0)) return false;\r\n      if (n.lt(Math.pow(2, 32))) {\r\n        var x = n.toNumber();\r\n        for (var i = 5; i * i <= x; i += 6) {\r\n          if (x % i === 0 || x % (i + 2) === 0) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n      function modPow(base, exponent, modulus) {\r\n        // exponent can be huge, use non-recursive variant\r\n        var accumulator = 1;\r\n        while (!exponent.eq(0)) {\r\n          if (exponent.mod(2).eq(0)) {\r\n            exponent = exponent.div(2);\r\n            base = base.mul(base).mod(modulus);\r\n          } else {\r\n            exponent = exponent.sub(1);\r\n            accumulator = base.mul(accumulator).mod(modulus);\r\n          }\r\n        }\r\n        return accumulator;\r\n      }\r\n\r\n      // https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test#Deterministic_variants\r\n      var Decimal = n.constructor.clone({\r\n        precision: n.toFixed(0).length * 2\r\n      });\r\n      n = new Decimal(n);\r\n      var r = 0;\r\n      var d = n.sub(1);\r\n      while (d.mod(2).eq(0)) {\r\n        d = d.div(2);\r\n        r += 1;\r\n      }\r\n      var bases = null;\r\n      // https://en.wikipedia.org/wiki/Miller–Rabin_primality_test#Testing_against_small_sets_of_bases\r\n      if (n.lt('3317044064679887385961981')) {\r\n        bases = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41].filter(x => x < n);\r\n      } else {\r\n        var max = Math.min(n.toNumber() - 2, Math.floor(2 * Math.pow(n.toFixed(0).length * Math.log(10), 2)));\r\n        bases = [];\r\n        for (var _i = 2; _i <= max; _i += 1) {\r\n          bases.push(max);\r\n        }\r\n      }\r\n      for (var _i2 = 0; _i2 < bases.length; _i2 += 1) {\r\n        var a = bases[_i2];\r\n        var adn = modPow(n.sub(n).add(a), d, n);\r\n        if (!adn.eq(1)) {\r\n          for (var _i3 = 0, _x = adn; !_x.eq(n.sub(1)); _i3 += 1, _x = _x.mul(_x).mod(n)) {\r\n            if (_i3 === r - 1) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    'Array | Matrix': typed.referToSelf(self => x => deepMap(x, self))\r\n  });\r\n});"]},"metadata":{},"sourceType":"module"}