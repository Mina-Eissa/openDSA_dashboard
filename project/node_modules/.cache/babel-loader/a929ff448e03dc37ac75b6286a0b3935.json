{"ast":null,"code":"/**\r\n * PdfBlend.ts class for EJ2-PDF\r\n */\nimport { PdfColorSpace } from './../enum';\nimport { PdfColor } from './../pdf-color';\nimport { PdfColorBlend } from './pdf-color-blend';\n/**\r\n * `PdfBlend` Represents the blend color space\r\n * @private\r\n */\n\nvar PdfBlend =\n/** @class */\nfunction () {\n  function PdfBlend(count) {\n    //Constants\n\n    /**\r\n     * precision of the GCD calculations.\r\n     * @private\r\n     */\n    this.precision = 1000; //\n  }\n\n  Object.defineProperty(PdfBlend.prototype, \"factors\", {\n    //Properties\n\n    /**\r\n     * Gets or sets the array of factor to the blend.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mFactors;\n    },\n    set: function (value) {\n      if (value == null) {\n        throw new Error('ArgumentNullException : Factors');\n      }\n\n      this.mFactors = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfBlend.prototype, \"positions\", {\n    /**\r\n     * 'positions' Gets or sets the array of positions\r\n     * @public\r\n     */\n    get: function () {\n      return this.mPositions;\n    },\n    set: function (value) {\n      var positionarray = value;\n\n      for (var i = 0; i < positionarray.length; i++) {\n        if (positionarray[i] < 0 || positionarray[i] > 1) {\n          positionarray[i] = 0;\n        }\n      }\n\n      this.mPositions = positionarray;\n      this.mPositions = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfBlend.prototype, \"count\", {\n    /**\r\n     * Gets the number of elements that specify the blend.\r\n     * @protected\r\n     */\n    get: function () {\n      return this.mCount;\n    },\n    enumerable: true,\n    configurable: true\n  }); //Implementation\n\n  /**\r\n   * Generates a correct color blend.\r\n   * @param colours The colours.\r\n   * @param colorSpace The color space.\r\n   */\n\n  PdfBlend.prototype.generateColorBlend = function (colours, colorSpace) {\n    if (colours == null) {\n      throw new Error('ArgumentNullException : colours');\n    }\n\n    if (this.positions == null) {\n      this.positions = [0];\n    }\n\n    var cBlend = new PdfColorBlend(this.count);\n    var positions = this.positions;\n    var clrs = null;\n\n    if (positions.length === 1) {\n      positions = [3];\n      positions[0] = 0;\n      positions[1] = this.positions[0];\n      positions[2] = 1;\n      /* tslint:disable */\n\n      clrs = new Array(3);\n      clrs[0] = colours[0];\n      clrs[1] = colours[0];\n      clrs[2] = colours[1];\n    } else {\n      var c1 = colours[0];\n      var c2 = colours[1];\n      /* tslint:disable */\n\n      clrs = new Array(this.count);\n      var i = 0;\n      var count = this.count;\n\n      for (i = 0; i < count; ++i) {\n        clrs[i] = this.interpolate(this.mFactors[i], c1, c2, colorSpace);\n      }\n    }\n\n    cBlend.positions = positions;\n    cBlend.colors = clrs;\n    return cBlend;\n  };\n  /**\r\n   * 'clonePdfBlend' Clones this instance.\r\n   * @public\r\n   */\n\n\n  PdfBlend.prototype.clonePdfBlend = function () {\n    var blend = this;\n\n    if (this.mFactors != null) {\n      blend.factors = this.mFactors;\n    }\n\n    if (this.positions != null) {\n      blend.positions = this.positions;\n    }\n\n    return blend;\n  };\n\n  PdfBlend.prototype.gcd = function (u, v) {\n    if (typeof u === 'number' && typeof v === 'number' && typeof v !== 'undefined') {\n      if (u < 0 || u > 1) {\n        throw new Error('ArgumentOutOfRangeException : u');\n      }\n\n      if (v < 0 || v > 1) {\n        throw new Error('ArgumentOutOfRangeException : v');\n      }\n\n      var iU = Math.max(1, u * this.precision);\n      var iV = Math.max(1, v * this.precision);\n      var iResult = this.gcdInt(iU, iV);\n      var result = iResult / this.precision;\n      return result;\n    } else {\n      var values = u;\n\n      if (values == null) {\n        throw new Error('ArgumentNullException : values');\n      }\n\n      if (values.length < 1) {\n        throw new Error('ArgumentException : Not enough values in the array. - values');\n      }\n\n      var gcd = values[0];\n\n      if (values.length > 1) {\n        var count = values.length;\n\n        for (var i = 1; i < count; ++i) {\n          gcd = this.gcd(values[i], gcd);\n\n          if (gcd === 1 / this.precision) {\n            break;\n          }\n        }\n      }\n\n      return gcd;\n    }\n  };\n  /**\r\n   * Calculate the GCD int of the specified values.\r\n   * @param u The u.\r\n   * @param v The v.\r\n   */\n\n\n  PdfBlend.prototype.gcdInt = function (u, v) {\n    if (u <= 0) {\n      throw new Error('ArgumentOutOfRangeException' + u + 'The arguments cannot be less or equal to zero.');\n    }\n\n    if (v <= 0) {\n      throw new Error('ArgumentOutOfRangeException' + v + 'The arguments cannot be less or equal to zero.');\n    }\n\n    if (u === 1 || v === 1) {\n      return 1;\n    }\n\n    var shift = 0;\n\n    while (this.isEven(u, v)) {\n      ++shift;\n      u >>= 1;\n      v >>= 1;\n    }\n\n    while ((u & 1) <= 0) {\n      u >>= 1;\n    }\n\n    do {\n      while ((v & 1) <= 0) {\n        v >>= 1;\n      }\n\n      if (u > v) {\n        var t = v;\n        v = u;\n        u = t;\n      }\n\n      v = v - u;\n    } while (v !== 0);\n\n    return u << shift;\n  };\n\n  PdfBlend.prototype.isEven = function (arg1, arg2) {\n    if (typeof arg2 === 'number' && typeof arg2 !== 'undefined') {\n      var result = true;\n      result = result && (arg1 & 1) <= 0; //  Is u even?\n\n      result = result && (arg2 & 1) <= 0; //  Is v even?\n\n      return result;\n    } else {\n      return (arg1 & 1) <= 0;\n    }\n  };\n\n  PdfBlend.prototype.interpolate = function (t, color1, color2, colorSpace) {\n    if (color1 instanceof PdfColor) {\n      var color = new PdfColor();\n\n      switch (colorSpace) {\n        case PdfColorSpace.Rgb:\n          var red = this.interpolate(t, color1.red, color2.red);\n          var green = this.interpolate(t, color1.green, color2.green);\n          var blue = this.interpolate(t, color1.blue, color2.blue);\n          color = new PdfColor(red, green, blue);\n          break;\n\n        case PdfColorSpace.GrayScale:\n          var gray = this.interpolate(t, color1.gray, color2.gray);\n          color = new PdfColor(gray);\n          break;\n\n        case PdfColorSpace.Cmyk:\n          var cyan = this.interpolate(t, color1.c, color2.c);\n          var magenta = this.interpolate(t, color1.m, color2.m);\n          var yellow = this.interpolate(t, color1.y, color2.y);\n          var black = this.interpolate(t, color1.k, color2.k);\n          color = new PdfColor(cyan, magenta, yellow, black);\n          break;\n      }\n\n      return color;\n    } else {\n      var t0 = 0;\n      var t1 = 1;\n      var result = 0;\n\n      if (t === t0) {\n        result = color1;\n      } else if (t === t1) {\n        result = color2;\n      } else {\n        result = color1 + (t - t0) * ((color2 - color1) / (t1 - t0));\n      }\n\n      return result;\n    }\n  };\n\n  return PdfBlend;\n}();\n\nexport { PdfBlend };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/brushes/pdf-blend.js"],"names":["PdfColorSpace","PdfColor","PdfColorBlend","PdfBlend","count","precision","Object","defineProperty","prototype","get","mFactors","set","value","Error","enumerable","configurable","mPositions","positionarray","i","length","mCount","generateColorBlend","colours","colorSpace","positions","cBlend","clrs","Array","c1","c2","interpolate","colors","clonePdfBlend","blend","factors","gcd","u","v","iU","Math","max","iV","iResult","gcdInt","result","values","shift","isEven","t","arg1","arg2","color1","color2","color","Rgb","red","green","blue","GrayScale","gray","Cmyk","cyan","c","magenta","m","yellow","y","black","k","t0","t1"],"mappings":"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","sourcesContent":["/**\r\n * PdfBlend.ts class for EJ2-PDF\r\n */\r\nimport { PdfColorSpace } from './../enum';\r\nimport { PdfColor } from './../pdf-color';\r\nimport { PdfColorBlend } from './pdf-color-blend';\r\n/**\r\n * `PdfBlend` Represents the blend color space\r\n * @private\r\n */\r\nvar PdfBlend = /** @class */ (function () {\r\n    function PdfBlend(count) {\r\n        //Constants\r\n        /**\r\n         * precision of the GCD calculations.\r\n         * @private\r\n         */\r\n        this.precision = 1000;\r\n        //\r\n    }\r\n    Object.defineProperty(PdfBlend.prototype, \"factors\", {\r\n        //Properties\r\n        /**\r\n         * Gets or sets the array of factor to the blend.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mFactors;\r\n        },\r\n        set: function (value) {\r\n            if ((value == null)) {\r\n                throw new Error('ArgumentNullException : Factors');\r\n            }\r\n            this.mFactors = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfBlend.prototype, \"positions\", {\r\n        /**\r\n         * 'positions' Gets or sets the array of positions\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mPositions;\r\n        },\r\n        set: function (value) {\r\n            var positionarray = value;\r\n            for (var i = 0; i < positionarray.length; i++) {\r\n                if (((positionarray[i] < 0) || (positionarray[i] > 1))) {\r\n                    positionarray[i] = 0;\r\n                }\r\n            }\r\n            this.mPositions = positionarray;\r\n            this.mPositions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfBlend.prototype, \"count\", {\r\n        /**\r\n         * Gets the number of elements that specify the blend.\r\n         * @protected\r\n         */\r\n        get: function () {\r\n            return this.mCount;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //Implementation\r\n    /**\r\n     * Generates a correct color blend.\r\n     * @param colours The colours.\r\n     * @param colorSpace The color space.\r\n     */\r\n    PdfBlend.prototype.generateColorBlend = function (colours, colorSpace) {\r\n        if ((colours == null)) {\r\n            throw new Error('ArgumentNullException : colours');\r\n        }\r\n        if ((this.positions == null)) {\r\n            this.positions = [0];\r\n        }\r\n        var cBlend = new PdfColorBlend(this.count);\r\n        var positions = this.positions;\r\n        var clrs = null;\r\n        if ((positions.length === 1)) {\r\n            positions = [3];\r\n            positions[0] = 0;\r\n            positions[1] = this.positions[0];\r\n            positions[2] = 1;\r\n            /* tslint:disable */\r\n            clrs = new Array(3);\r\n            clrs[0] = colours[0];\r\n            clrs[1] = colours[0];\r\n            clrs[2] = colours[1];\r\n        }\r\n        else {\r\n            var c1 = colours[0];\r\n            var c2 = colours[1];\r\n            /* tslint:disable */\r\n            clrs = new Array(this.count);\r\n            var i = 0;\r\n            var count = this.count;\r\n            for (i = 0; i < count; ++i) {\r\n                clrs[i] = this.interpolate(this.mFactors[i], c1, c2, colorSpace);\r\n            }\r\n        }\r\n        cBlend.positions = positions;\r\n        cBlend.colors = clrs;\r\n        return cBlend;\r\n    };\r\n    /**\r\n     * 'clonePdfBlend' Clones this instance.\r\n     * @public\r\n     */\r\n    PdfBlend.prototype.clonePdfBlend = function () {\r\n        var blend = this;\r\n        if ((this.mFactors != null)) {\r\n            blend.factors = (this.mFactors);\r\n        }\r\n        if ((this.positions != null)) {\r\n            blend.positions = (this.positions);\r\n        }\r\n        return blend;\r\n    };\r\n    PdfBlend.prototype.gcd = function (u, v) {\r\n        if (typeof u === 'number' && typeof v === 'number' && typeof v !== 'undefined') {\r\n            if (((u < 0) || (u > 1))) {\r\n                throw new Error('ArgumentOutOfRangeException : u');\r\n            }\r\n            if (((v < 0) || (v > 1))) {\r\n                throw new Error('ArgumentOutOfRangeException : v');\r\n            }\r\n            var iU = (Math.max(1, (u * this.precision)));\r\n            var iV = (Math.max(1, (v * this.precision)));\r\n            var iResult = this.gcdInt(iU, iV);\r\n            var result = ((iResult) / this.precision);\r\n            return result;\r\n        }\r\n        else {\r\n            var values = u;\r\n            if ((values == null)) {\r\n                throw new Error('ArgumentNullException : values');\r\n            }\r\n            if ((values.length < 1)) {\r\n                throw new Error('ArgumentException : Not enough values in the array. - values');\r\n            }\r\n            var gcd = values[0];\r\n            if ((values.length > 1)) {\r\n                var count = values.length;\r\n                for (var i = 1; i < count; ++i) {\r\n                    gcd = this.gcd(values[i], gcd);\r\n                    if ((gcd === (1 / this.precision))) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return gcd;\r\n        }\r\n    };\r\n    /**\r\n     * Calculate the GCD int of the specified values.\r\n     * @param u The u.\r\n     * @param v The v.\r\n     */\r\n    PdfBlend.prototype.gcdInt = function (u, v) {\r\n        if ((u <= 0)) {\r\n            throw new Error('ArgumentOutOfRangeException' + u + 'The arguments cannot be less or equal to zero.');\r\n        }\r\n        if ((v <= 0)) {\r\n            throw new Error('ArgumentOutOfRangeException' + v + 'The arguments cannot be less or equal to zero.');\r\n        }\r\n        if (((u === 1) || (v === 1))) {\r\n            return 1;\r\n        }\r\n        var shift = 0;\r\n        while (this.isEven(u, v)) {\r\n            ++shift;\r\n            u >>= 1;\r\n            v >>= 1;\r\n        }\r\n        while (((u & 1) <= 0)) {\r\n            u >>= 1;\r\n        }\r\n        do {\r\n            while ((v & 1) <= 0) {\r\n                v >>= 1;\r\n            }\r\n            if (u > v) {\r\n                var t = v;\r\n                v = u;\r\n                u = t;\r\n            }\r\n            v = v - u;\r\n        } while (v !== 0);\r\n        return (u << shift);\r\n    };\r\n    PdfBlend.prototype.isEven = function (arg1, arg2) {\r\n        if (typeof arg2 === 'number' && typeof arg2 !== 'undefined') {\r\n            var result = true;\r\n            result = (result && ((arg1 & 1) <= 0)); //  Is u even?\r\n            result = (result && ((arg2 & 1) <= 0)); //  Is v even?\r\n            return result;\r\n        }\r\n        else {\r\n            return ((arg1 & 1) <= 0);\r\n        }\r\n    };\r\n    PdfBlend.prototype.interpolate = function (t, color1, color2, colorSpace) {\r\n        if (color1 instanceof PdfColor) {\r\n            var color = new PdfColor();\r\n            switch (colorSpace) {\r\n                case PdfColorSpace.Rgb:\r\n                    var red = (this.interpolate(t, color1.red, color2.red));\r\n                    var green = (this.interpolate(t, color1.green, color2.green));\r\n                    var blue = (this.interpolate(t, color1.blue, color2.blue));\r\n                    color = new PdfColor(red, green, blue);\r\n                    break;\r\n                case PdfColorSpace.GrayScale:\r\n                    var gray = (this.interpolate(t, color1.gray, color2.gray));\r\n                    color = new PdfColor(gray);\r\n                    break;\r\n                case PdfColorSpace.Cmyk:\r\n                    var cyan = (this.interpolate(t, color1.c, color2.c));\r\n                    var magenta = (this.interpolate(t, color1.m, color2.m));\r\n                    var yellow = (this.interpolate(t, color1.y, color2.y));\r\n                    var black = (this.interpolate(t, color1.k, color2.k));\r\n                    color = new PdfColor(cyan, magenta, yellow, black);\r\n                    break;\r\n            }\r\n            return color;\r\n        }\r\n        else {\r\n            var t0 = 0;\r\n            var t1 = 1;\r\n            var result = 0;\r\n            if ((t === t0)) {\r\n                result = color1;\r\n            }\r\n            else if ((t === t1)) {\r\n                result = color2;\r\n            }\r\n            else {\r\n                result = (color1 + ((t - t0) * ((color2 - color1) / (t1 - t0))));\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    return PdfBlend;\r\n}());\r\nexport { PdfBlend };\r\n"]},"metadata":{},"sourceType":"module"}