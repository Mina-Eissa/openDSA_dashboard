{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\r\n * PdfLinearGradientBrush.ts class for EJ2-PDF\r\n */\n\n\nimport { PdfColorSpace } from './../enum';\nimport { PdfColor } from './../pdf-color';\nimport { PointF, Rectangle } from './../../drawing/pdf-drawing';\nimport { PdfDictionary } from '../../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfBoolean } from '../../primitives/pdf-boolean';\nimport { PdfArray } from './../../primitives/pdf-array';\nimport { PdfNumber } from './../../primitives/pdf-number';\nimport { PdfColorBlend } from './pdf-color-blend';\nimport { PdfGradientBrush } from './pdf-gradient-brush';\nimport { PdfExtend, PdfLinearGradientMode, ShadingType } from './enum';\n/**\r\n * `PdfLinearGradientBrush` Implements linear gradient brush by using PDF axial shading pattern.\r\n * @private\r\n */\n\nvar PdfLinearGradientBrush =\n/** @class */\nfunction (_super) {\n  __extends(PdfLinearGradientBrush, _super);\n  /**\r\n   * Initializes a new instance of the `PdfLinearGradientBrush` class.\r\n   * @public\r\n   */\n\n  /* tslint:disable-next-line:max-line-length */\n\n\n  function PdfLinearGradientBrush(arg1, arg2, arg3, arg4) {\n    var _this = _super.call(this, new PdfDictionary()) || this;\n    /**\r\n     * Local variable to store the dictionary properties.\r\n     * @private\r\n     */\n\n\n    _this.mDictionaryProperties = new DictionaryProperties();\n\n    if (arg1 instanceof PointF && arg2 instanceof PointF && arg3 instanceof PdfColor && arg4 instanceof PdfColor) {\n      _this.initialize(arg3, arg4);\n\n      _this.mPointStart = arg1;\n      _this.mPointEnd = arg2;\n\n      _this.setPoints(_this.mPointStart, _this.mPointEnd);\n    } else if (arg1 instanceof Rectangle) {\n      _this.initialize(arg2, arg3);\n      /* tslint:disable-next-line:max-line-length */\n\n\n      if (arg4 === PdfLinearGradientMode.BackwardDiagonal || arg4 === PdfLinearGradientMode.ForwardDiagonal || arg4 === PdfLinearGradientMode.Horizontal || arg4 === PdfLinearGradientMode.Vertical) {\n        _this.mBoundaries = arg1;\n\n        switch (arg4) {\n          case PdfLinearGradientMode.BackwardDiagonal:\n            _this.mPointStart = new PointF(arg1.right, arg1.top);\n            _this.mPointEnd = new PointF(arg1.left, arg1.bottom);\n            break;\n\n          case PdfLinearGradientMode.ForwardDiagonal:\n            _this.mPointStart = new PointF(arg1.left, arg1.top);\n            _this.mPointEnd = new PointF(arg1.right, arg1.bottom);\n            break;\n\n          case PdfLinearGradientMode.Horizontal:\n            _this.mPointStart = new PointF(arg1.left, arg1.top);\n            _this.mPointEnd = new PointF(arg1.right, arg1.top);\n            break;\n\n          case PdfLinearGradientMode.Vertical:\n            _this.mPointStart = new PointF(arg1.left, arg1.top);\n            _this.mPointEnd = new PointF(arg1.left, arg1.bottom);\n            break;\n\n          default:\n            throw new Error('ArgumentException -- Unsupported linear gradient mode: ' + arg4 + ' mode');\n        }\n\n        _this.setPoints(_this.mPointStart, _this.mPointEnd);\n      } else if (typeof arg4 === 'number' && typeof arg4 !== 'undefined') {\n        _this.mBoundaries = arg1;\n        arg4 = arg4 % 360;\n\n        if (arg4 === 0) {\n          _this.mPointStart = new PointF(arg1.left, arg1.top);\n          _this.mPointEnd = new PointF(arg1.right, arg1.top);\n        } else if (arg4 === 90) {\n          _this.mPointStart = new PointF(arg1.left, arg1.top);\n          _this.mPointEnd = new PointF(arg1.left, arg1.bottom);\n        } else if (arg4 === 180) {\n          _this.mPointEnd = new PointF(arg1.left, arg1.top);\n          _this.mPointStart = new PointF(arg1.right, arg1.top);\n        } else if (arg4 === 270) {\n          _this.mPointEnd = new PointF(arg1.left, arg1.top);\n          _this.mPointStart = new PointF(arg1.left, arg1.bottom);\n        } else {\n          var d2r = Math.PI / 180;\n          var radAngle = arg4 * d2r;\n          var k = Math.tan(radAngle);\n          var x = _this.mBoundaries.left + (_this.mBoundaries.right - _this.mBoundaries.left) / 2;\n          var y = _this.mBoundaries.top + (_this.mBoundaries.bottom - _this.mBoundaries.top) / 2;\n          var centre = new PointF(x, y);\n          x = _this.mBoundaries.width / (2 * Math.cos(radAngle));\n          y = k * x;\n          x = x + centre.x;\n          y = y + centre.y;\n          var p1 = new PointF(x, y);\n\n          var cp1 = _this.subPoints(p1, centre); //  P1 - P0\n\n\n          var p = _this.choosePoint(arg4);\n\n          var coef = _this.mulPoints(_this.subPoints(p, centre), cp1) / _this.mulPoints(cp1, cp1);\n\n          _this.mPointEnd = _this.addPoints(centre, _this.mulPoint(cp1, coef)); //  Parametric line equation.\n\n          _this.mPointStart = _this.addPoints(centre, _this.mulPoint(cp1, coef * -1));\n        }\n\n        _this.setPoints(_this.mPointEnd, _this.mPointStart);\n      }\n    }\n\n    return _this;\n  }\n  /**\r\n   * Initializes a new instance of the `PdfLinearGradientBrush` class.\r\n   * @param color1 The starting color of the gradient.\r\n   * @param color2 The end color of the gradient.\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.initialize = function (color1, color2) {\n    this.mColours = [color1, color2];\n    this.mColourBlend = new PdfColorBlend(2);\n    this.mColourBlend.positions = [0, 1];\n    this.mColourBlend.colors = this.mColours;\n    this.initShading();\n  };\n\n  Object.defineProperty(PdfLinearGradientBrush.prototype, \"blend\", {\n    //Properties\n\n    /**\r\n     * Gets or sets a PdfBlend that specifies positions\r\n     * and factors that define a custom falloff for the gradient.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mBlend;\n    },\n    set: function (value) {\n      if (value == null) {\n        throw new Error('ArgumentNullException : Blend');\n      }\n\n      if (this.mColours == null) {\n        throw new Error('NotSupportedException : There is no starting and ending colours specified.');\n      }\n\n      this.mBlend = value; //  TODO: generate correct colour blend.\n\n      this.mColourBlend = this.mBlend.generateColorBlend(this.mColours, this.colorSpace);\n      this.resetFunction();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfLinearGradientBrush.prototype, \"interpolationColors\", {\n    /**\r\n     * Gets or sets a ColorBlend that defines a multicolor linear gradient.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mColourBlend;\n    },\n    set: function (value) {\n      if (value == null) {\n        throw new Error('ArgumentNullException : InterpolationColors');\n      }\n\n      this.mBlend = null;\n      this.mColours = null;\n      this.mColourBlend = value;\n      this.resetFunction();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfLinearGradientBrush.prototype, \"linearColors\", {\n    /**\r\n     * Gets or sets the starting and ending colors of the gradient.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mColours;\n    },\n    set: function (value) {\n      if (value == null) {\n        throw new Error('ArgumentNullException : LinearColors');\n      }\n\n      if (value.length < 2) {\n        throw new Error('ArgumentException : The array is too small - LinearColors');\n      }\n\n      if (this.mColours == null && typeof this.mColours === 'undefined') {\n        this.mColours = [value[0], value[1]];\n      } else {\n        this.mColours[0] = value[0];\n        this.mColours[1] = value[1];\n      }\n\n      if (this.mBlend == null && typeof this.mBlend === 'undefined') {\n        //  Set correct colour blend.\n        this.mColourBlend = new PdfColorBlend(2);\n        this.mColourBlend.colors = this.mColours;\n        this.mColourBlend.positions = [0, 1];\n      } else {\n        this.mColourBlend = this.mBlend.generateColorBlend(this.mColours, this.colorSpace);\n      }\n\n      this.resetFunction();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfLinearGradientBrush.prototype, \"rectangle\", {\n    /**\r\n     * Gets a rectangular region that defines the boundaries of the gradient.\r\n     * @public\r\n     */\n    get: function () {\n      return this.mBoundaries;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfLinearGradientBrush.prototype, \"extend\", {\n    /**\r\n     * Gets or sets the value indicating whether the gradient should extend starting and ending points.\r\n     * @public\r\n     */\n    get: function () {\n      var result = PdfExtend.None;\n      var extend = this.shading.items.getValue(this.mDictionaryProperties.extend);\n\n      if (extend != null) {\n        var extStart = extend.items(0);\n        var extEnd = extend.items(1);\n\n        if (extStart.value) {\n          result = result | PdfExtend.Start;\n        }\n\n        if (extEnd.value) {\n          result = result | PdfExtend.End;\n        }\n      }\n\n      return result;\n    },\n    set: function (value) {\n      var extend = this.shading.items.getValue(this.mDictionaryProperties.extend);\n      var extStart;\n      var extEnd;\n\n      if (extend == null) {\n        extStart = new PdfBoolean(false);\n        extEnd = new PdfBoolean(false);\n        extend = new PdfArray();\n        extend.add(extStart);\n        extend.add(extEnd);\n        this.shading.items.setValue(this.mDictionaryProperties.extend, extend);\n      } else {\n        extStart = extend.items(0);\n        extEnd = extend.items(1);\n      } // extStart.value = ((value && PdfExtend.Start) > 0);\n      // extEnd.value = ((value && PdfExtend.End) > 0);\n\n    },\n    enumerable: true,\n    configurable: true\n  }); //Implementation\n\n  /**\r\n   * Adds two points to each other.\r\n   * @param point1 The point1.\r\n   * @param point2 The point2.\r\n   */\n\n  PdfLinearGradientBrush.prototype.addPoints = function (point1, point2) {\n    var x = point1.x + point2.x;\n    var y = point1.y + point2.y;\n    var result = new PointF(x, y);\n    return result;\n  };\n  /**\r\n   * Subs the second point from the first one.\r\n   * @param point1 The point1.\r\n   * @param point2 The point2.\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.subPoints = function (point1, point2) {\n    var x = point1.x - point2.x;\n    var y = point1.y - point2.y;\n    var result = new PointF(x, y);\n    return result;\n  };\n  /**\r\n   * Makes scalar multiplication of two points.\r\n   * @param point1 The point1.\r\n   * @param point2 The point2.\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.mulPoints = function (point1, point2) {\n    var result = point1.x * point2.x + point1.y * point2.y;\n    return result;\n  };\n  /**\r\n   * Multiplies the point by the value specified.\r\n   * @param point The point1.\r\n   * @param value The value.\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.mulPoint = function (point, value) {\n    point.x = point.x * value;\n    point.y = point.y * value;\n    return point;\n  };\n  /**\r\n   * Choose the point according to the angle.\r\n   * @param angle The angle.\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.choosePoint = function (angle) {\n    var point = new PointF(0, 0); //  Choose the correct point.\n\n    if (angle < 90 && angle > 0) {\n      point = new PointF(this.mBoundaries.right, this.mBoundaries.bottom);\n    } else if (angle < 180 && angle > 90) {\n      point = new PointF(this.mBoundaries.left, this.mBoundaries.bottom);\n    } else if (angle < 270 && angle > 180) {\n      point = new PointF(this.mBoundaries.left, this.mBoundaries.top);\n    } else if (angle > 270) {\n      point = new PointF(this.mBoundaries.right, this.mBoundaries.top);\n    } else {\n      throw new Error('PdfException - Internal error.');\n    }\n\n    return point;\n  };\n  /**\r\n   * Sets the start and end points.\r\n   * @param point1 The point1.\r\n   * @param point2 The point2.\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.setPoints = function (point1, point2) {\n    var points = new PdfArray();\n    points.add(new PdfNumber(point1.x));\n    points.add(new PdfNumber(this.updateY(point1.y)));\n    points.add(new PdfNumber(point2.x));\n    points.add(new PdfNumber(this.updateY(point2.y)));\n    this.shading.items.setValue(this.mDictionaryProperties.coords, points);\n  };\n  /**\r\n   * Updates y co-ordinate.\r\n   * @param y Y co-ordinate..\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.updateY = function (y) {\n    if (y !== 0) {\n      return -y;\n    } else {\n      return y;\n    }\n  }; //Overrides\n\n  /**\r\n   * Initializes the shading dictionary.\r\n   * @private\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.initShading = function () {\n    this.colorSpace = PdfColorSpace.Rgb;\n    this.function = this.mColourBlend.getFunction(this.colorSpace);\n    this.shading.items.setValue(this.mDictionaryProperties.shadingType, new PdfNumber(ShadingType.Axial));\n  }; //Overrides\n\n  /**\r\n   * Creates a new copy of a brush.\r\n   * @public\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.clone = function () {\n    var brush = this;\n    brush.resetPatternDictionary(new PdfDictionary(this.patternDictionary));\n    brush.shading = new PdfDictionary();\n    brush.initShading();\n    brush.setPoints(brush.mPointStart, brush.mPointEnd);\n\n    if (brush !== null && brush instanceof PdfLinearGradientBrush) {\n      if (this.matrix != null && typeof this.matrix !== 'undefined') {\n        brush.matrix = this.matrix.clone();\n      }\n    }\n\n    if (this.mColours != null && typeof this.mColours !== 'undefined') {\n      brush.mColours = this.mColours;\n    }\n\n    if (this.blend != null && typeof this.blend !== 'undefined') {\n      brush.blend = this.blend.clonePdfBlend();\n    } else if (this.interpolationColors != null && typeof this.interpolationColors !== 'undefined') {\n      brush.interpolationColors = this.interpolationColors.cloneColorBlend();\n    }\n\n    brush.extend = this.extend;\n    this.cloneBackgroundValue(brush);\n    this.cloneAntiAliasingValue(brush);\n    return brush;\n  };\n  /**\r\n   * Resets the function.\r\n   * @public\r\n   */\n\n\n  PdfLinearGradientBrush.prototype.resetFunction = function () {\n    this.function = this.mColourBlend.getFunction(this.colorSpace);\n  };\n\n  return PdfLinearGradientBrush;\n}(PdfGradientBrush);\n\nexport { PdfLinearGradientBrush };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/brushes/pdf-linear-gradient-brush.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","PdfColorSpace","PdfColor","PointF","Rectangle","PdfDictionary","DictionaryProperties","PdfBoolean","PdfArray","PdfNumber","PdfColorBlend","PdfGradientBrush","PdfExtend","PdfLinearGradientMode","ShadingType","PdfLinearGradientBrush","_super","arg1","arg2","arg3","arg4","_this","call","mDictionaryProperties","initialize","mPointStart","mPointEnd","setPoints","BackwardDiagonal","ForwardDiagonal","Horizontal","Vertical","mBoundaries","right","top","left","bottom","Error","d2r","Math","PI","radAngle","k","tan","x","y","centre","width","cos","p1","cp1","subPoints","choosePoint","coef","mulPoints","addPoints","mulPoint","color1","color2","mColours","mColourBlend","positions","colors","initShading","defineProperty","get","mBlend","set","value","generateColorBlend","colorSpace","resetFunction","enumerable","configurable","length","result","None","extend","shading","items","getValue","extStart","extEnd","Start","End","add","setValue","point1","point2","point","angle","points","updateY","coords","Rgb","function","getFunction","shadingType","Axial","clone","brush","resetPatternDictionary","patternDictionary","matrix","blend","clonePdfBlend","interpolationColors","cloneColorBlend","cloneBackgroundValue","cloneAntiAliasingValue"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/**\r\n * PdfLinearGradientBrush.ts class for EJ2-PDF\r\n */\r\nimport { PdfColorSpace } from './../enum';\r\nimport { PdfColor } from './../pdf-color';\r\nimport { PointF, Rectangle } from './../../drawing/pdf-drawing';\r\nimport { PdfDictionary } from '../../primitives/pdf-dictionary';\r\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\r\nimport { PdfBoolean } from '../../primitives/pdf-boolean';\r\nimport { PdfArray } from './../../primitives/pdf-array';\r\nimport { PdfNumber } from './../../primitives/pdf-number';\r\nimport { PdfColorBlend } from './pdf-color-blend';\r\nimport { PdfGradientBrush } from './pdf-gradient-brush';\r\nimport { PdfExtend, PdfLinearGradientMode, ShadingType } from './enum';\r\n/**\r\n * `PdfLinearGradientBrush` Implements linear gradient brush by using PDF axial shading pattern.\r\n * @private\r\n */\r\nvar PdfLinearGradientBrush = /** @class */ (function (_super) {\r\n    __extends(PdfLinearGradientBrush, _super);\r\n    /**\r\n     * Initializes a new instance of the `PdfLinearGradientBrush` class.\r\n     * @public\r\n     */\r\n    /* tslint:disable-next-line:max-line-length */\r\n    function PdfLinearGradientBrush(arg1, arg2, arg3, arg4) {\r\n        var _this = _super.call(this, new PdfDictionary()) || this;\r\n        /**\r\n         * Local variable to store the dictionary properties.\r\n         * @private\r\n         */\r\n        _this.mDictionaryProperties = new DictionaryProperties();\r\n        if (arg1 instanceof PointF && arg2 instanceof PointF && arg3 instanceof PdfColor && arg4 instanceof PdfColor) {\r\n            _this.initialize(arg3, arg4);\r\n            _this.mPointStart = arg1;\r\n            _this.mPointEnd = arg2;\r\n            _this.setPoints(_this.mPointStart, _this.mPointEnd);\r\n        }\r\n        else if (arg1 instanceof Rectangle) {\r\n            _this.initialize(arg2, arg3);\r\n            /* tslint:disable-next-line:max-line-length */\r\n            if ((arg4 === PdfLinearGradientMode.BackwardDiagonal || arg4 === PdfLinearGradientMode.ForwardDiagonal || arg4 === PdfLinearGradientMode.Horizontal || arg4 === PdfLinearGradientMode.Vertical)) {\r\n                _this.mBoundaries = arg1;\r\n                switch (arg4) {\r\n                    case PdfLinearGradientMode.BackwardDiagonal:\r\n                        _this.mPointStart = new PointF(arg1.right, arg1.top);\r\n                        _this.mPointEnd = new PointF(arg1.left, arg1.bottom);\r\n                        break;\r\n                    case PdfLinearGradientMode.ForwardDiagonal:\r\n                        _this.mPointStart = new PointF(arg1.left, arg1.top);\r\n                        _this.mPointEnd = new PointF(arg1.right, arg1.bottom);\r\n                        break;\r\n                    case PdfLinearGradientMode.Horizontal:\r\n                        _this.mPointStart = new PointF(arg1.left, arg1.top);\r\n                        _this.mPointEnd = new PointF(arg1.right, arg1.top);\r\n                        break;\r\n                    case PdfLinearGradientMode.Vertical:\r\n                        _this.mPointStart = new PointF(arg1.left, arg1.top);\r\n                        _this.mPointEnd = new PointF(arg1.left, arg1.bottom);\r\n                        break;\r\n                    default:\r\n                        throw new Error('ArgumentException -- Unsupported linear gradient mode: ' + arg4 + ' mode');\r\n                }\r\n                _this.setPoints(_this.mPointStart, _this.mPointEnd);\r\n            }\r\n            else if (typeof arg4 === 'number' && typeof arg4 !== 'undefined') {\r\n                _this.mBoundaries = arg1;\r\n                arg4 = arg4 % 360;\r\n                if ((arg4 === 0)) {\r\n                    _this.mPointStart = new PointF(arg1.left, arg1.top);\r\n                    _this.mPointEnd = new PointF(arg1.right, arg1.top);\r\n                }\r\n                else if ((arg4 === 90)) {\r\n                    _this.mPointStart = new PointF(arg1.left, arg1.top);\r\n                    _this.mPointEnd = new PointF(arg1.left, arg1.bottom);\r\n                }\r\n                else if ((arg4 === 180)) {\r\n                    _this.mPointEnd = new PointF(arg1.left, arg1.top);\r\n                    _this.mPointStart = new PointF(arg1.right, arg1.top);\r\n                }\r\n                else if ((arg4 === 270)) {\r\n                    _this.mPointEnd = new PointF(arg1.left, arg1.top);\r\n                    _this.mPointStart = new PointF(arg1.left, arg1.bottom);\r\n                }\r\n                else {\r\n                    var d2r = (Math.PI / 180);\r\n                    var radAngle = (arg4 * d2r);\r\n                    var k = Math.tan(radAngle);\r\n                    var x = (_this.mBoundaries.left\r\n                        + ((_this.mBoundaries.right - _this.mBoundaries.left) / 2));\r\n                    var y = (_this.mBoundaries.top\r\n                        + ((_this.mBoundaries.bottom - _this.mBoundaries.top) / 2));\r\n                    var centre = new PointF(x, y);\r\n                    x = (_this.mBoundaries.width / (2 * (Math.cos(radAngle))));\r\n                    y = ((k * x));\r\n                    x = (x + centre.x);\r\n                    y = (y + centre.y);\r\n                    var p1 = new PointF(x, y);\r\n                    var cp1 = _this.subPoints(p1, centre);\r\n                    //  P1 - P0\r\n                    var p = _this.choosePoint(arg4);\r\n                    var coef = (_this.mulPoints(_this.subPoints(p, centre), cp1)\r\n                        / _this.mulPoints(cp1, cp1));\r\n                    _this.mPointEnd = _this.addPoints(centre, _this.mulPoint(cp1, coef));\r\n                    //  Parametric line equation.\r\n                    _this.mPointStart = _this.addPoints(centre, _this.mulPoint(cp1, (coef * -1)));\r\n                }\r\n                _this.setPoints(_this.mPointEnd, _this.mPointStart);\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Initializes a new instance of the `PdfLinearGradientBrush` class.\r\n     * @param color1 The starting color of the gradient.\r\n     * @param color2 The end color of the gradient.\r\n     */\r\n    PdfLinearGradientBrush.prototype.initialize = function (color1, color2) {\r\n        this.mColours = [color1, color2];\r\n        this.mColourBlend = new PdfColorBlend(2);\r\n        this.mColourBlend.positions = [0, 1];\r\n        this.mColourBlend.colors = this.mColours;\r\n        this.initShading();\r\n    };\r\n    Object.defineProperty(PdfLinearGradientBrush.prototype, \"blend\", {\r\n        //Properties\r\n        /**\r\n         * Gets or sets a PdfBlend that specifies positions\r\n         * and factors that define a custom falloff for the gradient.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mBlend;\r\n        },\r\n        set: function (value) {\r\n            if ((value == null)) {\r\n                throw new Error('ArgumentNullException : Blend');\r\n            }\r\n            if ((this.mColours == null)) {\r\n                throw new Error('NotSupportedException : There is no starting and ending colours specified.');\r\n            }\r\n            this.mBlend = value;\r\n            //  TODO: generate correct colour blend.\r\n            this.mColourBlend = this.mBlend.generateColorBlend(this.mColours, this.colorSpace);\r\n            this.resetFunction();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfLinearGradientBrush.prototype, \"interpolationColors\", {\r\n        /**\r\n         * Gets or sets a ColorBlend that defines a multicolor linear gradient.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mColourBlend;\r\n        },\r\n        set: function (value) {\r\n            if ((value == null)) {\r\n                throw new Error('ArgumentNullException : InterpolationColors');\r\n            }\r\n            this.mBlend = null;\r\n            this.mColours = null;\r\n            this.mColourBlend = value;\r\n            this.resetFunction();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfLinearGradientBrush.prototype, \"linearColors\", {\r\n        /**\r\n         * Gets or sets the starting and ending colors of the gradient.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mColours;\r\n        },\r\n        set: function (value) {\r\n            if ((value == null)) {\r\n                throw new Error('ArgumentNullException : LinearColors');\r\n            }\r\n            if ((value.length < 2)) {\r\n                throw new Error('ArgumentException : The array is too small - LinearColors');\r\n            }\r\n            if ((this.mColours == null && typeof this.mColours === 'undefined')) {\r\n                this.mColours = [value[0], value[1]];\r\n            }\r\n            else {\r\n                this.mColours[0] = value[0];\r\n                this.mColours[1] = value[1];\r\n            }\r\n            if ((this.mBlend == null && typeof this.mBlend === 'undefined')) {\r\n                //  Set correct colour blend.\r\n                this.mColourBlend = new PdfColorBlend(2);\r\n                this.mColourBlend.colors = this.mColours;\r\n                this.mColourBlend.positions = [0, 1];\r\n            }\r\n            else {\r\n                this.mColourBlend = this.mBlend.generateColorBlend(this.mColours, this.colorSpace);\r\n            }\r\n            this.resetFunction();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfLinearGradientBrush.prototype, \"rectangle\", {\r\n        /**\r\n         * Gets a rectangular region that defines the boundaries of the gradient.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            return this.mBoundaries;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfLinearGradientBrush.prototype, \"extend\", {\r\n        /**\r\n         * Gets or sets the value indicating whether the gradient should extend starting and ending points.\r\n         * @public\r\n         */\r\n        get: function () {\r\n            var result = PdfExtend.None;\r\n            var extend = (this.shading.items.getValue(this.mDictionaryProperties.extend));\r\n            if ((extend != null)) {\r\n                var extStart = (extend.items(0));\r\n                var extEnd = (extend.items(1));\r\n                if (extStart.value) {\r\n                    result = (result | PdfExtend.Start);\r\n                }\r\n                if (extEnd.value) {\r\n                    result = (result | PdfExtend.End);\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n        set: function (value) {\r\n            var extend = (this.shading.items.getValue(this.mDictionaryProperties.extend));\r\n            var extStart;\r\n            var extEnd;\r\n            if ((extend == null)) {\r\n                extStart = new PdfBoolean(false);\r\n                extEnd = new PdfBoolean(false);\r\n                extend = new PdfArray();\r\n                extend.add(extStart);\r\n                extend.add(extEnd);\r\n                this.shading.items.setValue(this.mDictionaryProperties.extend, extend);\r\n            }\r\n            else {\r\n                extStart = (extend.items(0));\r\n                extEnd = (extend.items(1));\r\n            }\r\n            // extStart.value = ((value && PdfExtend.Start) > 0);\r\n            // extEnd.value = ((value && PdfExtend.End) > 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //Implementation\r\n    /**\r\n     * Adds two points to each other.\r\n     * @param point1 The point1.\r\n     * @param point2 The point2.\r\n     */\r\n    PdfLinearGradientBrush.prototype.addPoints = function (point1, point2) {\r\n        var x = (point1.x + point2.x);\r\n        var y = (point1.y + point2.y);\r\n        var result = new PointF(x, y);\r\n        return result;\r\n    };\r\n    /**\r\n     * Subs the second point from the first one.\r\n     * @param point1 The point1.\r\n     * @param point2 The point2.\r\n     */\r\n    PdfLinearGradientBrush.prototype.subPoints = function (point1, point2) {\r\n        var x = (point1.x - point2.x);\r\n        var y = (point1.y - point2.y);\r\n        var result = new PointF(x, y);\r\n        return result;\r\n    };\r\n    /**\r\n     * Makes scalar multiplication of two points.\r\n     * @param point1 The point1.\r\n     * @param point2 The point2.\r\n     */\r\n    PdfLinearGradientBrush.prototype.mulPoints = function (point1, point2) {\r\n        var result = ((point1.x * point2.x) + (point1.y * point2.y));\r\n        return result;\r\n    };\r\n    /**\r\n     * Multiplies the point by the value specified.\r\n     * @param point The point1.\r\n     * @param value The value.\r\n     */\r\n    PdfLinearGradientBrush.prototype.mulPoint = function (point, value) {\r\n        point.x = (point.x * value);\r\n        point.y = (point.y * value);\r\n        return point;\r\n    };\r\n    /**\r\n     * Choose the point according to the angle.\r\n     * @param angle The angle.\r\n     */\r\n    PdfLinearGradientBrush.prototype.choosePoint = function (angle) {\r\n        var point = new PointF(0, 0);\r\n        //  Choose the correct point.\r\n        if ((angle < 90) && (angle > 0)) {\r\n            point = new PointF(this.mBoundaries.right, this.mBoundaries.bottom);\r\n        }\r\n        else if ((angle < 180) && (angle > 90)) {\r\n            point = new PointF(this.mBoundaries.left, this.mBoundaries.bottom);\r\n        }\r\n        else if ((angle < 270) && (angle > 180)) {\r\n            point = new PointF(this.mBoundaries.left, this.mBoundaries.top);\r\n        }\r\n        else if (angle > 270) {\r\n            point = new PointF(this.mBoundaries.right, this.mBoundaries.top);\r\n        }\r\n        else {\r\n            throw new Error('PdfException - Internal error.');\r\n        }\r\n        return point;\r\n    };\r\n    /**\r\n     * Sets the start and end points.\r\n     * @param point1 The point1.\r\n     * @param point2 The point2.\r\n     */\r\n    PdfLinearGradientBrush.prototype.setPoints = function (point1, point2) {\r\n        var points = new PdfArray();\r\n        points.add(new PdfNumber(point1.x));\r\n        points.add(new PdfNumber(this.updateY(point1.y)));\r\n        points.add(new PdfNumber(point2.x));\r\n        points.add(new PdfNumber(this.updateY(point2.y)));\r\n        this.shading.items.setValue(this.mDictionaryProperties.coords, points);\r\n    };\r\n    /**\r\n     * Updates y co-ordinate.\r\n     * @param y Y co-ordinate..\r\n     */\r\n    PdfLinearGradientBrush.prototype.updateY = function (y) {\r\n        if (y !== 0) {\r\n            return -y;\r\n        }\r\n        else {\r\n            return y;\r\n        }\r\n    };\r\n    //Overrides\r\n    /**\r\n     * Initializes the shading dictionary.\r\n     * @private\r\n     */\r\n    PdfLinearGradientBrush.prototype.initShading = function () {\r\n        this.colorSpace = PdfColorSpace.Rgb;\r\n        this.function = this.mColourBlend.getFunction(this.colorSpace);\r\n        this.shading.items.setValue(this.mDictionaryProperties.shadingType, new PdfNumber((ShadingType.Axial)));\r\n    };\r\n    //Overrides\r\n    /**\r\n     * Creates a new copy of a brush.\r\n     * @public\r\n     */\r\n    PdfLinearGradientBrush.prototype.clone = function () {\r\n        var brush = this;\r\n        brush.resetPatternDictionary(new PdfDictionary(this.patternDictionary));\r\n        brush.shading = new PdfDictionary();\r\n        brush.initShading();\r\n        brush.setPoints(brush.mPointStart, brush.mPointEnd);\r\n        if (brush !== null && brush instanceof PdfLinearGradientBrush) {\r\n            if ((this.matrix != null && typeof this.matrix !== 'undefined')) {\r\n                brush.matrix = this.matrix.clone();\r\n            }\r\n        }\r\n        if ((this.mColours != null && typeof this.mColours !== 'undefined')) {\r\n            brush.mColours = (this.mColours);\r\n        }\r\n        if ((this.blend != null && typeof this.blend !== 'undefined')) {\r\n            brush.blend = this.blend.clonePdfBlend();\r\n        }\r\n        else if ((this.interpolationColors != null && typeof this.interpolationColors !== 'undefined')) {\r\n            brush.interpolationColors = this.interpolationColors.cloneColorBlend();\r\n        }\r\n        brush.extend = this.extend;\r\n        this.cloneBackgroundValue(brush);\r\n        this.cloneAntiAliasingValue(brush);\r\n        return brush;\r\n    };\r\n    /**\r\n     * Resets the function.\r\n     * @public\r\n     */\r\n    PdfLinearGradientBrush.prototype.resetFunction = function () {\r\n        this.function = this.mColourBlend.getFunction(this.colorSpace);\r\n    };\r\n    return PdfLinearGradientBrush;\r\n}(PdfGradientBrush));\r\nexport { PdfLinearGradientBrush };\r\n"]},"metadata":{},"sourceType":"module"}