{"ast":null,"code":"/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n/* eslint-disable valid-jsdoc */\n\n/**\r\n * Defines the common functionalities of accumulation series\r\n */\nimport { isNullOrUndefined, Animation, createElement } from '@syncfusion/ej2-base';\nimport { degreeToLocation, getElement, indexFinder, linear } from '../../common/utils/helper';\nimport { pointByIndex } from '../model/acc-base';\n/**\r\n * Accumulation Base used to do some base calculation for accumulation chart.\r\n */\n\nvar AccumulationBase =\n/** @class */\nfunction () {\n  /** @private */\n  function AccumulationBase(accumulation) {\n    this.accumulation = accumulation;\n  }\n\n  Object.defineProperty(AccumulationBase.prototype, \"center\", {\n    /**\r\n     * Gets the center of the pie\r\n     *\r\n     * @private\r\n     */\n    get: function () {\n      return this.pieCenter || (this.accumulation.visibleSeries[0].type === 'Pie' ? this.accumulation.pieSeriesModule.pieBaseCenter : null);\n    },\n\n    /**\r\n     * Sets the center of the pie\r\n     *\r\n     * @private\r\n     */\n    set: function (value) {\n      this.pieCenter = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AccumulationBase.prototype, \"radius\", {\n    /**\r\n     * Gets the radius of the pie\r\n     *\r\n     * @private\r\n     */\n    get: function () {\n      return this.pieRadius !== undefined ? this.pieRadius : this.accumulation.pieSeriesModule.pieBaseRadius;\n    },\n\n    /**\r\n     * Sets the radius of the pie\r\n     *\r\n     * @private\r\n     */\n    set: function (value) {\n      this.pieRadius = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AccumulationBase.prototype, \"labelRadius\", {\n    /**\r\n     * Gets the label radius of the pie\r\n     *\r\n     * @private\r\n     */\n    get: function () {\n      return this.pieLabelRadius !== undefined ? this.pieLabelRadius : this.accumulation.pieSeriesModule.pieBaseLabelRadius;\n    },\n\n    /**\r\n     * Sets the label radius of the pie\r\n     *\r\n     * @private\r\n     */\n    set: function (value) {\n      this.pieLabelRadius = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Checks whether the series is circular or not\r\n   *\r\n   * @private\r\n   */\n\n  AccumulationBase.prototype.isCircular = function () {\n    return this.accumulation.type === 'Pie';\n  };\n  /**\r\n   * To check various radius pie\r\n   *\r\n   * @private\r\n   */\n\n\n  AccumulationBase.prototype.isVariousRadius = function () {\n    return this.accumulation.pieSeriesModule.isRadiusMapped;\n  };\n  /**\r\n   * To process the explode on accumulation chart loading\r\n   *\r\n   * @private\r\n   */\n\n\n  AccumulationBase.prototype.processExplode = function (event) {\n    if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\n      var pointIndex = indexFinder(event.target.id).point;\n\n      if (isNaN(pointIndex) || event.target.id.indexOf('_datalabel_') > -1 && this.accumulation.visibleSeries[0].points[pointIndex].labelPosition === 'Outside') {\n        return null;\n      }\n\n      this.explodePoints(pointIndex, this.accumulation);\n      this.deExplodeAll(pointIndex, this.accumulation.enableAnimation ? 300 : 0);\n    }\n  };\n  /**\r\n   * To invoke the explode on accumulation chart loading\r\n   *\r\n   * @private\r\n   */\n\n\n  AccumulationBase.prototype.invokeExplode = function () {\n    var series = this.accumulation.visibleSeries[0];\n    var duration = this.accumulation.enableAnimation ? 300 : 0;\n\n    for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\n      var point = _a[_i];\n\n      if (point.isExplode && point.y !== 0) {\n        this.pointExplode(point.index, point, duration);\n      }\n    }\n\n    if (this.accumulation.accumulationSelectionModule && this.accumulation.selectionMode !== 'None' && this.accumulation.accumulationSelectionModule.selectedDataIndexes.length) {\n      for (var _b = 0, _c = this.accumulation.accumulationSelectionModule.selectedDataIndexes; _b < _c.length; _b++) {\n        var index = _c[_b];\n        this.explodePoints(index.point, this.accumulation, true);\n        this.deExplodeAll(index.point, duration);\n      }\n    }\n  };\n  /**\r\n   * To deExplode all points in the series\r\n   *\r\n   * @private\r\n   */\n\n\n  AccumulationBase.prototype.deExplodeAll = function (index, animationDuration) {\n    var pointId = this.accumulation.element.id + '_Series_0_Point_';\n    var points = this.accumulation.visibleSeries[0].points;\n\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n      var currentPoint = points_1[_i];\n\n      if (index !== currentPoint.index && !currentPoint.isSliced || currentPoint.isClubbed) {\n        currentPoint.isExplode = false;\n        this.deExplodeSlice(currentPoint.index, pointId, animationDuration);\n      }\n    }\n  };\n  /**\r\n   * To explode point by index\r\n   *\r\n   * @private\r\n   */\n\n\n  AccumulationBase.prototype.explodePoints = function (index, chart, explode) {\n    if (explode === void 0) {\n      explode = false;\n    }\n\n    var series = chart.visibleSeries[0];\n    var points = series.points;\n    var point = pointByIndex(index, points);\n    var explodePoints = true;\n    var duration = this.accumulation.enableAnimation ? 300 : 0;\n\n    if (isNullOrUndefined(point)) {\n      return null;\n    }\n\n    var clubPointsExploded = !explode && (point.isSliced || series.clubbedPoints.length && points[points.length - 1].index === series.clubbedPoints[series.clubbedPoints.length - 1].index);\n\n    if (series.type === 'Pie' && (clubPointsExploded || point.isClubbed)) {\n      explodePoints = this.clubPointExplode(index, point, series, points, chart, duration, clubPointsExploded);\n    }\n\n    if (explodePoints && point.y !== 0) {\n      this.pointExplode(index, point, duration, explode);\n    }\n  };\n\n  AccumulationBase.prototype.getSum = function (points) {\n    var total = 0;\n    points.map(function (point) {\n      total += point.visible ? point.y : 0;\n    });\n    return total;\n  };\n\n  AccumulationBase.prototype.clubPointExplode = function (index, point, series, points, chart, duration, clubPointsExploded) {\n    if (clubPointsExploded === void 0) {\n      clubPointsExploded = false;\n    }\n\n    if (point.isClubbed) {\n      chart.animateSeries = false;\n      points.splice(points.length - 1, 1);\n      series.clubbedPoints.map(function (point) {\n        point.visible = true;\n        point.isExplode = true;\n      });\n      chart.visibleSeries[0].points = points.concat(series.clubbedPoints);\n      this.deExplodeAll(index, duration);\n      series.sumOfPoints = this.getSum(chart.visibleSeries[0].points);\n      chart.refreshChart();\n      return false;\n    } else if (clubPointsExploded || point.isSliced) {\n      chart.animateSeries = false;\n      points.splice(points.length - series.clubbedPoints.length, series.clubbedPoints.length);\n      var clubPoint = series.generateClubPoint();\n      clubPoint.index = points.length;\n      clubPoint.color = series.clubbedPoints[0].color;\n      points.push(clubPoint);\n      series.sumOfPoints = this.getSum(points);\n      this.deExplodeAll(index, duration);\n      clubPoint.isExplode = false;\n      chart.visibleSeries[0].points = points;\n      chart.refreshChart();\n      this.pointExplode(clubPoint.index, points[clubPoint.index], 0, true);\n      clubPoint.isExplode = false;\n      this.deExplodeSlice(clubPoint.index, chart.element.id + '_Series_0_Point_', duration);\n\n      if (point.isSliced) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\r\n   * To Explode points\r\n   *\r\n   * @param {number} index Index of a point.\r\n   * @param {AccPoints} point To get the point of explode.\r\n   * @param {number} duration Duration of the explode point.\r\n   * @param {boolean} explode Either true or false.\r\n   */\n\n\n  AccumulationBase.prototype.pointExplode = function (index, point, duration, explode) {\n    var translate;\n    var pointId = this.accumulation.element.id + '_Series_0_Point_';\n    var chart = this.accumulation;\n\n    if (!this.isCircular()) {\n      translate = {\n        x: point.labelRegion && point.labelRegion.x < point.region.x ? -chart.explodeDistance : chart.explodeDistance,\n        y: 0\n      };\n    } else {\n      translate = degreeToLocation(point.midAngle, chart.explodeDistance, this.center);\n    }\n\n    if (this.isExplode(pointId + index) || explode) {\n      point.isExplode = true;\n      this.explodeSlice(index, translate, pointId, this.center || {\n        x: 0,\n        y: 0\n      }, duration);\n    } else {\n      point.isExplode = false;\n      this.deExplodeSlice(index, pointId, duration);\n    }\n  };\n  /**\r\n   * To check point is exploded by id\r\n   */\n\n\n  AccumulationBase.prototype.isExplode = function (id) {\n    var element = getElement(id);\n    var transform = element ? element.getAttribute('transform') : null;\n    return element && (transform === 'translate(0, 0)' || transform === null || transform === 'translate(0)');\n  };\n  /**\r\n   * To deExplode the point by index\r\n   */\n\n\n  AccumulationBase.prototype.deExplodeSlice = function (index, sliceId, animationDuration) {\n    var element = getElement(sliceId + index);\n\n    if (element) {\n      var borderElement = element.parentNode.lastChild.hasAttribute('transform');\n\n      if (borderElement) {\n        element.parentNode.lastChild.removeAttribute('transform');\n      }\n    }\n\n    var transform = element ? element.getAttribute('transform') : null;\n\n    if (this.accumulation.enableAnimation && element && transform && transform !== 'translate(0, 0)' && transform !== 'translate(0)') {\n      var result = /translate\\((-?\\d+\\.?\\d*),?\\s*(-?\\d+[.]?\\d*)?\\)/.exec(transform);\n      this.performAnimation(index, sliceId, 0, 0, +result[1], +result[2] || 0, animationDuration, true);\n    } else {\n      this.performAnimation(index, sliceId, 0, 0, 0, 0, animationDuration, true);\n    }\n  };\n  /**\r\n   * To translate the point elements by index and position\r\n   */\n\n\n  AccumulationBase.prototype.setTranslate = function (index, sliceId, position, transform) {\n    this.setElementTransform(sliceId + index, position);\n\n    if (this.accumulation.visibleSeries[0].dataLabel.visible) {\n      sliceId = this.accumulation.element.id + '_datalabel_Series_0_';\n      this.setElementTransform(sliceId + 'shape_' + index, position);\n      this.setElementTransform(sliceId + 'text_' + index, position + transform);\n      this.setElementTransform(sliceId + 'connector_' + index, position);\n    }\n  };\n  /**\r\n   * To translate the point element by id and position\r\n   */\n\n\n  AccumulationBase.prototype.setElementTransform = function (id, position) {\n    var element = getElement(id);\n\n    if (element) {\n      element.setAttribute('transform', position);\n    }\n  };\n  /**\r\n   * To translate the point elements by index position\r\n   */\n\n\n  AccumulationBase.prototype.explodeSlice = function (index, translate, sliceId, center, animationDuration) {\n    this.performAnimation(index, sliceId, 0, 0, translate.x - center.x, translate.y - center.y, animationDuration);\n  };\n  /**\r\n   * To Perform animation point explode\r\n   *\r\n   * @param {number} index Index of the series.\r\n   * @param {string} sliceId ID of the series.\r\n   * @param {number} startX X value of start.\r\n   * @param {number} startY Y value of start.\r\n   * @param {number} endX X value of end.\r\n   * @param {number} endY Y value of end.\r\n   * @param {number} duration Duration of the animation.\r\n   */\n\n\n  AccumulationBase.prototype.performAnimation = function (index, sliceId, startX, startY, endX, endY, duration, isReverse) {\n    var _this = this;\n\n    var chart = this.accumulation;\n    var values = sliceId.split('_');\n    var seriesIndex = parseInt(sliceId.split('_')[values.length - 3], 10);\n    var point = chart.visibleSeries[seriesIndex].points[index];\n\n    if (duration <= 0) {\n      this.setTranslate(index, sliceId, 'translate(' + endX + ', ' + endY + ')', point.transform);\n      return null;\n    }\n\n    var xValue;\n    var yValue;\n    new Animation({}).animate(createElement('div'), {\n      duration: duration,\n      progress: function (args) {\n        xValue = linear(args.timeStamp, startX, endX, args.duration);\n        yValue = linear(args.timeStamp, startY, endY, args.duration);\n\n        _this.setTranslate(index, sliceId, 'translate(' + (isReverse ? endX - xValue : xValue) + ', ' + (isReverse ? endY - yValue : yValue) + ')', point.transform);\n      },\n      end: function () {\n        _this.setTranslate(index, sliceId, 'translate(' + (isReverse ? startX : endX) + ', ' + (isReverse ? startX : endY) + ')', point.transform);\n      }\n    });\n  };\n\n  return AccumulationBase;\n}();\n\nexport { AccumulationBase };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/accumulation-chart/renderer/accumulation-base.js"],"names":["isNullOrUndefined","Animation","createElement","degreeToLocation","getElement","indexFinder","linear","pointByIndex","AccumulationBase","accumulation","Object","defineProperty","prototype","get","pieCenter","visibleSeries","type","pieSeriesModule","pieBaseCenter","set","value","enumerable","configurable","pieRadius","undefined","pieBaseRadius","pieLabelRadius","pieBaseLabelRadius","isCircular","isVariousRadius","isRadiusMapped","processExplode","event","target","id","indexOf","pointIndex","point","isNaN","points","labelPosition","explodePoints","deExplodeAll","enableAnimation","invokeExplode","series","duration","_i","_a","length","isExplode","y","pointExplode","index","accumulationSelectionModule","selectionMode","selectedDataIndexes","_b","_c","animationDuration","pointId","element","points_1","currentPoint","isSliced","isClubbed","deExplodeSlice","chart","explode","clubPointsExploded","clubbedPoints","clubPointExplode","getSum","total","map","visible","animateSeries","splice","concat","sumOfPoints","refreshChart","clubPoint","generateClubPoint","color","push","translate","x","labelRegion","region","explodeDistance","midAngle","center","explodeSlice","transform","getAttribute","sliceId","borderElement","parentNode","lastChild","hasAttribute","removeAttribute","result","exec","performAnimation","setTranslate","position","setElementTransform","dataLabel","setAttribute","startX","startY","endX","endY","isReverse","_this","values","split","seriesIndex","parseInt","xValue","yValue","animate","progress","args","timeStamp","end"],"mappings":"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","sourcesContent":["/* eslint-disable jsdoc/require-returns */\r\n/* eslint-disable jsdoc/require-param */\r\n/* eslint-disable @typescript-eslint/no-inferrable-types */\r\n/* eslint-disable valid-jsdoc */\r\n/**\r\n * Defines the common functionalities of accumulation series\r\n */\r\nimport { isNullOrUndefined, Animation, createElement } from '@syncfusion/ej2-base';\r\nimport { degreeToLocation, getElement, indexFinder, linear } from '../../common/utils/helper';\r\nimport { pointByIndex } from '../model/acc-base';\r\n/**\r\n * Accumulation Base used to do some base calculation for accumulation chart.\r\n */\r\nvar AccumulationBase = /** @class */ (function () {\r\n    /** @private */\r\n    function AccumulationBase(accumulation) {\r\n        this.accumulation = accumulation;\r\n    }\r\n    Object.defineProperty(AccumulationBase.prototype, \"center\", {\r\n        /**\r\n         * Gets the center of the pie\r\n         *\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pieCenter || (this.accumulation.visibleSeries[0].type === 'Pie' ?\r\n                this.accumulation.pieSeriesModule.pieBaseCenter : null);\r\n        },\r\n        /**\r\n         * Sets the center of the pie\r\n         *\r\n         * @private\r\n         */\r\n        set: function (value) {\r\n            this.pieCenter = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AccumulationBase.prototype, \"radius\", {\r\n        /**\r\n         * Gets the radius of the pie\r\n         *\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pieRadius !== undefined ? this.pieRadius :\r\n                this.accumulation.pieSeriesModule.pieBaseRadius;\r\n        },\r\n        /**\r\n         * Sets the radius of the pie\r\n         *\r\n         * @private\r\n         */\r\n        set: function (value) {\r\n            this.pieRadius = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AccumulationBase.prototype, \"labelRadius\", {\r\n        /**\r\n         * Gets the label radius of the pie\r\n         *\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.pieLabelRadius !== undefined ? this.pieLabelRadius :\r\n                this.accumulation.pieSeriesModule.pieBaseLabelRadius;\r\n        },\r\n        /**\r\n         * Sets the label radius of the pie\r\n         *\r\n         * @private\r\n         */\r\n        set: function (value) {\r\n            this.pieLabelRadius = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks whether the series is circular or not\r\n     *\r\n     * @private\r\n     */\r\n    AccumulationBase.prototype.isCircular = function () {\r\n        return this.accumulation.type === 'Pie';\r\n    };\r\n    /**\r\n     * To check various radius pie\r\n     *\r\n     * @private\r\n     */\r\n    AccumulationBase.prototype.isVariousRadius = function () {\r\n        return this.accumulation.pieSeriesModule.isRadiusMapped;\r\n    };\r\n    /**\r\n     * To process the explode on accumulation chart loading\r\n     *\r\n     * @private\r\n     */\r\n    AccumulationBase.prototype.processExplode = function (event) {\r\n        if (event.target.id.indexOf('_Series_') > -1 || event.target.id.indexOf('_datalabel_') > -1) {\r\n            var pointIndex = indexFinder(event.target.id).point;\r\n            if (isNaN(pointIndex) || (event.target.id.indexOf('_datalabel_') > -1 &&\r\n                this.accumulation.visibleSeries[0].points[pointIndex].labelPosition === 'Outside')) {\r\n                return null;\r\n            }\r\n            this.explodePoints(pointIndex, this.accumulation);\r\n            this.deExplodeAll(pointIndex, this.accumulation.enableAnimation ? 300 : 0);\r\n        }\r\n    };\r\n    /**\r\n     * To invoke the explode on accumulation chart loading\r\n     *\r\n     * @private\r\n     */\r\n    AccumulationBase.prototype.invokeExplode = function () {\r\n        var series = this.accumulation.visibleSeries[0];\r\n        var duration = this.accumulation.enableAnimation ? 300 : 0;\r\n        for (var _i = 0, _a = series.points; _i < _a.length; _i++) {\r\n            var point = _a[_i];\r\n            if (point.isExplode && point.y !== 0) {\r\n                this.pointExplode(point.index, point, duration);\r\n            }\r\n        }\r\n        if (this.accumulation.accumulationSelectionModule && this.accumulation.selectionMode !== 'None' &&\r\n            this.accumulation.accumulationSelectionModule.selectedDataIndexes.length) {\r\n            for (var _b = 0, _c = this.accumulation.accumulationSelectionModule.selectedDataIndexes; _b < _c.length; _b++) {\r\n                var index = _c[_b];\r\n                this.explodePoints(index.point, this.accumulation, true);\r\n                this.deExplodeAll(index.point, duration);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To deExplode all points in the series\r\n     *\r\n     * @private\r\n     */\r\n    AccumulationBase.prototype.deExplodeAll = function (index, animationDuration) {\r\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\r\n        var points = this.accumulation.visibleSeries[0].points;\r\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\r\n            var currentPoint = points_1[_i];\r\n            if ((index !== currentPoint.index && !currentPoint.isSliced) || currentPoint.isClubbed) {\r\n                currentPoint.isExplode = false;\r\n                this.deExplodeSlice(currentPoint.index, pointId, animationDuration);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To explode point by index\r\n     *\r\n     * @private\r\n     */\r\n    AccumulationBase.prototype.explodePoints = function (index, chart, explode) {\r\n        if (explode === void 0) { explode = false; }\r\n        var series = chart.visibleSeries[0];\r\n        var points = series.points;\r\n        var point = pointByIndex(index, points);\r\n        var explodePoints = true;\r\n        var duration = this.accumulation.enableAnimation ? 300 : 0;\r\n        if (isNullOrUndefined(point)) {\r\n            return null;\r\n        }\r\n        var clubPointsExploded = !explode &&\r\n            (point.isSliced || (series.clubbedPoints.length &&\r\n                points[points.length - 1].index === series.clubbedPoints[series.clubbedPoints.length - 1].index));\r\n        if (series.type === 'Pie' && (clubPointsExploded || point.isClubbed)) {\r\n            explodePoints = this.clubPointExplode(index, point, series, points, chart, duration, clubPointsExploded);\r\n        }\r\n        if (explodePoints && point.y !== 0) {\r\n            this.pointExplode(index, point, duration, explode);\r\n        }\r\n    };\r\n    AccumulationBase.prototype.getSum = function (points) {\r\n        var total = 0;\r\n        points.map(function (point) {\r\n            total += point.visible ? point.y : 0;\r\n        });\r\n        return total;\r\n    };\r\n    AccumulationBase.prototype.clubPointExplode = function (index, point, series, points, chart, duration, clubPointsExploded) {\r\n        if (clubPointsExploded === void 0) { clubPointsExploded = false; }\r\n        if (point.isClubbed) {\r\n            chart.animateSeries = false;\r\n            points.splice(points.length - 1, 1);\r\n            series.clubbedPoints.map(function (point) {\r\n                point.visible = true;\r\n                point.isExplode = true;\r\n            });\r\n            chart.visibleSeries[0].points = points.concat(series.clubbedPoints);\r\n            this.deExplodeAll(index, duration);\r\n            series.sumOfPoints = this.getSum(chart.visibleSeries[0].points);\r\n            chart.refreshChart();\r\n            return false;\r\n        }\r\n        else if (clubPointsExploded || point.isSliced) {\r\n            chart.animateSeries = false;\r\n            points.splice(points.length - series.clubbedPoints.length, series.clubbedPoints.length);\r\n            var clubPoint = series.generateClubPoint();\r\n            clubPoint.index = points.length;\r\n            clubPoint.color = series.clubbedPoints[0].color;\r\n            points.push(clubPoint);\r\n            series.sumOfPoints = this.getSum(points);\r\n            this.deExplodeAll(index, duration);\r\n            clubPoint.isExplode = false;\r\n            chart.visibleSeries[0].points = points;\r\n            chart.refreshChart();\r\n            this.pointExplode(clubPoint.index, points[clubPoint.index], 0, true);\r\n            clubPoint.isExplode = false;\r\n            this.deExplodeSlice(clubPoint.index, chart.element.id + '_Series_0_Point_', duration);\r\n            if (point.isSliced) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * To Explode points\r\n     *\r\n     * @param {number} index Index of a point.\r\n     * @param {AccPoints} point To get the point of explode.\r\n     * @param {number} duration Duration of the explode point.\r\n     * @param {boolean} explode Either true or false.\r\n     */\r\n    AccumulationBase.prototype.pointExplode = function (index, point, duration, explode) {\r\n        var translate;\r\n        var pointId = this.accumulation.element.id + '_Series_0_Point_';\r\n        var chart = this.accumulation;\r\n        if (!this.isCircular()) {\r\n            translate = {\r\n                x: ((point.labelRegion && point.labelRegion.x < point.region.x) ? -chart.explodeDistance :\r\n                    chart.explodeDistance), y: 0\r\n            };\r\n        }\r\n        else {\r\n            translate = degreeToLocation(point.midAngle, chart.explodeDistance, this.center);\r\n        }\r\n        if (this.isExplode(pointId + index) || explode) {\r\n            point.isExplode = true;\r\n            this.explodeSlice(index, translate, pointId, this.center || { x: 0, y: 0 }, duration);\r\n        }\r\n        else {\r\n            point.isExplode = false;\r\n            this.deExplodeSlice(index, pointId, duration);\r\n        }\r\n    };\r\n    /**\r\n     * To check point is exploded by id\r\n     */\r\n    AccumulationBase.prototype.isExplode = function (id) {\r\n        var element = getElement(id);\r\n        var transform = element ? element.getAttribute('transform') : null;\r\n        return (element && (transform === 'translate(0, 0)' || transform === null || transform === 'translate(0)'));\r\n    };\r\n    /**\r\n     * To deExplode the point by index\r\n     */\r\n    AccumulationBase.prototype.deExplodeSlice = function (index, sliceId, animationDuration) {\r\n        var element = getElement(sliceId + index);\r\n        if (element) {\r\n            var borderElement = element.parentNode.lastChild.hasAttribute('transform');\r\n            if (borderElement) {\r\n                element.parentNode.lastChild.removeAttribute('transform');\r\n            }\r\n        }\r\n        var transform = element ? element.getAttribute('transform') : null;\r\n        if (this.accumulation.enableAnimation && element && transform &&\r\n            transform !== 'translate(0, 0)' && transform !== 'translate(0)') {\r\n            var result = /translate\\((-?\\d+\\.?\\d*),?\\s*(-?\\d+[.]?\\d*)?\\)/.exec(transform);\r\n            this.performAnimation(index, sliceId, 0, 0, +result[1], +result[2] || 0, animationDuration, true);\r\n        }\r\n        else {\r\n            this.performAnimation(index, sliceId, 0, 0, 0, 0, animationDuration, true);\r\n        }\r\n    };\r\n    /**\r\n     * To translate the point elements by index and position\r\n     */\r\n    AccumulationBase.prototype.setTranslate = function (index, sliceId, position, transform) {\r\n        this.setElementTransform(sliceId + index, position);\r\n        if (this.accumulation.visibleSeries[0].dataLabel.visible) {\r\n            sliceId = this.accumulation.element.id + '_datalabel_Series_0_';\r\n            this.setElementTransform(sliceId + 'shape_' + index, position);\r\n            this.setElementTransform(sliceId + 'text_' + index, position + transform);\r\n            this.setElementTransform(sliceId + 'connector_' + index, position);\r\n        }\r\n    };\r\n    /**\r\n     * To translate the point element by id and position\r\n     */\r\n    AccumulationBase.prototype.setElementTransform = function (id, position) {\r\n        var element = getElement(id);\r\n        if (element) {\r\n            element.setAttribute('transform', position);\r\n        }\r\n    };\r\n    /**\r\n     * To translate the point elements by index position\r\n     */\r\n    AccumulationBase.prototype.explodeSlice = function (index, translate, sliceId, center, animationDuration) {\r\n        this.performAnimation(index, sliceId, 0, 0, translate.x - center.x, translate.y - center.y, animationDuration);\r\n    };\r\n    /**\r\n     * To Perform animation point explode\r\n     *\r\n     * @param {number} index Index of the series.\r\n     * @param {string} sliceId ID of the series.\r\n     * @param {number} startX X value of start.\r\n     * @param {number} startY Y value of start.\r\n     * @param {number} endX X value of end.\r\n     * @param {number} endY Y value of end.\r\n     * @param {number} duration Duration of the animation.\r\n     */\r\n    AccumulationBase.prototype.performAnimation = function (index, sliceId, startX, startY, endX, endY, duration, isReverse) {\r\n        var _this = this;\r\n        var chart = this.accumulation;\r\n        var values = sliceId.split('_');\r\n        var seriesIndex = parseInt(sliceId.split('_')[values.length - 3], 10);\r\n        var point = chart.visibleSeries[seriesIndex].points[index];\r\n        if (duration <= 0) {\r\n            this.setTranslate(index, sliceId, 'translate(' + (endX) + ', ' + (endY) + ')', point.transform);\r\n            return null;\r\n        }\r\n        var xValue;\r\n        var yValue;\r\n        new Animation({}).animate(createElement('div'), {\r\n            duration: duration,\r\n            progress: function (args) {\r\n                xValue = linear(args.timeStamp, startX, endX, args.duration);\r\n                yValue = linear(args.timeStamp, startY, endY, args.duration);\r\n                _this.setTranslate(index, sliceId, 'translate(' + (isReverse ? endX - xValue : xValue) + ', ' + (isReverse ? endY - yValue : yValue) + ')', point.transform);\r\n            },\r\n            end: function () {\r\n                _this.setTranslate(index, sliceId, 'translate(' + (isReverse ? startX : endX) + ', ' + (isReverse ? startX : endY) + ')', point.transform);\r\n            }\r\n        });\r\n    };\r\n    return AccumulationBase;\r\n}());\r\nexport { AccumulationBase };\r\n"]},"metadata":{},"sourceType":"module"}