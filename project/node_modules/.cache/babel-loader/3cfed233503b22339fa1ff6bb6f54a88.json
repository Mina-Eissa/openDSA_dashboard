{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\r\n * The Animation framework provide options to animate the html DOM elements\r\n * ```typescript\r\n *   let animeObject = new Animation({\r\n *      name: 'SlideLeftIn',\r\n *      duration: 1000\r\n *   });\r\n *   animeObject.animate('#anime1');\r\n *   animeObject.animate('#anime2', { duration: 500 });\r\n * ```\r\n */\n\nvar Animation =\n/** @class */\nfunction (_super) {\n  __extends(Animation, _super);\n\n  function Animation(options) {\n    var _this = _super.call(this, options, undefined) || this;\n    /**\r\n     * @private\r\n     */\n\n\n    _this.easing = {\n      ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n      linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n      easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n      easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n      easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n      elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n      elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n      elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n    };\n    return _this;\n  }\n\n  Animation_1 = Animation;\n  /**\r\n   * Applies animation to the current element.\r\n   *\r\n   * @param {string | HTMLElement} element - Element which needs to be animated.\r\n   * @param {AnimationModel} options - Overriding default animation settings.\r\n   * @returns {void} ?\r\n   */\n\n  Animation.prototype.animate = function (element, options) {\n    options = !options ? {} : options;\n    var model = this.getModel(options);\n\n    if (typeof element === 'string') {\n      var elements = Array.prototype.slice.call(selectAll(element, document));\n\n      for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n        var element_1 = elements_1[_i];\n        model.element = element_1;\n        Animation_1.delayAnimation(model);\n      }\n    } else {\n      model.element = element;\n      Animation_1.delayAnimation(model);\n    }\n  };\n  /**\r\n   * Stop the animation effect on animated element.\r\n   *\r\n   * @param {HTMLElement} element - Element which needs to be stop the animation.\r\n   * @param {AnimationOptions} model - Handling the animation model at stop function.\r\n   * @return {void}\r\n   */\n\n\n  Animation.stop = function (element, model) {\n    element.style.animation = '';\n    element.removeAttribute('e-animate');\n    var animationId = element.getAttribute('e-animation-id');\n\n    if (animationId) {\n      var frameId = parseInt(animationId, 10);\n      cancelAnimationFrame(frameId);\n      element.removeAttribute('e-animation-id');\n    }\n\n    if (model && model.end) {\n      model.end.call(this, model);\n    }\n  };\n  /**\r\n   * Set delay to animation element\r\n   *\r\n   * @param {AnimationModel} model ?\r\n   * @returns {void}\r\n   */\n\n\n  Animation.delayAnimation = function (model) {\n    if (model.delay) {\n      setTimeout(function () {\n        Animation_1.applyAnimation(model);\n      }, model.delay);\n    } else {\n      Animation_1.applyAnimation(model);\n    }\n  };\n  /**\r\n   * Triggers animation\r\n   *\r\n   * @param {AnimationModel} model ?\r\n   * @returns {void}\r\n   */\n\n\n  Animation.applyAnimation = function (model) {\n    var _this = this;\n\n    model.timeStamp = 0;\n    var step = 0;\n    var timerId = 0;\n    var prevTimeStamp = 0;\n    var duration = model.duration;\n    model.element.setAttribute('e-animate', 'true');\n\n    var startAnimation = function (timeStamp) {\n      try {\n        if (timeStamp) {\n          // let step: number = model.timeStamp = timeStamp - startTime;\n\n          /** phantomjs workaround for timestamp fix */\n          prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n          model.timeStamp = timeStamp + model.timeStamp - prevTimeStamp;\n          prevTimeStamp = timeStamp;\n          /** phantomjs workaround end */\n          // trigger animation begin event\n\n          if (!step && model.begin) {\n            model.begin.call(_this, model);\n          }\n\n          step = step + 1;\n          var avg = model.timeStamp / step;\n\n          if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n            // apply animation effect to the current element\n            model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n\n            if (model.progress) {\n              model.progress.call(_this, model);\n            } // repeat requestAnimationFrame\n\n\n            requestAnimationFrame(startAnimation);\n          } else {\n            // clear requestAnimationFrame\n            cancelAnimationFrame(timerId);\n            model.element.removeAttribute('e-animation-id');\n            model.element.removeAttribute('e-animate');\n            model.element.style.animation = '';\n\n            if (model.end) {\n              model.end.call(_this, model);\n            }\n          }\n        } else {\n          //startTime = performance.now();\n          // set initial requestAnimationFrame\n          timerId = requestAnimationFrame(startAnimation);\n          model.element.setAttribute('e-animation-id', timerId.toString());\n        }\n      } catch (e) {\n        cancelAnimationFrame(timerId);\n        model.element.removeAttribute('e-animation-id');\n\n        if (model.fail) {\n          model.fail.call(_this, e);\n        }\n      }\n    };\n\n    startAnimation();\n  };\n  /**\r\n   * Returns Animation Model\r\n   *\r\n   * @param {AnimationModel} options ?\r\n   * @returns {AnimationModel} ?\r\n   */\n\n\n  Animation.prototype.getModel = function (options) {\n    return {\n      name: options.name || this.name,\n      delay: options.delay || this.delay,\n      duration: options.duration !== undefined ? options.duration : this.duration,\n      begin: options.begin || this.begin,\n      end: options.end || this.end,\n      fail: options.fail || this.fail,\n      progress: options.progress || this.progress,\n      timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] : options.timingFunction || this.easing[this.timingFunction]\n    };\n  };\n  /**\r\n   * @private\r\n   * @param {AnimationModel} newProp ?\r\n   * @param {AnimationModel} oldProp ?\r\n   * @returns {void} ?\r\n   */\n  // eslint-disable-next-line\n\n\n  Animation.prototype.onPropertyChanged = function (newProp, oldProp) {// no code needed\n  };\n  /**\r\n   * Returns module name as animation\r\n   *\r\n   * @private\r\n   * @returns {void} ?\r\n   */\n\n\n  Animation.prototype.getModuleName = function () {\n    return 'animation';\n  };\n  /**\r\n   *\r\n   * @private\r\n   * @returns {void} ?\r\n   */\n\n\n  Animation.prototype.destroy = function () {//Override base destroy;\n  };\n\n  var Animation_1;\n\n  __decorate([Property('FadeIn')], Animation.prototype, \"name\", void 0);\n\n  __decorate([Property(400)], Animation.prototype, \"duration\", void 0);\n\n  __decorate([Property('ease')], Animation.prototype, \"timingFunction\", void 0);\n\n  __decorate([Property(0)], Animation.prototype, \"delay\", void 0);\n\n  __decorate([Event()], Animation.prototype, \"progress\", void 0);\n\n  __decorate([Event()], Animation.prototype, \"begin\", void 0);\n\n  __decorate([Event()], Animation.prototype, \"end\", void 0);\n\n  __decorate([Event()], Animation.prototype, \"fail\", void 0);\n\n  Animation = Animation_1 = __decorate([NotifyPropertyChanges], Animation);\n  return Animation;\n}(Base);\n\nexport { Animation };\n/**\r\n * Ripple provides material theme's wave effect when an element is clicked\r\n * ```html\r\n * <div id='ripple'></div>\r\n * <script>\r\n *   rippleEffect(document.getElementById('ripple'));\r\n * </script>\r\n * ```\r\n *\r\n * @private\r\n * @param {HTMLElement} element - Target element\r\n * @param {RippleOptions} rippleOptions - Ripple options .\r\n * @param {Function} done .\r\n * @returns {void} .\r\n */\n\nexport function rippleEffect(element, rippleOptions, done) {\n  var rippleModel = getRippleModel(rippleOptions);\n\n  if (rippleModel.rippleFlag === false || rippleModel.rippleFlag === undefined && !isRippleEnabled) {\n    return function () {};\n  }\n\n  element.setAttribute('data-ripple', 'true');\n  EventHandler.add(element, 'mousedown', rippleHandler, {\n    parent: element,\n    rippleOptions: rippleModel\n  });\n  EventHandler.add(element, 'mouseup', rippleUpHandler, {\n    parent: element,\n    rippleOptions: rippleModel,\n    done: done\n  });\n  EventHandler.add(element, 'mouseleave', rippleLeaveHandler, {\n    parent: element,\n    rippleOptions: rippleModel\n  });\n\n  if (Browser.isPointer) {\n    EventHandler.add(element, 'transitionend', rippleLeaveHandler, {\n      parent: element,\n      rippleOptions: rippleModel\n    });\n  }\n\n  return function () {\n    element.removeAttribute('data-ripple');\n    EventHandler.remove(element, 'mousedown', rippleHandler);\n    EventHandler.remove(element, 'mouseup', rippleUpHandler);\n    EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n  };\n}\n/**\r\n * Handler for ripple model\r\n *\r\n * @param {RippleOptions} rippleOptions ?\r\n * @returns {RippleOptions} ?\r\n */\n\nfunction getRippleModel(rippleOptions) {\n  var rippleModel = {\n    selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n    ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n    rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n    isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n    duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n  };\n  return rippleModel;\n}\n/**\r\n * Handler for ripple event\r\n *\r\n * @param {MouseEvent} e ?\r\n * @returns {void} ?\r\n * @private\r\n */\n\n\nfunction rippleHandler(e) {\n  var target = e.target;\n  var selector = this.rippleOptions.selector;\n  var element = selector ? closest(target, selector) : target;\n\n  if (!element || this.rippleOptions && closest(target, this.rippleOptions.ignore)) {\n    return;\n  }\n\n  var offset = element.getBoundingClientRect();\n  var offsetX = e.pageX - document.body.scrollLeft;\n  var offsetY = e.pageY - (!document.body.scrollTop && document.documentElement ? document.documentElement.scrollTop : document.body.scrollTop);\n  var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n  var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n  var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n  var diameter = radius * 2 + 'px';\n  var x = offsetX - offset.left - radius;\n  var y = offsetY - offset.top - radius;\n\n  if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n    x = 0;\n    y = 0;\n    diameter = '100%';\n  }\n\n  element.classList.add('e-ripple');\n  var duration = this.rippleOptions.duration.toString();\n  var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' + 'transition-duration: ' + duration + 'ms;';\n  var rippleElement = createElement('div', {\n    className: 'e-ripple-element',\n    styles: styles\n  });\n  element.appendChild(rippleElement);\n  window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n  rippleElement.style.transform = 'scale(1)';\n\n  if (element !== this.parent) {\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, {\n      parent: this.parent,\n      rippleOptions: this.rippleOptions\n    });\n  }\n}\n/**\r\n * Handler for ripple element mouse up event\r\n *\r\n * @param {MouseEvent} e ?\r\n * @returns {void} ?\r\n * @private\r\n */\n\n\nfunction rippleUpHandler(e) {\n  removeRipple(e, this);\n}\n/**\r\n * Handler for ripple element mouse move event\r\n *\r\n * @param {MouseEvent} e ?\r\n * @returns {void} ?\r\n * @private\r\n */\n\n\nfunction rippleLeaveHandler(e) {\n  removeRipple(e, this);\n}\n/**\r\n * Handler for removing ripple element\r\n *\r\n * @param {MouseEvent} e ?\r\n * @param {RippleArgs} eventArgs ?\r\n * @returns {void} ?\r\n * @private\r\n */\n\n\nfunction removeRipple(e, eventArgs) {\n  var duration = eventArgs.rippleOptions.duration;\n  var target = e.target;\n  var selector = eventArgs.rippleOptions.selector;\n  var element = selector ? closest(target, selector) : target;\n\n  if (!element || element && element.className.indexOf('e-ripple') === -1) {\n    return;\n  }\n\n  var rippleElements = selectAll('.e-ripple-element', element);\n  var rippleElement = rippleElements[rippleElements.length - 1];\n\n  if (rippleElement) {\n    rippleElement.style.opacity = '0.5';\n  }\n\n  if (eventArgs.parent !== element) {\n    EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n  }\n  /* tslint:disable:align */\n\n\n  setTimeout(function () {\n    if (rippleElement && rippleElement.parentNode) {\n      rippleElement.parentNode.removeChild(rippleElement);\n    }\n\n    if (!element.getElementsByClassName('e-ripple-element').length) {\n      element.classList.remove('e-ripple');\n    }\n\n    if (eventArgs.done) {\n      eventArgs.done(e);\n    }\n  }, duration);\n}\n\nexport var isRippleEnabled = false;\n/**\r\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\r\n *\r\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\r\n * @returns {boolean} ?\r\n */\n\nexport function enableRipple(isRipple) {\n  isRippleEnabled = isRipple;\n  return isRippleEnabled;\n}","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-base/src/animation.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","createElement","selectAll","closest","Base","Browser","EventHandler","Property","NotifyPropertyChanges","Event","Animation","_super","options","_this","call","undefined","easing","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","element","model","getModel","elements","slice","document","_i","elements_1","element_1","delayAnimation","stop","style","animation","removeAttribute","animationId","getAttribute","frameId","parseInt","cancelAnimationFrame","end","delay","setTimeout","applyAnimation","timeStamp","step","timerId","prevTimeStamp","duration","setAttribute","startAnimation","begin","avg","name","timingFunction","progress","requestAnimationFrame","toString","e","fail","onPropertyChanged","newProp","oldProp","getModuleName","destroy","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","add","rippleHandler","parent","rippleUpHandler","rippleLeaveHandler","isPointer","remove","selector","ignore","isCenterRipple","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","classList","styles","rippleElement","className","appendChild","window","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","indexOf","rippleElements","opacity","parentNode","removeChild","getElementsByClassName","enableRipple","isRipple"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { createElement, selectAll, closest } from './dom';\r\nimport { Base } from './base';\r\nimport { Browser } from './browser';\r\nimport { EventHandler } from './event-handler';\r\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\r\n/**\r\n * The Animation framework provide options to animate the html DOM elements\r\n * ```typescript\r\n *   let animeObject = new Animation({\r\n *      name: 'SlideLeftIn',\r\n *      duration: 1000\r\n *   });\r\n *   animeObject.animate('#anime1');\r\n *   animeObject.animate('#anime2', { duration: 500 });\r\n * ```\r\n */\r\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation(options) {\r\n        var _this = _super.call(this, options, undefined) || this;\r\n        /**\r\n         * @private\r\n         */\r\n        _this.easing = {\r\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\r\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\r\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\r\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\r\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\r\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\r\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\r\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\r\n        };\r\n        return _this;\r\n    }\r\n    Animation_1 = Animation;\r\n    /**\r\n     * Applies animation to the current element.\r\n     *\r\n     * @param {string | HTMLElement} element - Element which needs to be animated.\r\n     * @param {AnimationModel} options - Overriding default animation settings.\r\n     * @returns {void} ?\r\n     */\r\n    Animation.prototype.animate = function (element, options) {\r\n        options = !options ? {} : options;\r\n        var model = this.getModel(options);\r\n        if (typeof element === 'string') {\r\n            var elements = Array.prototype.slice.call(selectAll(element, document));\r\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\r\n                var element_1 = elements_1[_i];\r\n                model.element = element_1;\r\n                Animation_1.delayAnimation(model);\r\n            }\r\n        }\r\n        else {\r\n            model.element = element;\r\n            Animation_1.delayAnimation(model);\r\n        }\r\n    };\r\n    /**\r\n     * Stop the animation effect on animated element.\r\n     *\r\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\r\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\r\n     * @return {void}\r\n     */\r\n    Animation.stop = function (element, model) {\r\n        element.style.animation = '';\r\n        element.removeAttribute('e-animate');\r\n        var animationId = element.getAttribute('e-animation-id');\r\n        if (animationId) {\r\n            var frameId = parseInt(animationId, 10);\r\n            cancelAnimationFrame(frameId);\r\n            element.removeAttribute('e-animation-id');\r\n        }\r\n        if (model && model.end) {\r\n            model.end.call(this, model);\r\n        }\r\n    };\r\n    /**\r\n     * Set delay to animation element\r\n     *\r\n     * @param {AnimationModel} model ?\r\n     * @returns {void}\r\n     */\r\n    Animation.delayAnimation = function (model) {\r\n        if (model.delay) {\r\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\r\n        }\r\n        else {\r\n            Animation_1.applyAnimation(model);\r\n        }\r\n    };\r\n    /**\r\n     * Triggers animation\r\n     *\r\n     * @param {AnimationModel} model ?\r\n     * @returns {void}\r\n     */\r\n    Animation.applyAnimation = function (model) {\r\n        var _this = this;\r\n        model.timeStamp = 0;\r\n        var step = 0;\r\n        var timerId = 0;\r\n        var prevTimeStamp = 0;\r\n        var duration = model.duration;\r\n        model.element.setAttribute('e-animate', 'true');\r\n        var startAnimation = function (timeStamp) {\r\n            try {\r\n                if (timeStamp) {\r\n                    // let step: number = model.timeStamp = timeStamp - startTime;\r\n                    /** phantomjs workaround for timestamp fix */\r\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\r\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\r\n                    prevTimeStamp = timeStamp;\r\n                    /** phantomjs workaround end */\r\n                    // trigger animation begin event\r\n                    if (!step && model.begin) {\r\n                        model.begin.call(_this, model);\r\n                    }\r\n                    step = step + 1;\r\n                    var avg = model.timeStamp / step;\r\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\r\n                        // apply animation effect to the current element\r\n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\r\n                        if (model.progress) {\r\n                            model.progress.call(_this, model);\r\n                        }\r\n                        // repeat requestAnimationFrame\r\n                        requestAnimationFrame(startAnimation);\r\n                    }\r\n                    else {\r\n                        // clear requestAnimationFrame\r\n                        cancelAnimationFrame(timerId);\r\n                        model.element.removeAttribute('e-animation-id');\r\n                        model.element.removeAttribute('e-animate');\r\n                        model.element.style.animation = '';\r\n                        if (model.end) {\r\n                            model.end.call(_this, model);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //startTime = performance.now();\r\n                    // set initial requestAnimationFrame\r\n                    timerId = requestAnimationFrame(startAnimation);\r\n                    model.element.setAttribute('e-animation-id', timerId.toString());\r\n                }\r\n            }\r\n            catch (e) {\r\n                cancelAnimationFrame(timerId);\r\n                model.element.removeAttribute('e-animation-id');\r\n                if (model.fail) {\r\n                    model.fail.call(_this, e);\r\n                }\r\n            }\r\n        };\r\n        startAnimation();\r\n    };\r\n    /**\r\n     * Returns Animation Model\r\n     *\r\n     * @param {AnimationModel} options ?\r\n     * @returns {AnimationModel} ?\r\n     */\r\n    Animation.prototype.getModel = function (options) {\r\n        return {\r\n            name: options.name || this.name,\r\n            delay: options.delay || this.delay,\r\n            duration: (options.duration !== undefined ? options.duration : this.duration),\r\n            begin: options.begin || this.begin,\r\n            end: options.end || this.end,\r\n            fail: options.fail || this.fail,\r\n            progress: options.progress || this.progress,\r\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\r\n                (options.timingFunction || this.easing[this.timingFunction])\r\n        };\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {AnimationModel} newProp ?\r\n     * @param {AnimationModel} oldProp ?\r\n     * @returns {void} ?\r\n     */\r\n    // eslint-disable-next-line\r\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        // no code needed\r\n    };\r\n    /**\r\n     * Returns module name as animation\r\n     *\r\n     * @private\r\n     * @returns {void} ?\r\n     */\r\n    Animation.prototype.getModuleName = function () {\r\n        return 'animation';\r\n    };\r\n    /**\r\n     *\r\n     * @private\r\n     * @returns {void} ?\r\n     */\r\n    Animation.prototype.destroy = function () {\r\n        //Override base destroy;\r\n    };\r\n    var Animation_1;\r\n    __decorate([\r\n        Property('FadeIn')\r\n    ], Animation.prototype, \"name\", void 0);\r\n    __decorate([\r\n        Property(400)\r\n    ], Animation.prototype, \"duration\", void 0);\r\n    __decorate([\r\n        Property('ease')\r\n    ], Animation.prototype, \"timingFunction\", void 0);\r\n    __decorate([\r\n        Property(0)\r\n    ], Animation.prototype, \"delay\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Animation.prototype, \"progress\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Animation.prototype, \"begin\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Animation.prototype, \"end\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Animation.prototype, \"fail\", void 0);\r\n    Animation = Animation_1 = __decorate([\r\n        NotifyPropertyChanges\r\n    ], Animation);\r\n    return Animation;\r\n}(Base));\r\nexport { Animation };\r\n/**\r\n * Ripple provides material theme's wave effect when an element is clicked\r\n * ```html\r\n * <div id='ripple'></div>\r\n * <script>\r\n *   rippleEffect(document.getElementById('ripple'));\r\n * </script>\r\n * ```\r\n *\r\n * @private\r\n * @param {HTMLElement} element - Target element\r\n * @param {RippleOptions} rippleOptions - Ripple options .\r\n * @param {Function} done .\r\n * @returns {void} .\r\n */\r\nexport function rippleEffect(element, rippleOptions, done) {\r\n    var rippleModel = getRippleModel(rippleOptions);\r\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\r\n        return (function () { });\r\n    }\r\n    element.setAttribute('data-ripple', 'true');\r\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\r\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\r\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\r\n    if (Browser.isPointer) {\r\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\r\n    }\r\n    return (function () {\r\n        element.removeAttribute('data-ripple');\r\n        EventHandler.remove(element, 'mousedown', rippleHandler);\r\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\r\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\r\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\r\n    });\r\n}\r\n/**\r\n * Handler for ripple model\r\n *\r\n * @param {RippleOptions} rippleOptions ?\r\n * @returns {RippleOptions} ?\r\n */\r\nfunction getRippleModel(rippleOptions) {\r\n    var rippleModel = {\r\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\r\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\r\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\r\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\r\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\r\n    };\r\n    return rippleModel;\r\n}\r\n/**\r\n * Handler for ripple event\r\n *\r\n * @param {MouseEvent} e ?\r\n * @returns {void} ?\r\n * @private\r\n */\r\nfunction rippleHandler(e) {\r\n    var target = (e.target);\r\n    var selector = this.rippleOptions.selector;\r\n    var element = selector ? closest(target, selector) : target;\r\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\r\n        return;\r\n    }\r\n    var offset = element.getBoundingClientRect();\r\n    var offsetX = e.pageX - document.body.scrollLeft;\r\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\r\n        document.documentElement.scrollTop : document.body.scrollTop);\r\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\r\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\r\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\r\n    var diameter = radius * 2 + 'px';\r\n    var x = offsetX - offset.left - radius;\r\n    var y = offsetY - offset.top - radius;\r\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\r\n        x = 0;\r\n        y = 0;\r\n        diameter = '100%';\r\n    }\r\n    element.classList.add('e-ripple');\r\n    var duration = this.rippleOptions.duration.toString();\r\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\r\n        'transition-duration: ' + duration + 'ms;';\r\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\r\n    element.appendChild(rippleElement);\r\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\r\n    rippleElement.style.transform = 'scale(1)';\r\n    if (element !== this.parent) {\r\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\r\n    }\r\n}\r\n/**\r\n * Handler for ripple element mouse up event\r\n *\r\n * @param {MouseEvent} e ?\r\n * @returns {void} ?\r\n * @private\r\n */\r\nfunction rippleUpHandler(e) {\r\n    removeRipple(e, this);\r\n}\r\n/**\r\n * Handler for ripple element mouse move event\r\n *\r\n * @param {MouseEvent} e ?\r\n * @returns {void} ?\r\n * @private\r\n */\r\nfunction rippleLeaveHandler(e) {\r\n    removeRipple(e, this);\r\n}\r\n/**\r\n * Handler for removing ripple element\r\n *\r\n * @param {MouseEvent} e ?\r\n * @param {RippleArgs} eventArgs ?\r\n * @returns {void} ?\r\n * @private\r\n */\r\nfunction removeRipple(e, eventArgs) {\r\n    var duration = eventArgs.rippleOptions.duration;\r\n    var target = (e.target);\r\n    var selector = eventArgs.rippleOptions.selector;\r\n    var element = selector ? closest(target, selector) : target;\r\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\r\n        return;\r\n    }\r\n    var rippleElements = selectAll('.e-ripple-element', element);\r\n    var rippleElement = rippleElements[rippleElements.length - 1];\r\n    if (rippleElement) {\r\n        rippleElement.style.opacity = '0.5';\r\n    }\r\n    if (eventArgs.parent !== element) {\r\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\r\n    }\r\n    /* tslint:disable:align */\r\n    setTimeout(function () {\r\n        if (rippleElement && rippleElement.parentNode) {\r\n            rippleElement.parentNode.removeChild(rippleElement);\r\n        }\r\n        if (!element.getElementsByClassName('e-ripple-element').length) {\r\n            element.classList.remove('e-ripple');\r\n        }\r\n        if (eventArgs.done) {\r\n            eventArgs.done(e);\r\n        }\r\n    }, duration);\r\n}\r\nexport var isRippleEnabled = false;\r\n/**\r\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\r\n *\r\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\r\n * @returns {boolean} ?\r\n */\r\nexport function enableRipple(isRipple) {\r\n    isRippleEnabled = isRipple;\r\n    return isRippleEnabled;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}