{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/ban-types */\n\n/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable valid-jsdoc */\n\n\nimport { Component, Complex, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { createElement, remove, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { createSvg, RectOption, measureText, TextOption, renderTextElement } from '../smithchart/utils/helper';\nimport { removeElement, textTrim } from '../smithchart/utils/helper';\nimport { SmithchartRect } from '../smithchart/utils/utils';\nimport { SmithchartMargin, SmithchartBorder, SmithchartFont } from '../smithchart/utils/utils';\nimport { getThemeColor } from '../smithchart/model/theme';\nimport { SmithchartLegendSettings } from '../smithchart/legend/legend';\nimport { SmithchartAxis } from '../smithchart/axis/axis';\nimport { Title } from '../smithchart/title/title';\nimport { SmithchartSeries } from '../smithchart/series/series';\nimport { AreaBounds } from '../smithchart/utils/area';\nimport { AxisRender } from '../smithchart/axis/axisrender';\nimport { SeriesRender } from '../smithchart/series/seriesrender';\nimport { Collection } from '@syncfusion/ej2-base';\nimport { getSeriesColor } from '../smithchart/model/theme';\nimport { ExportUtils } from '../smithchart/utils/export';\nimport { titleRender, subtitleRender, load, loaded } from '../smithchart/model/constant';\n/**\r\n * Represents the Smithchart control.\r\n * ```html\r\n * <div id=\"smithchart\"/>\r\n * <script>\r\n *   var chartObj = new Smithchart({ isResponsive : true });\r\n *   chartObj.appendTo(\"#smithchart\");\r\n * </script>\r\n * ```\r\n */\n\nvar Smithchart =\n/** @class */\nfunction (_super) {\n  __extends(Smithchart, _super);\n  /**\r\n   * Constructor for creating the Smithchart widget\r\n   */\n\n\n  function Smithchart(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\r\n   * Get component name\r\n   */\n\n\n  Smithchart.prototype.getModuleName = function () {\n    return 'smithchart';\n  };\n  /**\r\n   * Get the properties to be maintained in the persisted state.\r\n   *\r\n   * @private\r\n   */\n\n\n  Smithchart.prototype.getPersistData = function () {\n    return '';\n  };\n  /**\r\n   * Method to create SVG element.\r\n   */\n\n\n  Smithchart.prototype.createChartSvg = function () {\n    this.removeSvg();\n    createSvg(this);\n  };\n\n  Smithchart.prototype.renderTitle = function (title, type, groupEle) {\n    var _this = this;\n\n    var font = title.font ? title.font : title.textStyle;\n    var textSize = measureText(title.text, font);\n    var x;\n    var textAlignment = title.textAlignment;\n    var titleText = title.text;\n    var maxTitleWidth = isNullOrUndefined(title.maximumWidth) ? Math.abs(this.margin.left + this.margin.right - this.availableSize.width) : title.maximumWidth;\n    var titleWidthEnable = textSize.width > maxTitleWidth ? true : false;\n\n    if (textSize.width > this.availableSize.width) {\n      x = this.margin.left + this.border.width;\n    } else {\n      x = textAlignment === 'Center' ? this.availableSize.width / 2 - textSize['width'] / 2 : textAlignment === 'Near' ? this.margin.left + this.elementSpacing + this.border.width : this.availableSize.width - textSize['width'] - (this.margin.right + this.elementSpacing + this.border.width);\n    }\n\n    var y = this.margin.top + textSize['height'] / 2 + this.elementSpacing;\n\n    if (title.enableTrim && titleWidthEnable) {\n      titleText = textTrim(maxTitleWidth, title.text, font);\n      textSize = measureText(titleText, font);\n    }\n\n    groupEle = this.renderer.createGroup({\n      id: this.element.id + '_Title_Group'\n    });\n    var titleEventArgs = {\n      text: titleText,\n      x: x,\n      y: y,\n      name: titleRender,\n      cancel: false\n    };\n    var options;\n\n    var titleRenderSuccess = function (args) {\n      if (!args.cancel) {\n        options = new TextOption(_this.element.id + '_Smithchart_' + type, args.x, args.y, 'start', args.text);\n        font.fontFamily = _this.themeStyle.fontFamily || title.textStyle.fontFamily;\n        font.size = _this.themeStyle.fontSize || title.textStyle.size;\n        var element = renderTextElement(options, font, _this.themeStyle.chartTitle, groupEle);\n        element.setAttribute('aria-label', title.description || args.text);\n        var titleLocation = {\n          x: args.x,\n          y: args.y,\n          textSize: textSize\n        };\n\n        _this.svgObject.appendChild(groupEle);\n\n        if (title.subtitle.text !== '' && title.subtitle.visible) {\n          _this.renderSubtitle(title, type, textSize, _this.availableSize, titleLocation, groupEle);\n        }\n      }\n    };\n\n    titleRenderSuccess.bind(this);\n    this.trigger(titleRender, titleEventArgs, titleRenderSuccess);\n  };\n\n  Smithchart.prototype.renderSubtitle = function (title, type, textSize, size, titleLocation, groupEle) {\n    var _this = this;\n\n    var font = title.subtitle.textStyle;\n    var subTitle = title.subtitle;\n    var subTitleSize = measureText(subTitle.text, font);\n    var subTitleText = subTitle.text;\n    var maxSubTitleWidth = isNullOrUndefined(subTitle.maximumWidth) ? this.bounds.width * 0.75 : subTitle.maximumWidth;\n\n    if (subTitle.enableTrim && subTitleSize.width > maxSubTitleWidth) {\n      subTitleText = textTrim(maxSubTitleWidth, subTitle.text, font);\n    }\n\n    var x = title['subtitle'].textAlignment === 'Far' ? titleLocation.x + titleLocation.textSize.width : title['subtitle'].textAlignment === 'Near' ? titleLocation.x : titleLocation.x + titleLocation.textSize.width / 2;\n    var y = titleLocation.y + 2 * this.elementSpacing;\n    var textAnchor = title['subtitle'].textAlignment === 'Far' ? 'end' : title['subtitle'].textAlignment === 'Near' ? 'start' : 'middle';\n    var subtitleEventArgs = {\n      text: subTitleText,\n      x: x,\n      y: y,\n      name: subtitleRender,\n      cancel: false\n    };\n\n    var subtitleRenderSuccess = function (args) {\n      if (!args.cancel) {\n        var options = new TextOption(_this.element.id + '_Smithchart_' + type, args.x, args.y, textAnchor, args.text);\n        var element = renderTextElement(options, font, _this.themeStyle.chartTitle, groupEle);\n        element.setAttribute('aria-label', subTitle.description || args.text);\n        groupEle.appendChild(element);\n      }\n    };\n\n    subtitleRenderSuccess.bind(this);\n    this.trigger(subtitleRender, subtitleEventArgs, subtitleRenderSuccess);\n  };\n  /**\r\n   * Render the smithchart border\r\n   *\r\n   * @private\r\n   */\n\n\n  Smithchart.prototype.renderBorder = function () {\n    var border = this.border;\n    this.background = this.background ? this.background : this.themeStyle.background;\n    var borderRect = new RectOption(this.element.id + '_SmithchartBorder', this.background, border, 1, new SmithchartRect(border.width / 2, border.width / 2, this.availableSize.width - border.width, this.availableSize.height - border.width));\n    this.svgObject.appendChild(this.renderer.drawRectangle(borderRect));\n  };\n  /**\r\n   * Called internally if any of the property value changed.\r\n   *\r\n   * @private\r\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Smithchart.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var renderer = false;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'background':\n        case 'border':\n        case 'series':\n        case 'legendSettings':\n        case 'radius':\n          renderer = true;\n          break;\n\n        case 'size':\n          this.createChartSvg();\n          renderer = true;\n          break;\n\n        case 'theme':\n        case 'renderType':\n          this.animateSeries = true;\n          renderer = true;\n          break;\n      }\n    }\n\n    if (renderer) {\n      this.render();\n    }\n  };\n  /**\r\n   * Initialize the event handler.\r\n   */\n\n\n  Smithchart.prototype.preRender = function () {\n    this.allowServerDataBinding = false;\n    this.trigger(load, {\n      smithchart: this\n    });\n    this.unWireEVents();\n    this.initPrivateVariable();\n    this.wireEVents();\n  };\n\n  Smithchart.prototype.initPrivateVariable = function () {\n    this.animateSeries = true;\n  };\n  /**\r\n   * To Initialize the control rendering.\r\n   */\n\n\n  Smithchart.prototype.setTheme = function () {\n    /*! Set theme */\n    this.themeStyle = getThemeColor(this.theme);\n    this.seriesColors = getSeriesColor(this.theme); // let count: number = colors.length;\n    // for (let i: number = 0; i < this.series.length; i++) {\n    //     this.series[i].fill = this.series[i].fill ? this.series[i].fill : colors[i % count];\n    // }\n  };\n\n  Smithchart.prototype.render = function () {\n    this.createChartSvg();\n    this.element.appendChild(this.svgObject);\n    this.setTheme();\n    this.createSecondaryElement();\n    this.renderBorder();\n\n    if (this.smithchartLegendModule && this.legendSettings.visible) {\n      this.legendBounds = this.smithchartLegendModule.renderLegend(this);\n    }\n\n    this.legendBounds = this.legendBounds ? this.legendBounds : {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    var areaBounds = new AreaBounds();\n    this.bounds = areaBounds.calculateAreaBounds(this, this.title, this.legendBounds);\n\n    if (this.title.text !== '' && this.title.visible) {\n      this.renderTitle(this.title, 'title', null);\n    }\n\n    var axisRender = new AxisRender();\n    axisRender.renderArea(this, this.bounds);\n    this.seriesrender = new SeriesRender();\n    this.seriesrender.draw(this, axisRender, this.bounds);\n    this.renderComplete();\n    this.allowServerDataBinding = true;\n    this.trigger(loaded, {\n      smithchart: this\n    });\n  };\n\n  Smithchart.prototype.createSecondaryElement = function () {\n    if (isNullOrUndefined(document.getElementById(this.element.id + '_Secondary_Element'))) {\n      var secondaryElement = createElement('div', {\n        id: this.element.id + '_Secondary_Element',\n        styles: 'z-index:1;'\n      });\n      this.element.appendChild(secondaryElement);\n      var rect = this.element.getBoundingClientRect();\n      var svgRect = document.getElementById(this.element.id + '_svg');\n\n      if (svgRect) {\n        var svgClientRect = svgRect.getBoundingClientRect();\n        secondaryElement.style.left = Math.max(svgClientRect.left - rect.left, 0) + 'px';\n        secondaryElement.style.top = Math.max(svgClientRect.top - rect.top, 0) + 'px';\n      }\n    } else {\n      removeElement(this.element.id + '_Secondary_Element');\n    }\n  };\n  /**\r\n   * To destroy the widget\r\n   *\r\n   * @returns {void}.\r\n   */\n\n\n  Smithchart.prototype.destroy = function () {\n    if (this.element) {\n      this.unWireEVents();\n\n      _super.prototype.destroy.call(this);\n\n      this.element.classList.remove('e-smithchart');\n      this.removeSvg();\n      this.svgObject = null;\n    }\n  };\n  /**\r\n   * To bind event handlers for smithchart.\r\n   */\n\n\n  Smithchart.prototype.wireEVents = function () {\n    EventHandler.add(this.element, 'click', this.smithchartOnClick, this);\n    EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\n    EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\n    window.addEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.smithchartOnResize.bind(this));\n  };\n\n  Smithchart.prototype.mouseMove = function (e) {\n    if (e.type === 'touchmove') {\n      this.isTouch = true;\n    } else {\n      this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\n    }\n\n    if (this.tooltipRenderModule && !this.isTouch) {\n      this.tooltipRenderModule.smithchartMouseMove(this, e);\n    }\n  };\n\n  Smithchart.prototype.mouseEnd = function (e) {\n    if (e.type === 'touchend') {\n      this.isTouch = true;\n    } else {\n      this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n    }\n\n    if (this.tooltipRenderModule && this.isTouch) {\n      var tooltipElement_1 = this.tooltipRenderModule.smithchartMouseMove(this, e);\n\n      if (tooltipElement_1) {\n        this.fadeoutTo = +setTimeout(function () {\n          tooltipElement_1.fadeOut();\n        }, 2000);\n      }\n    }\n  };\n  /**\r\n   * To handle the click event for the smithchart.\r\n   */\n\n\n  Smithchart.prototype.smithchartOnClick = function (e) {\n    var targetEle = e.target;\n    var targetId = targetEle.id;\n    var parentElement = document.getElementById(targetId).parentElement;\n    var grpElement = document.getElementById(parentElement.id).parentElement;\n\n    if (grpElement.id === 'containerlegendItem_Group' && this.legendSettings.toggleVisibility) {\n      var childElement = parentElement.childNodes[1];\n      var circleElement = parentElement.childNodes[0];\n      var legendText = childElement.textContent;\n      var seriesIndex = void 0;\n      var fill = void 0;\n\n      for (var i = 0; i < this.smithchartLegendModule.legendSeries.length; i++) {\n        if (legendText === this.smithchartLegendModule.legendSeries[i]['text']) {\n          seriesIndex = this.smithchartLegendModule.legendSeries[i].seriesIndex;\n          fill = this.smithchartLegendModule.legendSeries[i].fill;\n        }\n      }\n\n      var seriesElement = document.getElementById(this.element.id + '_svg' + '_seriesCollection' + seriesIndex);\n\n      if (seriesElement.getAttribute('visibility') === 'visible') {\n        circleElement.setAttribute('fill', 'gray');\n        seriesElement.setAttribute('visibility', 'hidden');\n        this.series[seriesIndex].visibility = 'hidden';\n      } else {\n        circleElement.setAttribute('fill', fill);\n        seriesElement.setAttribute('visibility', 'visible');\n        this.series[seriesIndex].visibility = 'visible';\n      }\n    }\n  };\n  /**\r\n   * To unbind event handlers from smithchart.\r\n   */\n\n\n  Smithchart.prototype.unWireEVents = function () {\n    EventHandler.remove(this.element, 'click', this.smithchartOnClick);\n    EventHandler.remove(this.element, Browser.touchMoveEvent, this.mouseMove);\n    EventHandler.remove(this.element, Browser.touchEndEvent, this.mouseEnd);\n    window.removeEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.smithchartOnResize);\n  };\n\n  Smithchart.prototype.print = function (id) {\n    var exportChart = new ExportUtils(this);\n    exportChart.print(id);\n  };\n  /**\r\n   * Handles the export method for chart control.\r\n   */\n\n\n  Smithchart.prototype.export = function (type, fileName, orientation) {\n    var exportMap = new ExportUtils(this);\n    exportMap.export(type, fileName, orientation);\n  };\n  /**\r\n   * To handle the window resize event on smithchart.\r\n   */\n\n\n  Smithchart.prototype.smithchartOnResize = function () {\n    var _this = this;\n\n    this.animateSeries = false;\n\n    if (this.resizeTo) {\n      clearTimeout(this.resizeTo);\n    }\n\n    this.resizeTo = +setTimeout(function () {\n      _this.render();\n    }, 500);\n    return false;\n  };\n  /**\r\n   * To provide the array of modules needed for smithchart rendering\r\n   *\r\n   * @private\r\n   */\n\n\n  Smithchart.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this.legendSettings.visible) {\n      modules.push({\n        member: 'SmithchartLegend',\n        args: [this]\n      });\n    }\n\n    for (var i = 0; i < this.series.length; i++) {\n      if (this.series[i].tooltip.visible) {\n        modules.push({\n          member: 'TooltipRender',\n          args: [this]\n        });\n        break;\n      }\n    }\n\n    return modules;\n  };\n  /**\r\n   * To Remove the SVG.\r\n   *\r\n   * @private\r\n   */\n\n\n  Smithchart.prototype.removeSvg = function () {\n    removeElement(this.element.id + '_Secondary_Element');\n    var removeLength = 0;\n\n    if (this.svgObject) {\n      while (this.svgObject.childNodes.length > removeLength) {\n        this.svgObject.removeChild(this.svgObject.firstChild);\n      }\n\n      if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n        remove(this.svgObject);\n      }\n    }\n  };\n\n  __decorate([Property('Impedance')], Smithchart.prototype, \"renderType\", void 0);\n\n  __decorate([Property('')], Smithchart.prototype, \"width\", void 0);\n\n  __decorate([Property('')], Smithchart.prototype, \"height\", void 0);\n\n  __decorate([Property('Material')], Smithchart.prototype, \"theme\", void 0);\n\n  __decorate([Complex({}, SmithchartMargin)], Smithchart.prototype, \"margin\", void 0);\n\n  __decorate([Complex({}, SmithchartFont)], Smithchart.prototype, \"font\", void 0);\n\n  __decorate([Complex({}, SmithchartBorder)], Smithchart.prototype, \"border\", void 0);\n\n  __decorate([Complex({}, Title)], Smithchart.prototype, \"title\", void 0);\n\n  __decorate([Collection([{}], SmithchartSeries)], Smithchart.prototype, \"series\", void 0);\n\n  __decorate([Complex({}, SmithchartLegendSettings)], Smithchart.prototype, \"legendSettings\", void 0);\n\n  __decorate([Complex({}, SmithchartAxis)], Smithchart.prototype, \"horizontalAxis\", void 0);\n\n  __decorate([Complex({}, SmithchartAxis)], Smithchart.prototype, \"radialAxis\", void 0);\n\n  __decorate([Property(null)], Smithchart.prototype, \"background\", void 0);\n\n  __decorate([Property(10)], Smithchart.prototype, \"elementSpacing\", void 0);\n\n  __decorate([Property(1)], Smithchart.prototype, \"radius\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"beforePrint\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"animationComplete\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"load\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"loaded\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"legendRender\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"titleRender\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"subtitleRender\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"textRender\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"axisLabelRender\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"seriesRender\", void 0);\n\n  __decorate([Event()], Smithchart.prototype, \"tooltipRender\", void 0);\n\n  Smithchart = __decorate([NotifyPropertyChanges], Smithchart);\n  return Smithchart;\n}(Component);\n\nexport { Smithchart };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/smithchart/smithchart.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Complex","NotifyPropertyChanges","Property","isNullOrUndefined","Browser","createElement","remove","Event","EventHandler","createSvg","RectOption","measureText","TextOption","renderTextElement","removeElement","textTrim","SmithchartRect","SmithchartMargin","SmithchartBorder","SmithchartFont","getThemeColor","SmithchartLegendSettings","SmithchartAxis","Title","SmithchartSeries","AreaBounds","AxisRender","SeriesRender","Collection","getSeriesColor","ExportUtils","titleRender","subtitleRender","load","loaded","Smithchart","_super","options","element","call","getModuleName","getPersistData","createChartSvg","removeSvg","renderTitle","title","type","groupEle","_this","font","textStyle","textSize","text","x","textAlignment","titleText","maxTitleWidth","maximumWidth","Math","abs","margin","left","right","availableSize","width","titleWidthEnable","border","elementSpacing","y","top","enableTrim","renderer","createGroup","id","titleEventArgs","name","cancel","titleRenderSuccess","args","fontFamily","themeStyle","size","fontSize","chartTitle","setAttribute","description","titleLocation","svgObject","appendChild","subtitle","visible","renderSubtitle","bind","trigger","subTitle","subTitleSize","subTitleText","maxSubTitleWidth","bounds","textAnchor","subtitleEventArgs","subtitleRenderSuccess","renderBorder","background","borderRect","height","drawRectangle","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","animateSeries","render","preRender","allowServerDataBinding","smithchart","unWireEVents","initPrivateVariable","wireEVents","setTheme","theme","seriesColors","createSecondaryElement","smithchartLegendModule","legendSettings","legendBounds","renderLegend","areaBounds","calculateAreaBounds","axisRender","renderArea","seriesrender","draw","renderComplete","document","getElementById","secondaryElement","styles","rect","getBoundingClientRect","svgRect","svgClientRect","style","max","destroy","classList","add","smithchartOnClick","touchMoveEvent","mouseMove","touchEndEvent","mouseEnd","window","addEventListener","isTouch","smithchartOnResize","e","pointerType","tooltipRenderModule","smithchartMouseMove","tooltipElement_1","fadeoutTo","setTimeout","fadeOut","targetEle","targetId","parentElement","grpElement","toggleVisibility","childElement","childNodes","circleElement","legendText","textContent","seriesIndex","fill","legendSeries","seriesElement","getAttribute","series","visibility","removeEventListener","print","exportChart","export","fileName","orientation","exportMap","resizeTo","clearTimeout","requiredModules","modules","push","member","tooltip","removeLength","removeChild","firstChild","hasChildNodes","parentNode"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable jsdoc/require-returns */\r\n/* eslint-disable @typescript-eslint/no-inferrable-types */\r\n/* eslint-disable jsdoc/require-param */\r\n/* eslint-disable valid-jsdoc */\r\nimport { Component, Complex, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\r\nimport { isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\r\nimport { createElement, remove, Event, EventHandler } from '@syncfusion/ej2-base';\r\nimport { createSvg, RectOption, measureText, TextOption, renderTextElement } from '../smithchart/utils/helper';\r\nimport { removeElement, textTrim } from '../smithchart/utils/helper';\r\nimport { SmithchartRect } from '../smithchart/utils/utils';\r\nimport { SmithchartMargin, SmithchartBorder, SmithchartFont } from '../smithchart/utils/utils';\r\nimport { getThemeColor } from '../smithchart/model/theme';\r\nimport { SmithchartLegendSettings } from '../smithchart/legend/legend';\r\nimport { SmithchartAxis } from '../smithchart/axis/axis';\r\nimport { Title } from '../smithchart/title/title';\r\nimport { SmithchartSeries } from '../smithchart/series/series';\r\nimport { AreaBounds } from '../smithchart/utils/area';\r\nimport { AxisRender } from '../smithchart/axis/axisrender';\r\nimport { SeriesRender } from '../smithchart/series/seriesrender';\r\nimport { Collection } from '@syncfusion/ej2-base';\r\nimport { getSeriesColor } from '../smithchart/model/theme';\r\nimport { ExportUtils } from '../smithchart/utils/export';\r\nimport { titleRender, subtitleRender, load, loaded } from '../smithchart/model/constant';\r\n/**\r\n * Represents the Smithchart control.\r\n * ```html\r\n * <div id=\"smithchart\"/>\r\n * <script>\r\n *   var chartObj = new Smithchart({ isResponsive : true });\r\n *   chartObj.appendTo(\"#smithchart\");\r\n * </script>\r\n * ```\r\n */\r\nvar Smithchart = /** @class */ (function (_super) {\r\n    __extends(Smithchart, _super);\r\n    /**\r\n     * Constructor for creating the Smithchart widget\r\n     */\r\n    function Smithchart(options, element) {\r\n        return _super.call(this, options, element) || this;\r\n    }\r\n    /**\r\n     * Get component name\r\n     */\r\n    Smithchart.prototype.getModuleName = function () {\r\n        return 'smithchart';\r\n    };\r\n    /**\r\n     * Get the properties to be maintained in the persisted state.\r\n     *\r\n     * @private\r\n     */\r\n    Smithchart.prototype.getPersistData = function () {\r\n        return '';\r\n    };\r\n    /**\r\n     * Method to create SVG element.\r\n     */\r\n    Smithchart.prototype.createChartSvg = function () {\r\n        this.removeSvg();\r\n        createSvg(this);\r\n    };\r\n    Smithchart.prototype.renderTitle = function (title, type, groupEle) {\r\n        var _this = this;\r\n        var font = title.font ? title.font : title.textStyle;\r\n        var textSize = measureText(title.text, font);\r\n        var x;\r\n        var textAlignment = title.textAlignment;\r\n        var titleText = title.text;\r\n        var maxTitleWidth = (isNullOrUndefined(title.maximumWidth)) ?\r\n            Math.abs(this.margin.left + this.margin.right - (this.availableSize.width)) :\r\n            title.maximumWidth;\r\n        var titleWidthEnable = textSize.width > maxTitleWidth ? true : false;\r\n        if (textSize.width > this.availableSize.width) {\r\n            x = this.margin.left + this.border.width;\r\n        }\r\n        else {\r\n            x = textAlignment === 'Center' ? (this.availableSize.width / 2 - textSize['width'] / 2) :\r\n                (textAlignment === 'Near' ? (this.margin.left + this.elementSpacing + this.border.width) : (this.availableSize.width\r\n                    - textSize['width'] - (this.margin.right + this.elementSpacing + this.border.width)));\r\n        }\r\n        var y = this.margin.top + textSize['height'] / 2 + this.elementSpacing;\r\n        if (title.enableTrim && titleWidthEnable) {\r\n            titleText = textTrim(maxTitleWidth, title.text, font);\r\n            textSize = measureText(titleText, font);\r\n        }\r\n        groupEle = this.renderer.createGroup({ id: this.element.id + '_Title_Group' });\r\n        var titleEventArgs = {\r\n            text: titleText,\r\n            x: x,\r\n            y: y,\r\n            name: titleRender,\r\n            cancel: false\r\n        };\r\n        var options;\r\n        var titleRenderSuccess = function (args) {\r\n            if (!args.cancel) {\r\n                options = new TextOption(_this.element.id + '_Smithchart_' + type, args.x, args.y, 'start', args.text);\r\n                font.fontFamily = _this.themeStyle.fontFamily || title.textStyle.fontFamily;\r\n                font.size = _this.themeStyle.fontSize || title.textStyle.size;\r\n                var element = renderTextElement(options, font, _this.themeStyle.chartTitle, groupEle);\r\n                element.setAttribute('aria-label', title.description || args.text);\r\n                var titleLocation = { x: args.x, y: args.y, textSize: textSize };\r\n                _this.svgObject.appendChild(groupEle);\r\n                if (title.subtitle.text !== '' && title.subtitle.visible) {\r\n                    _this.renderSubtitle(title, type, textSize, _this.availableSize, titleLocation, groupEle);\r\n                }\r\n            }\r\n        };\r\n        titleRenderSuccess.bind(this);\r\n        this.trigger(titleRender, titleEventArgs, titleRenderSuccess);\r\n    };\r\n    Smithchart.prototype.renderSubtitle = function (title, type, textSize, size, titleLocation, groupEle) {\r\n        var _this = this;\r\n        var font = title.subtitle.textStyle;\r\n        var subTitle = title.subtitle;\r\n        var subTitleSize = measureText(subTitle.text, font);\r\n        var subTitleText = subTitle.text;\r\n        var maxSubTitleWidth = isNullOrUndefined(subTitle.maximumWidth) ?\r\n            (this.bounds.width * 0.75) : subTitle.maximumWidth;\r\n        if (subTitle.enableTrim && subTitleSize.width > maxSubTitleWidth) {\r\n            subTitleText = textTrim(maxSubTitleWidth, subTitle.text, font);\r\n        }\r\n        var x = title['subtitle'].textAlignment === 'Far' ? (titleLocation.x + (titleLocation.textSize.width)) :\r\n            (title['subtitle'].textAlignment === 'Near') ? titleLocation.x :\r\n                (titleLocation.x + (titleLocation.textSize.width / 2));\r\n        var y = titleLocation.y + (2 * this.elementSpacing);\r\n        var textAnchor = title['subtitle'].textAlignment === 'Far' ? 'end' :\r\n            (title['subtitle'].textAlignment === 'Near') ? 'start' : 'middle';\r\n        var subtitleEventArgs = {\r\n            text: subTitleText,\r\n            x: x,\r\n            y: y,\r\n            name: subtitleRender,\r\n            cancel: false\r\n        };\r\n        var subtitleRenderSuccess = function (args) {\r\n            if (!args.cancel) {\r\n                var options = new TextOption(_this.element.id + '_Smithchart_' + type, args.x, args.y, textAnchor, args.text);\r\n                var element = renderTextElement(options, font, _this.themeStyle.chartTitle, groupEle);\r\n                element.setAttribute('aria-label', subTitle.description || args.text);\r\n                groupEle.appendChild(element);\r\n            }\r\n        };\r\n        subtitleRenderSuccess.bind(this);\r\n        this.trigger(subtitleRender, subtitleEventArgs, subtitleRenderSuccess);\r\n    };\r\n    /**\r\n     * Render the smithchart border\r\n     *\r\n     * @private\r\n     */\r\n    Smithchart.prototype.renderBorder = function () {\r\n        var border = this.border;\r\n        this.background = this.background ? this.background : this.themeStyle.background;\r\n        var borderRect = new RectOption(this.element.id + '_SmithchartBorder', this.background, border, 1, new SmithchartRect(border.width / 2, border.width / 2, this.availableSize.width - border.width, this.availableSize.height - border.width));\r\n        this.svgObject.appendChild(this.renderer.drawRectangle(borderRect));\r\n    };\r\n    /**\r\n     * Called internally if any of the property value changed.\r\n     *\r\n     * @private\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    Smithchart.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        var renderer = false;\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'background':\r\n                case 'border':\r\n                case 'series':\r\n                case 'legendSettings':\r\n                case 'radius':\r\n                    renderer = true;\r\n                    break;\r\n                case 'size':\r\n                    this.createChartSvg();\r\n                    renderer = true;\r\n                    break;\r\n                case 'theme':\r\n                case 'renderType':\r\n                    this.animateSeries = true;\r\n                    renderer = true;\r\n                    break;\r\n            }\r\n        }\r\n        if (renderer) {\r\n            this.render();\r\n        }\r\n    };\r\n    /**\r\n     * Initialize the event handler.\r\n     */\r\n    Smithchart.prototype.preRender = function () {\r\n        this.allowServerDataBinding = false;\r\n        this.trigger(load, { smithchart: this });\r\n        this.unWireEVents();\r\n        this.initPrivateVariable();\r\n        this.wireEVents();\r\n    };\r\n    Smithchart.prototype.initPrivateVariable = function () {\r\n        this.animateSeries = true;\r\n    };\r\n    /**\r\n     * To Initialize the control rendering.\r\n     */\r\n    Smithchart.prototype.setTheme = function () {\r\n        /*! Set theme */\r\n        this.themeStyle = getThemeColor(this.theme);\r\n        this.seriesColors = getSeriesColor(this.theme);\r\n        // let count: number = colors.length;\r\n        // for (let i: number = 0; i < this.series.length; i++) {\r\n        //     this.series[i].fill = this.series[i].fill ? this.series[i].fill : colors[i % count];\r\n        // }\r\n    };\r\n    Smithchart.prototype.render = function () {\r\n        this.createChartSvg();\r\n        this.element.appendChild(this.svgObject);\r\n        this.setTheme();\r\n        this.createSecondaryElement();\r\n        this.renderBorder();\r\n        if (this.smithchartLegendModule && this.legendSettings.visible) {\r\n            this.legendBounds = this.smithchartLegendModule.renderLegend(this);\r\n        }\r\n        this.legendBounds = this.legendBounds ? this.legendBounds : { x: 0, y: 0, width: 0, height: 0 };\r\n        var areaBounds = new AreaBounds();\r\n        this.bounds = areaBounds.calculateAreaBounds(this, this.title, this.legendBounds);\r\n        if (this.title.text !== '' && this.title.visible) {\r\n            this.renderTitle(this.title, 'title', null);\r\n        }\r\n        var axisRender = new AxisRender();\r\n        axisRender.renderArea(this, this.bounds);\r\n        this.seriesrender = new SeriesRender();\r\n        this.seriesrender.draw(this, axisRender, this.bounds);\r\n        this.renderComplete();\r\n        this.allowServerDataBinding = true;\r\n        this.trigger(loaded, { smithchart: this });\r\n    };\r\n    Smithchart.prototype.createSecondaryElement = function () {\r\n        if (isNullOrUndefined(document.getElementById(this.element.id + '_Secondary_Element'))) {\r\n            var secondaryElement = createElement('div', {\r\n                id: this.element.id + '_Secondary_Element',\r\n                styles: 'z-index:1;'\r\n            });\r\n            this.element.appendChild(secondaryElement);\r\n            var rect = this.element.getBoundingClientRect();\r\n            var svgRect = document.getElementById(this.element.id + '_svg');\r\n            if (svgRect) {\r\n                var svgClientRect = svgRect.getBoundingClientRect();\r\n                secondaryElement.style.left = Math.max(svgClientRect.left - rect.left, 0) + 'px';\r\n                secondaryElement.style.top = Math.max(svgClientRect.top - rect.top, 0) + 'px';\r\n            }\r\n        }\r\n        else {\r\n            removeElement(this.element.id + '_Secondary_Element');\r\n        }\r\n    };\r\n    /**\r\n     * To destroy the widget\r\n     *\r\n     * @returns {void}.\r\n     */\r\n    Smithchart.prototype.destroy = function () {\r\n        if (this.element) {\r\n            this.unWireEVents();\r\n            _super.prototype.destroy.call(this);\r\n            this.element.classList.remove('e-smithchart');\r\n            this.removeSvg();\r\n            this.svgObject = null;\r\n        }\r\n    };\r\n    /**\r\n     * To bind event handlers for smithchart.\r\n     */\r\n    Smithchart.prototype.wireEVents = function () {\r\n        EventHandler.add(this.element, 'click', this.smithchartOnClick, this);\r\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\r\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\r\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.smithchartOnResize.bind(this));\r\n    };\r\n    Smithchart.prototype.mouseMove = function (e) {\r\n        if (e.type === 'touchmove') {\r\n            this.isTouch = true;\r\n        }\r\n        else {\r\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\r\n        }\r\n        if (this.tooltipRenderModule && !this.isTouch) {\r\n            this.tooltipRenderModule.smithchartMouseMove(this, e);\r\n        }\r\n    };\r\n    Smithchart.prototype.mouseEnd = function (e) {\r\n        if (e.type === 'touchend') {\r\n            this.isTouch = true;\r\n        }\r\n        else {\r\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\r\n        }\r\n        if (this.tooltipRenderModule && this.isTouch) {\r\n            var tooltipElement_1 = this.tooltipRenderModule.smithchartMouseMove(this, e);\r\n            if (tooltipElement_1) {\r\n                this.fadeoutTo = +setTimeout(function () {\r\n                    tooltipElement_1.fadeOut();\r\n                }, 2000);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To handle the click event for the smithchart.\r\n     */\r\n    Smithchart.prototype.smithchartOnClick = function (e) {\r\n        var targetEle = e.target;\r\n        var targetId = targetEle.id;\r\n        var parentElement = document.getElementById(targetId).parentElement;\r\n        var grpElement = document.getElementById(parentElement.id).parentElement;\r\n        if (grpElement.id === 'containerlegendItem_Group' && this.legendSettings.toggleVisibility) {\r\n            var childElement = parentElement.childNodes[1];\r\n            var circleElement = parentElement.childNodes[0];\r\n            var legendText = childElement.textContent;\r\n            var seriesIndex = void 0;\r\n            var fill = void 0;\r\n            for (var i = 0; i < this.smithchartLegendModule.legendSeries.length; i++) {\r\n                if (legendText === this.smithchartLegendModule.legendSeries[i]['text']) {\r\n                    seriesIndex = this.smithchartLegendModule.legendSeries[i].seriesIndex;\r\n                    fill = this.smithchartLegendModule.legendSeries[i].fill;\r\n                }\r\n            }\r\n            var seriesElement = document.getElementById(this.element.id + '_svg' + '_seriesCollection' + seriesIndex);\r\n            if (seriesElement.getAttribute('visibility') === 'visible') {\r\n                circleElement.setAttribute('fill', 'gray');\r\n                seriesElement.setAttribute('visibility', 'hidden');\r\n                this.series[seriesIndex].visibility = 'hidden';\r\n            }\r\n            else {\r\n                circleElement.setAttribute('fill', fill);\r\n                seriesElement.setAttribute('visibility', 'visible');\r\n                this.series[seriesIndex].visibility = 'visible';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To unbind event handlers from smithchart.\r\n     */\r\n    Smithchart.prototype.unWireEVents = function () {\r\n        EventHandler.remove(this.element, 'click', this.smithchartOnClick);\r\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.mouseMove);\r\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.mouseEnd);\r\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.smithchartOnResize);\r\n    };\r\n    Smithchart.prototype.print = function (id) {\r\n        var exportChart = new ExportUtils(this);\r\n        exportChart.print(id);\r\n    };\r\n    /**\r\n     * Handles the export method for chart control.\r\n     */\r\n    Smithchart.prototype.export = function (type, fileName, orientation) {\r\n        var exportMap = new ExportUtils(this);\r\n        exportMap.export(type, fileName, orientation);\r\n    };\r\n    /**\r\n     * To handle the window resize event on smithchart.\r\n     */\r\n    Smithchart.prototype.smithchartOnResize = function () {\r\n        var _this = this;\r\n        this.animateSeries = false;\r\n        if (this.resizeTo) {\r\n            clearTimeout(this.resizeTo);\r\n        }\r\n        this.resizeTo = +setTimeout(function () {\r\n            _this.render();\r\n        }, 500);\r\n        return false;\r\n    };\r\n    /**\r\n     * To provide the array of modules needed for smithchart rendering\r\n     *\r\n     * @private\r\n     */\r\n    Smithchart.prototype.requiredModules = function () {\r\n        var modules = [];\r\n        if (this.legendSettings.visible) {\r\n            modules.push({\r\n                member: 'SmithchartLegend',\r\n                args: [this]\r\n            });\r\n        }\r\n        for (var i = 0; i < this.series.length; i++) {\r\n            if (this.series[i].tooltip.visible) {\r\n                modules.push({\r\n                    member: 'TooltipRender',\r\n                    args: [this]\r\n                });\r\n                break;\r\n            }\r\n        }\r\n        return modules;\r\n    };\r\n    /**\r\n     * To Remove the SVG.\r\n     *\r\n     * @private\r\n     */\r\n    Smithchart.prototype.removeSvg = function () {\r\n        removeElement(this.element.id + '_Secondary_Element');\r\n        var removeLength = 0;\r\n        if (this.svgObject) {\r\n            while (this.svgObject.childNodes.length > removeLength) {\r\n                this.svgObject.removeChild(this.svgObject.firstChild);\r\n            }\r\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\r\n                remove(this.svgObject);\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        Property('Impedance')\r\n    ], Smithchart.prototype, \"renderType\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Smithchart.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Smithchart.prototype, \"height\", void 0);\r\n    __decorate([\r\n        Property('Material')\r\n    ], Smithchart.prototype, \"theme\", void 0);\r\n    __decorate([\r\n        Complex({}, SmithchartMargin)\r\n    ], Smithchart.prototype, \"margin\", void 0);\r\n    __decorate([\r\n        Complex({}, SmithchartFont)\r\n    ], Smithchart.prototype, \"font\", void 0);\r\n    __decorate([\r\n        Complex({}, SmithchartBorder)\r\n    ], Smithchart.prototype, \"border\", void 0);\r\n    __decorate([\r\n        Complex({}, Title)\r\n    ], Smithchart.prototype, \"title\", void 0);\r\n    __decorate([\r\n        Collection([{}], SmithchartSeries)\r\n    ], Smithchart.prototype, \"series\", void 0);\r\n    __decorate([\r\n        Complex({}, SmithchartLegendSettings)\r\n    ], Smithchart.prototype, \"legendSettings\", void 0);\r\n    __decorate([\r\n        Complex({}, SmithchartAxis)\r\n    ], Smithchart.prototype, \"horizontalAxis\", void 0);\r\n    __decorate([\r\n        Complex({}, SmithchartAxis)\r\n    ], Smithchart.prototype, \"radialAxis\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Smithchart.prototype, \"background\", void 0);\r\n    __decorate([\r\n        Property(10)\r\n    ], Smithchart.prototype, \"elementSpacing\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], Smithchart.prototype, \"radius\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"beforePrint\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"animationComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"load\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"loaded\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"legendRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"titleRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"subtitleRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"textRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"axisLabelRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"seriesRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Smithchart.prototype, \"tooltipRender\", void 0);\r\n    Smithchart = __decorate([\r\n        NotifyPropertyChanges\r\n    ], Smithchart);\r\n    return Smithchart;\r\n}(Component));\r\nexport { Smithchart };\r\n"]},"metadata":{},"sourceType":"module"}