{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable valid-jsdoc */\n\n/* eslint-disable @typescript-eslint/ban-types */\n\n\nimport { Component, Property, NotifyPropertyChanges, Browser, Complex, Event } from '@syncfusion/ej2-base';\nimport { EventHandler, remove, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\nimport { SvgRenderer, Rect, Size, measureText, TextOption } from '@syncfusion/ej2-svg-base';\nimport { Margin, Animation, Border } from '../common/model/base';\nimport { BulletChartAxis } from './renderer/bullet-axis';\nimport { BulletChartTheme } from './utils/theme';\nimport { ScaleGroup } from './renderer/scale-render';\nimport { redrawElement, textElement, getElement, appendChildElement, RectOption, stringToNumber } from '../common/utils/helper';\nimport { getTitle, logBase } from '../common/utils/helper';\nimport { BulletTooltipSettings, Range, BulletLabelStyle, BulletDataLabel } from './model/bullet-base';\nimport { MajorTickLinesSettings, MinorTickLinesSettings } from './model/bullet-base';\nimport { BulletChartLegendSettings } from '../bullet-chart/model/bullet-base';\nimport { resized, bulletChartMouseClick } from '../common/model/constants';\nimport { getBulletThemeColor } from './utils/theme';\nimport { ExportUtils } from '../common/utils/export';\n/**\r\n * bullet chart\r\n */\n\nvar BulletChart =\n/** @class */\nfunction (_super) {\n  __extends(BulletChart, _super);\n  /**\r\n   * Constructor for creating the bullet chart\r\n   *\r\n   * @hidden\r\n   */\n\n\n  function BulletChart(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /** @private */\n\n\n    _this.bulletid = 57726;\n    /** @private */\n\n    _this.animateSeries = true;\n    _this.padding = 5;\n    /** @private */\n\n    _this.leftSize = 0;\n    /** @private */\n\n    _this.rightSize = 0;\n    /** @private */\n\n    _this.topSize = 0;\n    /** @private */\n\n    _this.bottomSize = 0;\n    /** @private */\n\n    _this.maxLabelSize = new Size(0, 0);\n    _this.maxTitleSize = new Size(0, 0);\n    /** @private */\n\n    _this.intervalDivs = [10, 5, 2, 1];\n    return _this;\n  }\n  /**\r\n   * Initialize the event handler.\r\n   */\n\n\n  BulletChart.prototype.preRender = function () {\n    this.allowServerDataBinding = false;\n    this.unWireEvents();\n    this.initPrivateValues();\n    this.setCulture();\n    this.wireEvents();\n  };\n  /**\r\n   * To initialize the private variables\r\n   */\n\n\n  BulletChart.prototype.initPrivateValues = function () {\n    this.delayRedraw = false;\n    this.scale = new ScaleGroup(this);\n    this.bulletAxis = new BulletChartAxis(this);\n\n    if (this.element.id === '') {\n      var collection = document.getElementsByClassName('e-BulletChart').length;\n      this.element.id = 'BulletChart_' + this.bulletid + '_' + collection;\n    }\n  };\n  /**\r\n   * Method to set culture for BulletChart\r\n   */\n\n\n  BulletChart.prototype.setCulture = function () {\n    this.intl = new Internationalization();\n  };\n  /**\r\n   * To Initialize the bullet chart rendering.\r\n   */\n\n\n  BulletChart.prototype.render = function () {\n    var _this = this;\n\n    var loadEventData = {\n      bulletChart: this,\n      theme: this.theme,\n      name: 'load'\n    };\n    this.trigger('load', loadEventData, function () {\n      _this.theme = _this.theme;\n\n      _this.setTheme();\n\n      _this.createSvg(_this);\n\n      _this.findRange();\n\n      if (_this.bulletChartLegendModule && _this.legendSettings.visible) {\n        _this.calculateVisibleElements();\n\n        _this.bulletChartLegendModule.getLegendOptions(_this.visibleRanges);\n      }\n\n      _this.calculatePosition();\n\n      _this.renderBulletElements();\n\n      _this.trigger('loaded', {\n        bulletChart: _this\n      });\n\n      _this.allowServerDataBinding = true;\n\n      _this.renderComplete();\n    });\n  };\n  /**\r\n   * Theming for bullet chart\r\n   */\n\n\n  BulletChart.prototype.setTheme = function () {\n    this.themeStyle = getBulletThemeColor(this.theme);\n  };\n\n  BulletChart.prototype.findRange = function () {\n    if (!this.minimum) {\n      this.minimum = 0;\n    }\n\n    if (!this.maximum) {\n      this.maximum = 0;\n\n      for (var i = 0; i < this.ranges.length; i++) {\n        this.maximum = this.maximum > this.ranges[i].end ? this.maximum : this.ranges[i].end;\n      }\n    }\n\n    if (this.maximum === null) {\n      if (!isNullOrUndefined(this.dataSource)) {\n        for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\n          if (this.dataSource[i][this.targetField] > this.dataSource[i][this.valueField]) {\n            this.maximum = this.maximum > this.dataSource[i][this.targetField] ? this.maximum + this.interval : this.dataSource[i][this.targetField] + this.interval;\n          } else {\n            this.maximum = this.maximum > this.dataSource[i][this.valueField] ? this.maximum + this.interval : this.dataSource[i][this.valueField] + this.interval;\n          }\n        }\n      } else {\n        this.maximum = 10;\n      }\n    }\n\n    if (!this.interval) {\n      this.interval = this.calculateNumericNiceInterval(this.maximum - this.minimum);\n    }\n  };\n\n  BulletChart.prototype.getActualDesiredIntervalsCount = function (availableSize) {\n    var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\n    var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * 3;\n    desiredIntervalsCount = Math.max(size * (desiredIntervalsCount / 100), 1);\n    return desiredIntervalsCount;\n  };\n  /**\r\n   * Numeric Nice Interval for the axis.\r\n   *\r\n   * @private\r\n   * @returns {number} calculateNumericNiceInterval.\r\n   */\n\n\n  BulletChart.prototype.calculateNumericNiceInterval = function (delta) {\n    var actualDesiredIntervalsCount = this.getActualDesiredIntervalsCount(this.availableSize);\n    var niceInterval = delta / actualDesiredIntervalsCount;\n    var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\n\n    for (var _i = 0, _a = this.intervalDivs; _i < _a.length; _i++) {\n      var interval = _a[_i];\n      var currentInterval = minInterval * interval;\n\n      if (actualDesiredIntervalsCount < delta / currentInterval) {\n        break;\n      }\n\n      niceInterval = currentInterval;\n    }\n\n    return niceInterval;\n  };\n  /**\r\n   * To set the left and top position for data label template for center aligned bulletchart\r\n   */\n\n\n  BulletChart.prototype.setSecondaryElementPosition = function () {\n    var element = getElement(this.element.id + '_Secondary_Element');\n\n    if (!element) {\n      return;\n    }\n\n    var rect = this.element.getBoundingClientRect();\n    var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\n    element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n    element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n    element.style.position = 'relative';\n  };\n  /**\r\n   * Method to create SVG element.\r\n   */\n\n\n  BulletChart.prototype.createSvg = function (chart) {\n    this.removeSvg();\n    chart.renderer = new SvgRenderer(chart.element.id);\n    this.calculateAvailableSize(this);\n    chart.svgObject = chart.renderer.createSvg({\n      id: chart.element.id + '_svg',\n      width: chart.availableSize.width,\n      height: chart.availableSize.height\n    });\n    this.renderChartBackground();\n  };\n  /**\r\n   * Creating a background element to the svg object\r\n   */\n\n\n  BulletChart.prototype.renderChartBackground = function () {\n    var rect = new RectOption(this.element.id + '_ChartBorder', this.themeStyle.background, {\n      width: this.border.width || 0,\n      color: this.border.color || 'transparent'\n    }, 1, new Rect(0, 0, this.availableSize.width, this.availableSize.height));\n    this.svgObject.appendChild(this.renderer.drawRectangle(rect));\n  };\n  /**\r\n   * Rendering the bullet elements\r\n   */\n\n\n  BulletChart.prototype.renderBulletElements = function () {\n    var scaleGroup = this.renderer.createGroup({\n      'id': this.svgObject.id + '_scaleGroup'\n    });\n    this.svgObject.appendChild(scaleGroup);\n    this.renderBulletChartTitle();\n    this.rangeCollection = this.scale.drawScaleGroup(scaleGroup);\n    var size = this.orientation === 'Horizontal' ? this.initialClipRect.width : this.initialClipRect.height;\n    var intervalValue = size / ((this.maximum - this.minimum) / this.interval);\n    this.bulletAxis.renderMajorTickLines(intervalValue, scaleGroup);\n    this.bulletAxis.renderMinorTickLines(intervalValue, scaleGroup);\n    this.bulletAxis.renderAxisLabels(intervalValue, scaleGroup);\n    this.bulletChartRect.x = this.titlePosition === 'Left' || this.titlePosition === 'Right' || this.orientation === 'Vertical' ? this.bulletChartRect.x : 0;\n    var elementId = this.element.id;\n\n    if (this.element.tagName !== 'g') {\n      var tooltipDiv = redrawElement(this.redraw, elementId + '_Secondary_Element') || this.createElement('div');\n      tooltipDiv.id = elementId + '_Secondary_Element';\n      appendChildElement(false, this.element, tooltipDiv, this.redraw);\n    }\n\n    if (this.tooltip.enable) {\n      appendChildElement(false, this.svgObject, this.renderer.createGroup({\n        id: elementId + '_UserInteraction',\n        style: 'pointer-events:none;'\n      }), this.redraw);\n    } //this.bulletAxis.renderYAxisLabels(intervalValue, scaleGroup, this.bulletChartRect);\n\n\n    this.bindData();\n    this.renderDataLabel();\n    this.renderBulletLegend(); //this.changeOrientation(scaleGroup);\n\n    this.element.appendChild(this.svgObject);\n    this.setSecondaryElementPosition();\n  };\n  /**\r\n   * To render the legend\r\n   */\n\n\n  BulletChart.prototype.renderBulletLegend = function () {\n    if (this.bulletChartLegendModule && this.bulletChartLegendModule.legendCollections.length) {\n      this.bulletChartLegendModule.calTotalPage = true;\n      var bounds = this.bulletChartLegendModule.legendBounds;\n      this.bulletChartLegendModule.renderLegend(this, this.legendSettings, bounds);\n    }\n  };\n  /**\r\n   * Handles the bullet chart resize.\r\n   *\r\n   * @returns {boolean}\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.bulletResize = function () {\n    var _this = this;\n\n    this.animateSeries = false;\n    var arg = {\n      chart: this,\n      name: resized,\n      currentSize: new Size(0, 0),\n      previousSize: new Size(this.availableSize.width, this.availableSize.height)\n    };\n\n    if (this.resizeTo) {\n      clearTimeout(this.resizeTo);\n    }\n\n    this.resizeTo = +setTimeout(function () {\n      if (_this.isDestroyed) {\n        clearTimeout(_this.resizeTo);\n        return;\n      }\n\n      _this.createSvg(_this);\n\n      arg.currentSize = _this.availableSize;\n\n      _this.trigger(resized, arg);\n\n      _this.calculatePosition();\n\n      _this.renderBulletElements();\n    }, 500);\n    return false;\n  };\n  /**\r\n   * Process the data values of feature and comparative measure bar\r\n   */\n\n\n  BulletChart.prototype.bindData = function () {\n    if (this.dataSource != null) {\n      this.dataCount = this.dataSource.length;\n      this.drawMeasures(this.dataCount);\n    }\n  };\n  /**\r\n   * Rendering the feature and comaparative measure bars\r\n   */\n\n\n  BulletChart.prototype.drawMeasures = function (dataCount) {\n    this.scale.renderFeatureBar(dataCount);\n    this.scale.renderComparativeSymbol(dataCount);\n  };\n  /**\r\n   * To calculate the title bounds\r\n   */\n\n\n  BulletChart.prototype.calculatePosition = function () {\n    var margin = this.margin; // Title Height;\n\n    var titleHeight = 0;\n    var subTitleHeight = 0;\n    var titleSize = new Size(0, 0);\n    var padding = 5;\n    this.titleCollections = [];\n    this.subTitleCollections = [];\n    var maxTitlteWidth = 0;\n    var maxTitlteHeight = 0;\n    var maxVerticalTitlteHeight = padding;\n\n    if (this.title) {\n      this.titleCollections = getTitle(this.title, this.titleStyle, this.titleStyle.maximumTitleWidth);\n      titleHeight = measureText(this.title, this.titleStyle).height * this.titleCollections.length + padding;\n\n      for (var _i = 0, _a = this.titleCollections; _i < _a.length; _i++) {\n        var titleText = _a[_i];\n        titleSize = measureText(titleText, this.titleStyle);\n        maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\n        maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\n      }\n\n      maxVerticalTitlteHeight += maxTitlteHeight;\n      this.subTitleCollections = getTitle(this.subtitle, this.subtitleStyle, this.titleStyle.maximumTitleWidth);\n\n      if (this.subtitle) {\n        for (var _b = 0, _c = this.subTitleCollections; _b < _c.length; _b++) {\n          var subText = _c[_b];\n          titleSize = measureText(subText, this.subtitleStyle);\n          maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\n          maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\n        }\n\n        subTitleHeight = measureText(this.subtitle, this.subtitleStyle).height * this.subTitleCollections.length + padding;\n        maxVerticalTitlteHeight += maxTitlteHeight;\n      }\n    }\n\n    this.maxTitleSize = new Size(maxTitlteWidth, this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteHeight);\n    this.maxLabelSize = this.getMaxLabelWidth();\n    this.initialClipRect = this.getBulletBounds(this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteWidth, titleHeight, subTitleHeight, margin);\n    this.bulletChartRect = new Rect(this.initialClipRect.x, this.initialClipRect.y, this.initialClipRect.width, this.initialClipRect.height);\n\n    if (this.bulletChartLegendModule) {\n      this.bulletChartLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize, this.maxLabelSize);\n    }\n  };\n  /**\r\n   * Calculate the rect values based on title position.\r\n   *\r\n   * @returns {void}\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.getBulletBounds = function (maxTitlteWidth, titleHeight, subTitleHeight, margin) {\n    var padding = 5;\n    var rect = new Rect(0, 0, 0, 0);\n    var enableRtl = this.enableRtl;\n    var labelSpace = this.labelPosition === this.tickPosition ? padding : 0;\n    var tickSize = this.tickPosition === 'Inside' ? 0 : this.majorTickLines.height;\n    var labelSize = this.labelPosition === 'Inside' ? 0 : padding + (this.tickPosition === 'Outside' ? 0 : measureText(this.maximum.toString(), this.labelStyle).height);\n    var topAxisLabel = 0;\n    var bottomAxisLabel = 0;\n    var leftAxisLabel = 0;\n    var rightAxisLabel = 0;\n    var topCategory = 0;\n    var bottomCategory = 0;\n    var leftCategory = 0;\n    var rightCategory = 0;\n    var title = maxTitlteWidth;\n    var format = this.bulletAxis.getFormat(this);\n    var isCustomFormat = format.match('{value}') !== null;\n    this.bulletAxis.format = this.intl.getNumberFormat({\n      format: isCustomFormat ? '' : format,\n      useGrouping: this.enableGroupSeparator\n    });\n    var formatted = measureText(this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, this.maximum), this.labelStyle).width;\n    var categoryLabelSize;\n\n    if (this.orientation === 'Horizontal') {\n      categoryLabelSize = this.maxLabelSize.width;\n      topAxisLabel = this.opposedPosition ? tickSize + labelSize + labelSpace : 0;\n      bottomAxisLabel = !this.opposedPosition ? tickSize + labelSize + labelSpace : 0;\n      leftCategory = categoryLabelSize && !enableRtl ? categoryLabelSize : 0;\n      leftCategory += title && this.titlePosition === 'Left' ? padding * 3 : 0;\n      rightCategory = categoryLabelSize && enableRtl ? categoryLabelSize : 0;\n      rightCategory += title && this.titlePosition === 'Right' ? padding : 0;\n    } else {\n      categoryLabelSize = this.maxLabelSize.height;\n      rightAxisLabel = this.opposedPosition ? tickSize + labelSpace : 0;\n      rightAxisLabel += this.opposedPosition && this.labelPosition !== 'Inside' ? formatted : 0;\n      leftAxisLabel = !this.opposedPosition ? tickSize + labelSpace : 0;\n      leftAxisLabel += !this.opposedPosition && this.labelPosition !== 'Inside' ? formatted : 0;\n      topCategory = categoryLabelSize && enableRtl ? categoryLabelSize + padding : 0;\n      bottomCategory = categoryLabelSize && !enableRtl ? categoryLabelSize + padding : 0;\n    }\n\n    switch (this.titlePosition) {\n      case 'Left':\n        rect.x = margin.left + title + leftCategory + leftAxisLabel;\n        rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n        rect.y = margin.top + topAxisLabel + topCategory;\n        rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n        break;\n\n      case 'Right':\n        rect.x = margin.left + leftCategory + leftAxisLabel;\n        rect.width = this.availableSize.width - rightAxisLabel - margin.right - rect.x - (title + padding) - rightCategory;\n        rect.y = margin.top + topAxisLabel + topCategory;\n        rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n        break;\n\n      case 'Top':\n        rect.x = margin.left + leftAxisLabel + leftCategory;\n        rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n        rect.y = margin.top + (titleHeight + subTitleHeight) + topAxisLabel + topCategory;\n        rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\n        break;\n\n      case 'Bottom':\n        rect.x = margin.left + leftAxisLabel + leftCategory;\n        rect.y = margin.top + topAxisLabel + topCategory;\n        rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\n        rect.height = this.availableSize.height - rect.y - bottomCategory - margin.bottom - bottomAxisLabel - (titleHeight + subTitleHeight);\n        break;\n    }\n\n    return rect;\n  };\n  /**\r\n   * Calculate maximum label width for category values.\r\n   *\r\n   * @private\r\n   * @returns {Size} To get a label width\r\n   */\n\n\n  BulletChart.prototype.getMaxLabelWidth = function () {\n    this.maxLabelSize = new Size(0, 0);\n\n    if (!this.categoryField) {\n      return this.maxLabelSize;\n    }\n\n    var label;\n\n    for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\n      label = measureText(this.dataSource[i][this.categoryField] || '', this.categoryLabelStyle);\n\n      if (label.width > this.maxLabelSize.width) {\n        this.maxLabelSize.width = label.width;\n      }\n\n      if (label.height > this.maxLabelSize.height) {\n        this.maxLabelSize.height = label.height;\n      }\n    }\n\n    return this.maxLabelSize;\n  };\n\n  BulletChart.prototype.calculateVisibleElements = function () {\n    var range;\n    var rangeCollection = this.ranges;\n    this.visibleRanges = [];\n\n    for (var i = 0, len = rangeCollection.length; i < len; i++) {\n      range = rangeCollection[i];\n      range.index = i; // eslint-disable-next-line no-self-assign\n\n      range.color = range.color;\n      this.visibleRanges.push(range);\n      rangeCollection[i] = range;\n    }\n  };\n  /**\r\n   * To render the title of the bullet chart\r\n   */\n\n\n  BulletChart.prototype.renderBulletChartTitle = function () {\n    var margin = this.margin;\n    var x = 0;\n    var y = 0;\n    var padding = 5;\n    var anchor = 'middle';\n    var transform = '';\n    var alignment = this.titleStyle.textAlignment;\n    var elementSize = measureText(this.title, this.titleStyle);\n    var subTitleSize = this.subtitle ? measureText(this.subtitle, this.subtitleStyle) : new Size(0, 0);\n\n    if (this.title) {\n      if (this.orientation === 'Horizontal') {\n        switch (this.titlePosition) {\n          case 'Top':\n            x = this.findHorizontalAlignment(margin);\n            anchor = alignment === 'Far' ? 'end' : alignment === 'Near' ? 'start' : 'middle';\n            y = margin.top + elementSize.height / 2 + padding;\n            break;\n\n          case 'Bottom':\n            x = this.findHorizontalAlignment(margin);\n            anchor = alignment === 'Far' ? 'end' : alignment === 'Near' ? 'start' : 'middle';\n            y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding * 2 - (subTitleSize.height ? subTitleSize.height + padding : 0);\n            break;\n\n          case 'Left':\n            anchor = 'end';\n            x = margin.left + this.maxTitleSize.width;\n            y = this.margin.top + this.availableSize.height / 2 - elementSize.height / 3 - (subTitleSize.height ? subTitleSize.height : 0);\n            break;\n\n          case 'Right':\n            anchor = 'start';\n            x = this.availableSize.width - margin.right - this.maxTitleSize.width + padding;\n            y = this.margin.top + this.availableSize.height / 2 - elementSize.height / 3 - (subTitleSize.height ? subTitleSize.height : 0);\n            break;\n        }\n      } else {\n        switch (this.titlePosition) {\n          case 'Top':\n            x = this.availableSize.width / 2 + padding * 2;\n            y = this.margin.top + elementSize.height / 2 + padding;\n            break;\n\n          case 'Bottom':\n            x = this.availableSize.width / 2;\n            y = this.availableSize.height - this.margin.bottom - elementSize.height / 3 + padding * 2 - (subTitleSize.height ? subTitleSize.height + padding : 0);\n            break;\n\n          case 'Left':\n            y = this.findVerticalAlignment(margin);\n            anchor = alignment === 'Far' ? 'start' : alignment === 'Near' ? 'end' : 'middle';\n            x = margin.left;\n            break;\n\n          case 'Right':\n            x = this.availableSize.width - margin.right - elementSize.height / 3;\n            anchor = alignment === 'Far' ? 'start' : alignment === 'Near' ? 'end' : 'middle';\n            y = this.findVerticalAlignment(margin);\n            break;\n        }\n\n        transform = this.titlePosition === 'Left' ? 'rotate(-90,' + x + ',' + y + ')' : this.titlePosition === 'Right' ? 'rotate(90,' + x + ',' + y + ')' : '';\n      }\n\n      var options = new TextOption(this.element.id + '_BulletChartTitle', x, y, anchor, this.titleCollections, transform, 'auto');\n      var element = textElement(this.renderer, options, this.titleStyle, this.titleStyle.color || this.themeStyle.titleFontColor, this.svgObject);\n\n      if (element) {\n        element.setAttribute('aria-label', this.title);\n        element.setAttribute('tabindex', this.tabIndex.toString());\n      }\n\n      if (this.subtitle) {\n        this.renderBulletChartSubTitle(x, y, anchor);\n      }\n    }\n  };\n  /**\r\n   * To render the data label for bullet chart\r\n   */\n\n\n  BulletChart.prototype.renderDataLabel = function () {\n    var x = 0;\n    var y = 0;\n    var elementSpacing = 10;\n    var anchor;\n    var transform = '';\n    var enableRtl = this.enableRtl;\n    var data;\n    var featureBounds;\n    var format = this.labelFormat ? this.labelFormat : '';\n    var isCustomFormat = format.match('{value}') !== null;\n\n    if (this.dataLabel.enable) {\n      for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\n        data = this.dataSource[i];\n        featureBounds = this.scale.featureBarBounds[i];\n        var labelText = data[this.valueField].toString();\n        this.format = this.intl.getNumberFormat({\n          format: isCustomFormat ? '' : format,\n          useGrouping: this.enableGroupSeparator\n        });\n        labelText = isCustomFormat ? format.replace('{value}', this.format(labelText)) : labelText;\n        var labelSize = measureText(labelText, this.dataLabel.labelStyle); // tslint:disable-next-line:no-string-literal\n\n        var textWidth = labelSize['width']; // tslint:disable-next-line:no-string-literal\n\n        var textHeight = labelSize['height'];\n\n        if (this.orientation === 'Horizontal') {\n          anchor = this.type === 'Rect' ? 'end' : enableRtl ? 'end' : 'start';\n          x = featureBounds.x + (enableRtl ? this.type === 'Rect' ? textWidth + elementSpacing : -elementSpacing : featureBounds.width) + (this.type === 'Rect' ? -elementSpacing / 2 : elementSpacing / 2);\n          y = featureBounds.y + featureBounds.height / 2;\n        } else {\n          anchor = 'middle';\n          x = featureBounds.y + featureBounds.height / 2;\n          y = featureBounds.x + (enableRtl ? featureBounds.width + (this.type === 'Rect' ? -textHeight : textHeight) : 0) + (this.type === 'Rect' ? elementSpacing : -elementSpacing);\n        }\n\n        var labelOptions = new TextOption(this.element.id + '_DataLabel_' + i, x, y, anchor, labelText, transform, 'middle');\n        textElement(this.renderer, labelOptions, this.dataLabel.labelStyle, this.dataLabel.labelStyle.color || this.themeStyle.dataLabelFontColor, this.svgObject);\n      }\n    }\n  };\n\n  BulletChart.prototype.findHorizontalAlignment = function (margin) {\n    var x = 0;\n\n    switch (this.titleStyle.textAlignment) {\n      case 'Center':\n        x = (this.availableSize.width - margin.left - margin.right) / 2;\n        break;\n\n      case 'Near':\n        x = margin.left;\n        break;\n\n      case 'Far':\n        x = this.availableSize.width - margin.right;\n        break;\n    }\n\n    return x;\n  };\n\n  BulletChart.prototype.findVerticalAlignment = function (margin) {\n    var y = 0;\n\n    switch (this.titleStyle.textAlignment) {\n      case 'Center':\n        y = (this.availableSize.height - margin.top - margin.bottom) / 2;\n        break;\n\n      case 'Near':\n        y = margin.top;\n        break;\n\n      case 'Far':\n        y = this.availableSize.height - margin.bottom;\n        break;\n    }\n\n    return y;\n  };\n  /**\r\n   * To render the sub title of the bullet chart\r\n   */\n\n\n  BulletChart.prototype.renderBulletChartSubTitle = function (x, y, anchor) {\n    var margin = this.margin;\n    var padding = 5;\n    var transform = '';\n    var elementSize = measureText(this.subtitle, this.subtitleStyle);\n\n    if (this.orientation === 'Horizontal') {\n      switch (this.titlePosition) {\n        case 'Top':\n          y = y + elementSize.height + padding / 2;\n          break;\n\n        case 'Bottom':\n          y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\n          break;\n\n        case 'Left':\n          y = y + elementSize.height + padding / 2;\n          break;\n\n        case 'Right':\n          y = y + elementSize.height + padding / 2;\n          break;\n      }\n    } else {\n      switch (this.titlePosition) {\n        case 'Top':\n          y = y + elementSize.height + padding / 2;\n          break;\n\n        case 'Bottom':\n          y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\n          break;\n\n        case 'Left':\n          x += elementSize.height + padding / 2;\n          break;\n\n        case 'Right':\n          x -= elementSize.height + padding / 2;\n          break;\n      }\n\n      transform = this.titlePosition === 'Left' ? 'rotate(-90,' + x + ',' + y + ')' : this.titlePosition === 'Right' ? 'rotate(90,' + x + ',' + y + ')' : '';\n    }\n\n    var subTitleOptions = new TextOption(this.element.id + '_BulletChartSubTitle', x, y, anchor, this.subTitleCollections, transform, 'auto');\n    var element = textElement(this.renderer, subTitleOptions, this.subtitleStyle, this.subtitleStyle.color || this.themeStyle.subTitleFontColor, this.svgObject);\n\n    if (element) {\n      element.setAttribute('aria-label', this.title);\n      element.setAttribute('tabindex', this.tabIndex.toString());\n    }\n  };\n  /**\r\n   * To calculate the available size and width of the container\r\n   */\n\n\n  BulletChart.prototype.calculateAvailableSize = function (bulletChart) {\n    var containerWidth = this.element.clientWidth || this.element.offsetWidth || 200;\n    var height = this.orientation === 'Vertical' ? 450 : this.titlePosition === 'Left' || this.titlePosition === 'Right' ? 83 : 126;\n    var containerHeight = this.element.clientHeight || height;\n    bulletChart.availableSize = new Size(stringToNumber(bulletChart.width, containerWidth) || containerWidth, stringToNumber(bulletChart.height, containerHeight) || containerHeight);\n  };\n\n  BulletChart.prototype.removeSvg = function () {\n    var svgElement = document.getElementById(this.element.id + '_svg');\n\n    if (svgElement) {\n      remove(svgElement);\n    }\n  };\n\n  BulletChart.prototype.getPersistData = function () {\n    var keyEntity = ['loaded'];\n    return this.addOnPersist(keyEntity);\n  };\n  /** Wire, UnWire and Event releated calculation Started here */\n\n  /**\r\n   * Method to un-bind events for bullet chart\r\n   */\n\n\n  BulletChart.prototype.unWireEvents = function () {\n    /*! Find the Events type */\n    var startEvent = Browser.touchStartEvent;\n    var moveEvent = Browser.touchMoveEvent;\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    /*! UnBind the Event handler */\n\n    EventHandler.remove(this.element, startEvent, this.bulletMouseDown);\n    EventHandler.remove(this.element, moveEvent, this.bulletMouseMove);\n    EventHandler.remove(this.element, cancelEvent, this.bulletMouseLeave);\n    EventHandler.remove(this.element, 'click', this.bulletChartOnMouseClick);\n    window.removeEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.resizeBound);\n  };\n  /**\r\n   * Method to bind events for bullet chart\r\n   */\n\n\n  BulletChart.prototype.wireEvents = function () {\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    /*! Bind the Event handler */\n\n    EventHandler.add(this.element, Browser.touchMoveEvent, this.bulletMouseMove, this);\n    EventHandler.add(this.element, cancelEvent, this.bulletMouseLeave, this);\n    EventHandler.add(this.element, Browser.touchStartEvent, this.bulletMouseDown, this);\n    EventHandler.add(this.element, 'click', this.bulletChartOnMouseClick, this);\n    this.resizeBound = this.bulletResize.bind(this);\n    window.addEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.resizeBound);\n    /*! Apply the style for chart */\n\n    this.setStyle(this.element);\n  };\n\n  BulletChart.prototype.setStyle = function (element) {\n    element.style.position = 'relative';\n    element.style.display = 'block';\n  };\n  /**\r\n   * Handles the mouse move on the bullet chart.\r\n   *\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.bulletMouseMove = function (e) {\n    var pageX = e.clientX;\n    var pageY = e.clientY;\n    this.setPointMouseXY(pageX, pageY);\n    var targetId = e.target.id; // tslint:disable-next-line:no-string-literal\n\n    var targetClass = e.target.className['baseVal'];\n\n    if (targetClass !== this.svgObject.id + '_FeatureMeasure' || this.svgObject.id + '_ComparativeMeasure') {\n      if (!isNullOrUndefined(this.dataSource)) {\n        for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\n          document.getElementById(this.svgObject.id + '_FeatureMeasure_' + i).setAttribute('opacity', '1');\n          document.getElementById(this.svgObject.id + '_ComparativeMeasure_' + i).setAttribute('opacity', '1');\n        }\n      }\n    }\n\n    if (!this.isTouchEvent(e)) {\n      var id = 'tooltipDiv' + this.element.id;\n      var tooltipDiv = document.getElementById(id);\n\n      if (tooltipDiv) {\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n          this.clearTemplate();\n        }\n\n        remove(tooltipDiv);\n      }\n\n      if (this.bulletTooltipModule) {\n        this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\n\n        this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\n      }\n    }\n  };\n  /**\r\n   * To find mouse x, y for aligned bullet chart element svg position\r\n   */\n\n\n  BulletChart.prototype.setPointMouseXY = function (pageX, pageY) {\n    var svgClientRect = getElement(this.svgObject.id).getBoundingClientRect();\n    var elemntClientRect = this.element.getBoundingClientRect();\n    this.mouseX = pageX - elemntClientRect.left - Math.max(svgClientRect.left - elemntClientRect.left, 0);\n    this.mouseY = pageY - elemntClientRect.top - Math.max(svgClientRect.top - elemntClientRect.top, 0);\n  };\n  /**\r\n   * Handles the mouse leave on the bullet chart.\r\n   *\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.bulletMouseLeave = function (e) {\n    if (!this.isTouchEvent(e)) {\n      var tooltipDiv = document.getElementById('.tooltipDiv' + this.element.id);\n\n      if (tooltipDiv) {\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n          this.clearTemplate();\n        }\n\n        remove(tooltipDiv);\n      }\n    }\n  };\n  /**\r\n   * Handles the touch event.\r\n   *\r\n   * @returns {boolean} Touchh event.\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.isTouchEvent = function (event) {\n    if (event.pointerType === 'touch' || event.type.indexOf('touch') > -1) {\n      return true;\n    }\n\n    return false;\n  };\n  /**\r\n   * Handles the mouse down on the bullet chart.\r\n   *\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.bulletMouseDown = function (e) {\n    if (this.isTouchEvent(e)) {\n      // tslint:disable-next-line:no-any\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      remove(document.getElementById('tooltipDiv' + this.element.id));\n      var targetId = e.target.id; // tslint:disable-next-line:no-string-literal\n\n      var targetClass = e.target.className['baseVal'];\n\n      if (this.bulletTooltipModule) {\n        this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\n\n        this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\n      }\n    }\n  };\n  /**\r\n   * Handles the mouse click on bullet chart.\r\n   *\r\n   * @returns {boolean} Mouse click of bullet chart.\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.bulletChartOnMouseClick = function (e) {\n    var element = e.target;\n    this.trigger(bulletChartMouseClick, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n    this.notify('click', e);\n    return false;\n  };\n  /**\r\n   * Handles the print method for bullet chart control.\r\n   */\n\n\n  BulletChart.prototype.print = function (id) {\n    new ExportUtils(this).print(id);\n  };\n  /**\r\n   * Handles the export method for bullet chart control.\r\n   *\r\n   * @param {ExportType} type Type of the export.\r\n   * @param {string} fileName File name for exporting.\r\n   * @param {PdfPageOrientation} orientation Orientation of the export.\r\n   * @param {Chart | AccumulationChart | RangeNavigator | BulletChart} controls To mention the exporting chart.\r\n   * @param {number} width Width of the export.\r\n   * @param {number} height Height of the export.\r\n   */\n\n\n  BulletChart.prototype.export = function (type, fileName, orientation, controls, width, height, isVertical) {\n    controls = controls ? controls : [this];\n    new ExportUtils(this).export(type, fileName, orientation, controls, width, height, isVertical);\n  };\n  /**\r\n   * Called internally if any of the property value changed.\r\n   *\r\n   * @private\r\n   */\n\n\n  BulletChart.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var renderer = false;\n    var refreshBounds = false;\n    this.animateSeries = false;\n\n    if (!this.delayRedraw) {\n      for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n        var prop = _a[_i];\n\n        switch (prop) {\n          case 'height':\n          case 'width':\n            this.createSvg(this);\n            refreshBounds = true;\n            break;\n\n          case 'subtitle':\n          case 'title':\n            refreshBounds = true;\n            break;\n\n          case 'tickPosition':\n            renderer = true;\n            break;\n\n          case 'labelPosition':\n            renderer = true;\n            break;\n\n          case 'titlePosition':\n            renderer = true;\n            break;\n\n          case 'minimum':\n          case 'maximum':\n          case 'interval':\n            refreshBounds = true;\n            break;\n\n          case 'majorTickLines':\n          case 'minorTickLines':\n          case 'type':\n          case 'ranges':\n          case 'valueFill':\n          case 'targetColor':\n            refreshBounds = true;\n            break;\n\n          case 'titleStyle':\n            if (newProp.titleStyle) {\n              refreshBounds = true;\n            } else {\n              renderer = true;\n            }\n\n            break;\n\n          case 'subtitleStyle':\n            if (newProp.subtitleStyle && (newProp.subtitleStyle.size || newProp.subtitleStyle.textOverflow)) {\n              refreshBounds = true;\n            } else {\n              renderer = true;\n            }\n\n            break;\n\n          case 'border':\n            renderer = true;\n            break;\n\n          case 'opposedPosition':\n            renderer = true;\n            break;\n\n          case 'dataSource':\n            this.bindData();\n            refreshBounds = true;\n            break;\n\n          case 'theme':\n            this.animateSeries = true;\n            break;\n\n          case 'locale':\n          case 'currencyCode':\n            _super.prototype.refresh.call(this);\n\n            break;\n        }\n      }\n\n      if (!refreshBounds && renderer) {\n        this.removeSvg();\n        this.renderBulletElements();\n        this.trigger('loaded', {\n          bulletChart: this\n        });\n      }\n\n      if (refreshBounds) {\n        this.render();\n        this.trigger('loaded', {\n          bulletChart: this\n        });\n        this.redraw = false;\n      }\n    }\n  };\n  /**\r\n   * To provide the array of modules needed for bullet chart rendering\r\n   *\r\n   * @private\r\n   * @returns {ModuleDeclaration[]} requiredModules\r\n   */\n\n\n  BulletChart.prototype.requiredModules = function () {\n    var modules = [];\n    var rangeName;\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (this.ranges[i].name !== null) {\n        rangeName = true;\n      }\n    }\n\n    this.isLegend = this.legendSettings.visible && (rangeName || !!this.isLegend || this.targetField !== '' || this.valueField !== '');\n\n    if (this.tooltip.enable) {\n      modules.push({\n        member: 'BulletTooltip',\n        args: [this]\n      });\n    }\n\n    if (this.isLegend) {\n      modules.push({\n        member: 'BulletChartLegend',\n        args: [this]\n      });\n    }\n\n    return modules;\n  };\n\n  BulletChart.prototype.getModuleName = function () {\n    return 'bulletChart';\n  };\n  /**\r\n   * To destroy the widget\r\n   *\r\n   * @returns {void} Destroy method\r\n   * @member of BulletChart\r\n   */\n\n\n  BulletChart.prototype.destroy = function () {\n    this.unWireEvents();\n\n    _super.prototype.destroy.call(this);\n\n    this.removeSvg();\n    this.svgObject = null;\n    this.element.classList.remove('e-BulletChart');\n    this.element.innerHTML = '';\n  };\n\n  __decorate([Property(null)], BulletChart.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"height\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"locale\", void 0);\n\n  __decorate([Complex({}, MajorTickLinesSettings)], BulletChart.prototype, \"majorTickLines\", void 0);\n\n  __decorate([Complex({}, MinorTickLinesSettings)], BulletChart.prototype, \"minorTickLines\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"minimum\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"maximum\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"interval\", void 0);\n\n  __decorate([Property(4)], BulletChart.prototype, \"minorTicksPerInterval\", void 0);\n\n  __decorate([Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)], BulletChart.prototype, \"labelStyle\", void 0);\n\n  __decorate([Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)], BulletChart.prototype, \"categoryLabelStyle\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"labelFormat\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"title\", void 0);\n\n  __decorate([Complex(BulletChartTheme.titleFont, BulletLabelStyle)], BulletChart.prototype, \"titleStyle\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"subtitle\", void 0);\n\n  __decorate([Complex(BulletChartTheme.subTitleFont, BulletLabelStyle)], BulletChart.prototype, \"subtitleStyle\", void 0);\n\n  __decorate([Property('Horizontal')], BulletChart.prototype, \"orientation\", void 0);\n\n  __decorate([Complex({\n    color: '#DDDDDD',\n    width: 0\n  }, Border)], BulletChart.prototype, \"border\", void 0);\n\n  __decorate([Complex({}, BulletTooltipSettings)], BulletChart.prototype, \"tooltip\", void 0);\n\n  __decorate([Collection([{\n    end: null,\n    opacity: 1,\n    color: ''\n  }, {\n    end: null,\n    opacity: 1,\n    color: ''\n  }, {\n    end: null,\n    opacity: 1,\n    color: ''\n  }], Range)], BulletChart.prototype, \"ranges\", void 0);\n\n  __decorate([Property('Outside')], BulletChart.prototype, \"labelPosition\", void 0);\n\n  __decorate([Property('Outside')], BulletChart.prototype, \"tickPosition\", void 0);\n\n  __decorate([Property('Top')], BulletChart.prototype, \"titlePosition\", void 0);\n\n  __decorate([Property(false)], BulletChart.prototype, \"opposedPosition\", void 0);\n\n  __decorate([Property('Material')], BulletChart.prototype, \"theme\", void 0);\n\n  __decorate([Complex({}, Animation)], BulletChart.prototype, \"animation\", void 0);\n\n  __decorate([Complex({}, BulletDataLabel)], BulletChart.prototype, \"dataLabel\", void 0);\n\n  __decorate([Complex({}, BulletChartLegendSettings)], BulletChart.prototype, \"legendSettings\", void 0);\n\n  __decorate([Property(false)], BulletChart.prototype, \"enableGroupSeparator\", void 0);\n\n  __decorate([Complex({\n    top: 15,\n    bottom: 10,\n    left: 15,\n    right: 15\n  }, Margin)], BulletChart.prototype, \"margin\", void 0);\n\n  __decorate([Property(5)], BulletChart.prototype, \"targetWidth\", void 0);\n\n  __decorate([Property('#191919')], BulletChart.prototype, \"targetColor\", void 0);\n\n  __decorate([Property(6)], BulletChart.prototype, \"valueHeight\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"valueFill\", void 0);\n\n  __decorate([Complex({\n    color: 'transparent',\n    width: 0\n  }, Border)], BulletChart.prototype, \"valueBorder\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"dataSource\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"query\", void 0);\n\n  __decorate([Property(null)], BulletChart.prototype, \"categoryField\", void 0);\n\n  __decorate([Property('Rect')], BulletChart.prototype, \"type\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"valueField\", void 0);\n\n  __decorate([Property('')], BulletChart.prototype, \"targetField\", void 0);\n\n  __decorate([Property(['Rect', 'Cross', 'Circle'])], BulletChart.prototype, \"targetTypes\", void 0);\n\n  __decorate([Property(1)], BulletChart.prototype, \"tabIndex\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"tooltipRender\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"load\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"loaded\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"bulletChartMouseClick\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"legendRender\", void 0);\n\n  __decorate([Event()], BulletChart.prototype, \"beforePrint\", void 0);\n\n  BulletChart = __decorate([NotifyPropertyChanges], BulletChart);\n  return BulletChart;\n}(Component);\n\nexport { BulletChart };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/bullet-chart/bullet-chart.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","NotifyPropertyChanges","Browser","Complex","Event","EventHandler","remove","Collection","isNullOrUndefined","Internationalization","SvgRenderer","Rect","Size","measureText","TextOption","Margin","Animation","Border","BulletChartAxis","BulletChartTheme","ScaleGroup","redrawElement","textElement","getElement","appendChildElement","RectOption","stringToNumber","getTitle","logBase","BulletTooltipSettings","Range","BulletLabelStyle","BulletDataLabel","MajorTickLinesSettings","MinorTickLinesSettings","BulletChartLegendSettings","resized","bulletChartMouseClick","getBulletThemeColor","ExportUtils","BulletChart","_super","options","element","_this","call","bulletid","animateSeries","padding","leftSize","rightSize","topSize","bottomSize","maxLabelSize","maxTitleSize","intervalDivs","preRender","allowServerDataBinding","unWireEvents","initPrivateValues","setCulture","wireEvents","delayRedraw","scale","bulletAxis","id","collection","document","getElementsByClassName","intl","render","loadEventData","bulletChart","theme","name","trigger","setTheme","createSvg","findRange","bulletChartLegendModule","legendSettings","visible","calculateVisibleElements","getLegendOptions","visibleRanges","calculatePosition","renderBulletElements","renderComplete","themeStyle","minimum","maximum","ranges","end","dataSource","keys","targetField","valueField","interval","calculateNumericNiceInterval","getActualDesiredIntervalsCount","availableSize","size","orientation","width","height","desiredIntervalsCount","Math","max","delta","actualDesiredIntervalsCount","niceInterval","minInterval","pow","floor","_i","_a","currentInterval","setSecondaryElementPosition","rect","getBoundingClientRect","svgRect","style","left","top","position","chart","removeSvg","renderer","calculateAvailableSize","svgObject","renderChartBackground","background","border","color","appendChild","drawRectangle","scaleGroup","createGroup","renderBulletChartTitle","rangeCollection","drawScaleGroup","initialClipRect","intervalValue","renderMajorTickLines","renderMinorTickLines","renderAxisLabels","bulletChartRect","x","titlePosition","elementId","tagName","tooltipDiv","redraw","createElement","tooltip","enable","bindData","renderDataLabel","renderBulletLegend","legendCollections","calTotalPage","bounds","legendBounds","renderLegend","bulletResize","arg","currentSize","previousSize","resizeTo","clearTimeout","setTimeout","isDestroyed","dataCount","drawMeasures","renderFeatureBar","renderComparativeSymbol","margin","titleHeight","subTitleHeight","titleSize","titleCollections","subTitleCollections","maxTitlteWidth","maxTitlteHeight","maxVerticalTitlteHeight","title","titleStyle","maximumTitleWidth","titleText","subtitle","subtitleStyle","_b","_c","subText","getMaxLabelWidth","getBulletBounds","y","calculateLegendBounds","enableRtl","labelSpace","labelPosition","tickPosition","tickSize","majorTickLines","labelSize","toString","labelStyle","topAxisLabel","bottomAxisLabel","leftAxisLabel","rightAxisLabel","topCategory","bottomCategory","leftCategory","rightCategory","format","getFormat","isCustomFormat","match","getNumberFormat","useGrouping","enableGroupSeparator","formatted","formatValue","categoryLabelSize","opposedPosition","right","bottom","categoryField","label","len","categoryLabelStyle","range","index","push","anchor","transform","alignment","textAlignment","elementSize","subTitleSize","findHorizontalAlignment","findVerticalAlignment","titleFontColor","setAttribute","tabIndex","renderBulletChartSubTitle","elementSpacing","data","featureBounds","labelFormat","dataLabel","featureBarBounds","labelText","replace","textWidth","textHeight","type","labelOptions","dataLabelFontColor","subTitleOptions","subTitleFontColor","containerWidth","clientWidth","offsetWidth","containerHeight","clientHeight","svgElement","getElementById","getPersistData","keyEntity","addOnPersist","startEvent","touchStartEvent","moveEvent","touchMoveEvent","cancelEvent","isPointer","bulletMouseDown","bulletMouseMove","bulletMouseLeave","bulletChartOnMouseClick","window","removeEventListener","isTouch","resizeBound","add","bind","addEventListener","setStyle","display","e","pageX","clientX","pageY","clientY","setPointMouseXY","targetId","targetClass","className","isTouchEvent","isReact","clearTemplate","bulletTooltipModule","_elementTooltip","mouseX","_displayTooltip","mouseY","svgClientRect","elemntClientRect","event","pointerType","indexOf","notify","print","export","fileName","controls","isVertical","onPropertyChanged","newProp","oldProp","refreshBounds","prop","textOverflow","refresh","requiredModules","modules","rangeName","isLegend","member","args","getModuleName","destroy","classList","innerHTML","axisLabelFont","titleFont","subTitleFont","opacity"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable jsdoc/require-param */\r\n/* eslint-disable valid-jsdoc */\r\n/* eslint-disable @typescript-eslint/ban-types */\r\nimport { Component, Property, NotifyPropertyChanges, Browser, Complex, Event } from '@syncfusion/ej2-base';\r\nimport { EventHandler, remove, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\r\nimport { Internationalization } from '@syncfusion/ej2-base';\r\nimport { SvgRenderer, Rect, Size, measureText, TextOption } from '@syncfusion/ej2-svg-base';\r\nimport { Margin, Animation, Border } from '../common/model/base';\r\nimport { BulletChartAxis } from './renderer/bullet-axis';\r\nimport { BulletChartTheme } from './utils/theme';\r\nimport { ScaleGroup } from './renderer/scale-render';\r\nimport { redrawElement, textElement, getElement, appendChildElement, RectOption, stringToNumber } from '../common/utils/helper';\r\nimport { getTitle, logBase } from '../common/utils/helper';\r\nimport { BulletTooltipSettings, Range, BulletLabelStyle, BulletDataLabel } from './model/bullet-base';\r\nimport { MajorTickLinesSettings, MinorTickLinesSettings } from './model/bullet-base';\r\nimport { BulletChartLegendSettings } from '../bullet-chart/model/bullet-base';\r\nimport { resized, bulletChartMouseClick } from '../common/model/constants';\r\nimport { getBulletThemeColor } from './utils/theme';\r\nimport { ExportUtils } from '../common/utils/export';\r\n/**\r\n * bullet chart\r\n */\r\nvar BulletChart = /** @class */ (function (_super) {\r\n    __extends(BulletChart, _super);\r\n    /**\r\n     * Constructor for creating the bullet chart\r\n     *\r\n     * @hidden\r\n     */\r\n    function BulletChart(options, element) {\r\n        var _this = _super.call(this, options, element) || this;\r\n        /** @private */\r\n        _this.bulletid = 57726;\r\n        /** @private */\r\n        _this.animateSeries = true;\r\n        _this.padding = 5;\r\n        /** @private */\r\n        _this.leftSize = 0;\r\n        /** @private */\r\n        _this.rightSize = 0;\r\n        /** @private */\r\n        _this.topSize = 0;\r\n        /** @private */\r\n        _this.bottomSize = 0;\r\n        /** @private */\r\n        _this.maxLabelSize = new Size(0, 0);\r\n        _this.maxTitleSize = new Size(0, 0);\r\n        /** @private */\r\n        _this.intervalDivs = [10, 5, 2, 1];\r\n        return _this;\r\n    }\r\n    /**\r\n     * Initialize the event handler.\r\n     */\r\n    BulletChart.prototype.preRender = function () {\r\n        this.allowServerDataBinding = false;\r\n        this.unWireEvents();\r\n        this.initPrivateValues();\r\n        this.setCulture();\r\n        this.wireEvents();\r\n    };\r\n    /**\r\n     * To initialize the private variables\r\n     */\r\n    BulletChart.prototype.initPrivateValues = function () {\r\n        this.delayRedraw = false;\r\n        this.scale = new ScaleGroup(this);\r\n        this.bulletAxis = new BulletChartAxis(this);\r\n        if (this.element.id === '') {\r\n            var collection = document.getElementsByClassName('e-BulletChart').length;\r\n            this.element.id = 'BulletChart_' + this.bulletid + '_' + collection;\r\n        }\r\n    };\r\n    /**\r\n     * Method to set culture for BulletChart\r\n     */\r\n    BulletChart.prototype.setCulture = function () {\r\n        this.intl = new Internationalization();\r\n    };\r\n    /**\r\n     * To Initialize the bullet chart rendering.\r\n     */\r\n    BulletChart.prototype.render = function () {\r\n        var _this = this;\r\n        var loadEventData = {\r\n            bulletChart: this,\r\n            theme: this.theme, name: 'load'\r\n        };\r\n        this.trigger('load', loadEventData, function () {\r\n            _this.theme = _this.theme;\r\n            _this.setTheme();\r\n            _this.createSvg(_this);\r\n            _this.findRange();\r\n            if (_this.bulletChartLegendModule && _this.legendSettings.visible) {\r\n                _this.calculateVisibleElements();\r\n                _this.bulletChartLegendModule.getLegendOptions(_this.visibleRanges);\r\n            }\r\n            _this.calculatePosition();\r\n            _this.renderBulletElements();\r\n            _this.trigger('loaded', { bulletChart: _this });\r\n            _this.allowServerDataBinding = true;\r\n            _this.renderComplete();\r\n        });\r\n    };\r\n    /**\r\n     * Theming for bullet chart\r\n     */\r\n    BulletChart.prototype.setTheme = function () {\r\n        this.themeStyle = getBulletThemeColor(this.theme);\r\n    };\r\n    BulletChart.prototype.findRange = function () {\r\n        if (!this.minimum) {\r\n            this.minimum = 0;\r\n        }\r\n        if (!this.maximum) {\r\n            this.maximum = 0;\r\n            for (var i = 0; i < this.ranges.length; i++) {\r\n                this.maximum = this.maximum > this.ranges[i].end ? this.maximum : this.ranges[i].end;\r\n            }\r\n        }\r\n        if (this.maximum === null) {\r\n            if (!isNullOrUndefined(this.dataSource)) {\r\n                for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\r\n                    if (this.dataSource[i][this.targetField] > this.dataSource[i][this.valueField]) {\r\n                        this.maximum = this.maximum > this.dataSource[i][this.targetField] ? this.maximum + this.interval :\r\n                            this.dataSource[i][this.targetField] + this.interval;\r\n                    }\r\n                    else {\r\n                        this.maximum = this.maximum > this.dataSource[i][this.valueField] ? this.maximum + this.interval :\r\n                            this.dataSource[i][this.valueField] + this.interval;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.maximum = 10;\r\n            }\r\n        }\r\n        if (!this.interval) {\r\n            this.interval = this.calculateNumericNiceInterval(this.maximum - this.minimum);\r\n        }\r\n    };\r\n    BulletChart.prototype.getActualDesiredIntervalsCount = function (availableSize) {\r\n        var size = this.orientation === 'Horizontal' ? availableSize.width : availableSize.height;\r\n        var desiredIntervalsCount = (this.orientation === 'Horizontal' ? 0.533 : 1) * 3;\r\n        desiredIntervalsCount = Math.max((size * (desiredIntervalsCount / 100)), 1);\r\n        return desiredIntervalsCount;\r\n    };\r\n    /**\r\n     * Numeric Nice Interval for the axis.\r\n     *\r\n     * @private\r\n     * @returns {number} calculateNumericNiceInterval.\r\n     */\r\n    BulletChart.prototype.calculateNumericNiceInterval = function (delta) {\r\n        var actualDesiredIntervalsCount = this.getActualDesiredIntervalsCount(this.availableSize);\r\n        var niceInterval = delta / actualDesiredIntervalsCount;\r\n        var minInterval = Math.pow(10, Math.floor(logBase(niceInterval, 10)));\r\n        for (var _i = 0, _a = this.intervalDivs; _i < _a.length; _i++) {\r\n            var interval = _a[_i];\r\n            var currentInterval = minInterval * interval;\r\n            if (actualDesiredIntervalsCount < (delta / currentInterval)) {\r\n                break;\r\n            }\r\n            niceInterval = currentInterval;\r\n        }\r\n        return niceInterval;\r\n    };\r\n    /**\r\n     * To set the left and top position for data label template for center aligned bulletchart\r\n     */\r\n    BulletChart.prototype.setSecondaryElementPosition = function () {\r\n        var element = getElement(this.element.id + '_Secondary_Element');\r\n        if (!element) {\r\n            return;\r\n        }\r\n        var rect = this.element.getBoundingClientRect();\r\n        var svgRect = getElement(this.element.id + '_svg').getBoundingClientRect();\r\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\r\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\r\n        element.style.position = 'relative';\r\n    };\r\n    /**\r\n     * Method to create SVG element.\r\n     */\r\n    BulletChart.prototype.createSvg = function (chart) {\r\n        this.removeSvg();\r\n        chart.renderer = new SvgRenderer(chart.element.id);\r\n        this.calculateAvailableSize(this);\r\n        chart.svgObject = chart.renderer.createSvg({\r\n            id: chart.element.id + '_svg',\r\n            width: chart.availableSize.width,\r\n            height: chart.availableSize.height\r\n        });\r\n        this.renderChartBackground();\r\n    };\r\n    /**\r\n     * Creating a background element to the svg object\r\n     */\r\n    BulletChart.prototype.renderChartBackground = function () {\r\n        var rect = new RectOption(this.element.id + '_ChartBorder', this.themeStyle.background, { width: this.border.width || 0, color: this.border.color || 'transparent' }, 1, new Rect(0, 0, this.availableSize.width, this.availableSize.height));\r\n        this.svgObject.appendChild(this.renderer.drawRectangle(rect));\r\n    };\r\n    /**\r\n     * Rendering the bullet elements\r\n     */\r\n    BulletChart.prototype.renderBulletElements = function () {\r\n        var scaleGroup = this.renderer.createGroup({ 'id': this.svgObject.id + '_scaleGroup' });\r\n        this.svgObject.appendChild(scaleGroup);\r\n        this.renderBulletChartTitle();\r\n        this.rangeCollection = this.scale.drawScaleGroup(scaleGroup);\r\n        var size = (this.orientation === 'Horizontal') ? this.initialClipRect.width : this.initialClipRect.height;\r\n        var intervalValue = size / ((this.maximum - this.minimum) / this.interval);\r\n        this.bulletAxis.renderMajorTickLines(intervalValue, scaleGroup);\r\n        this.bulletAxis.renderMinorTickLines(intervalValue, scaleGroup);\r\n        this.bulletAxis.renderAxisLabels(intervalValue, scaleGroup);\r\n        this.bulletChartRect.x = (this.titlePosition === 'Left' ||\r\n            this.titlePosition === 'Right' || this.orientation === 'Vertical') ? this.bulletChartRect.x : 0;\r\n        var elementId = this.element.id;\r\n        if (this.element.tagName !== 'g') {\r\n            var tooltipDiv = redrawElement(this.redraw, elementId + '_Secondary_Element') ||\r\n                this.createElement('div');\r\n            tooltipDiv.id = elementId + '_Secondary_Element';\r\n            appendChildElement(false, this.element, tooltipDiv, this.redraw);\r\n        }\r\n        if (this.tooltip.enable) {\r\n            appendChildElement(false, this.svgObject, this.renderer.createGroup({ id: elementId + '_UserInteraction', style: 'pointer-events:none;' }), this.redraw);\r\n        }\r\n        //this.bulletAxis.renderYAxisLabels(intervalValue, scaleGroup, this.bulletChartRect);\r\n        this.bindData();\r\n        this.renderDataLabel();\r\n        this.renderBulletLegend();\r\n        //this.changeOrientation(scaleGroup);\r\n        this.element.appendChild(this.svgObject);\r\n        this.setSecondaryElementPosition();\r\n    };\r\n    /**\r\n     * To render the legend\r\n     */\r\n    BulletChart.prototype.renderBulletLegend = function () {\r\n        if (this.bulletChartLegendModule && this.bulletChartLegendModule.legendCollections.length) {\r\n            this.bulletChartLegendModule.calTotalPage = true;\r\n            var bounds = this.bulletChartLegendModule.legendBounds;\r\n            this.bulletChartLegendModule.renderLegend(this, this.legendSettings, bounds);\r\n        }\r\n    };\r\n    /**\r\n     * Handles the bullet chart resize.\r\n     *\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    BulletChart.prototype.bulletResize = function () {\r\n        var _this = this;\r\n        this.animateSeries = false;\r\n        var arg = {\r\n            chart: this,\r\n            name: resized,\r\n            currentSize: new Size(0, 0),\r\n            previousSize: new Size(this.availableSize.width, this.availableSize.height)\r\n        };\r\n        if (this.resizeTo) {\r\n            clearTimeout(this.resizeTo);\r\n        }\r\n        this.resizeTo = +setTimeout(function () {\r\n            if (_this.isDestroyed) {\r\n                clearTimeout(_this.resizeTo);\r\n                return;\r\n            }\r\n            _this.createSvg(_this);\r\n            arg.currentSize = _this.availableSize;\r\n            _this.trigger(resized, arg);\r\n            _this.calculatePosition();\r\n            _this.renderBulletElements();\r\n        }, 500);\r\n        return false;\r\n    };\r\n    /**\r\n     * Process the data values of feature and comparative measure bar\r\n     */\r\n    BulletChart.prototype.bindData = function () {\r\n        if (this.dataSource != null) {\r\n            this.dataCount = this.dataSource.length;\r\n            this.drawMeasures(this.dataCount);\r\n        }\r\n    };\r\n    /**\r\n     * Rendering the feature and comaparative measure bars\r\n     */\r\n    BulletChart.prototype.drawMeasures = function (dataCount) {\r\n        this.scale.renderFeatureBar(dataCount);\r\n        this.scale.renderComparativeSymbol(dataCount);\r\n    };\r\n    /**\r\n     * To calculate the title bounds\r\n     */\r\n    BulletChart.prototype.calculatePosition = function () {\r\n        var margin = this.margin;\r\n        // Title Height;\r\n        var titleHeight = 0;\r\n        var subTitleHeight = 0;\r\n        var titleSize = new Size(0, 0);\r\n        var padding = 5;\r\n        this.titleCollections = [];\r\n        this.subTitleCollections = [];\r\n        var maxTitlteWidth = 0;\r\n        var maxTitlteHeight = 0;\r\n        var maxVerticalTitlteHeight = padding;\r\n        if (this.title) {\r\n            this.titleCollections = getTitle(this.title, this.titleStyle, this.titleStyle.maximumTitleWidth);\r\n            titleHeight = (measureText(this.title, this.titleStyle).height * this.titleCollections.length) + padding;\r\n            for (var _i = 0, _a = this.titleCollections; _i < _a.length; _i++) {\r\n                var titleText = _a[_i];\r\n                titleSize = measureText(titleText, this.titleStyle);\r\n                maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\r\n                maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\r\n            }\r\n            maxVerticalTitlteHeight += maxTitlteHeight;\r\n            this.subTitleCollections = getTitle(this.subtitle, this.subtitleStyle, this.titleStyle.maximumTitleWidth);\r\n            if (this.subtitle) {\r\n                for (var _b = 0, _c = this.subTitleCollections; _b < _c.length; _b++) {\r\n                    var subText = _c[_b];\r\n                    titleSize = measureText(subText, this.subtitleStyle);\r\n                    maxTitlteWidth = titleSize.width > maxTitlteWidth ? titleSize.width : maxTitlteWidth;\r\n                    maxTitlteHeight = titleSize.height > maxTitlteHeight ? titleSize.height : maxTitlteHeight;\r\n                }\r\n                subTitleHeight = (measureText(this.subtitle, this.subtitleStyle).height * this.subTitleCollections.length) +\r\n                    padding;\r\n                maxVerticalTitlteHeight += maxTitlteHeight;\r\n            }\r\n        }\r\n        this.maxTitleSize = new Size(maxTitlteWidth, this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteHeight);\r\n        this.maxLabelSize = this.getMaxLabelWidth();\r\n        this.initialClipRect = this.getBulletBounds((this.orientation === 'Vertical' ? maxVerticalTitlteHeight : maxTitlteWidth), titleHeight, subTitleHeight, margin);\r\n        this.bulletChartRect = new Rect(this.initialClipRect.x, this.initialClipRect.y, this.initialClipRect.width, this.initialClipRect.height);\r\n        if (this.bulletChartLegendModule) {\r\n            this.bulletChartLegendModule.calculateLegendBounds(this.initialClipRect, this.availableSize, this.maxLabelSize);\r\n        }\r\n    };\r\n    /**\r\n     * Calculate the rect values based on title position.\r\n     *\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    BulletChart.prototype.getBulletBounds = function (maxTitlteWidth, titleHeight, subTitleHeight, margin) {\r\n        var padding = 5;\r\n        var rect = new Rect(0, 0, 0, 0);\r\n        var enableRtl = this.enableRtl;\r\n        var labelSpace = (this.labelPosition === this.tickPosition) ? padding : 0;\r\n        var tickSize = ((this.tickPosition === 'Inside') ? 0 : (this.majorTickLines.height));\r\n        var labelSize = ((this.labelPosition === 'Inside') ? 0 : padding +\r\n            ((this.tickPosition === 'Outside') ? 0 : (measureText(this.maximum.toString(), this.labelStyle).height)));\r\n        var topAxisLabel = 0;\r\n        var bottomAxisLabel = 0;\r\n        var leftAxisLabel = 0;\r\n        var rightAxisLabel = 0;\r\n        var topCategory = 0;\r\n        var bottomCategory = 0;\r\n        var leftCategory = 0;\r\n        var rightCategory = 0;\r\n        var title = maxTitlteWidth;\r\n        var format = this.bulletAxis.getFormat(this);\r\n        var isCustomFormat = format.match('{value}') !== null;\r\n        this.bulletAxis.format = this.intl.getNumberFormat({\r\n            format: isCustomFormat ? '' : format, useGrouping: this.enableGroupSeparator\r\n        });\r\n        var formatted = measureText(this.bulletAxis.formatValue(this.bulletAxis, isCustomFormat, format, this.maximum), this.labelStyle).width;\r\n        var categoryLabelSize;\r\n        if (this.orientation === 'Horizontal') {\r\n            categoryLabelSize = this.maxLabelSize.width;\r\n            topAxisLabel = (this.opposedPosition) ? tickSize + labelSize + labelSpace : 0;\r\n            bottomAxisLabel = (!this.opposedPosition) ? tickSize + labelSize + labelSpace : 0;\r\n            leftCategory = ((categoryLabelSize && !enableRtl) ? (categoryLabelSize) : 0);\r\n            leftCategory += (title && this.titlePosition === 'Left') ? padding * 3 : 0;\r\n            rightCategory = ((categoryLabelSize && enableRtl) ? (categoryLabelSize) : 0);\r\n            rightCategory += (title && this.titlePosition === 'Right') ? padding : 0;\r\n        }\r\n        else {\r\n            categoryLabelSize = this.maxLabelSize.height;\r\n            rightAxisLabel = (this.opposedPosition) ? tickSize + labelSpace : 0;\r\n            rightAxisLabel += (this.opposedPosition && this.labelPosition !== 'Inside') ?\r\n                formatted : 0;\r\n            leftAxisLabel = (!this.opposedPosition) ? tickSize + labelSpace : 0;\r\n            leftAxisLabel += (!this.opposedPosition && this.labelPosition !== 'Inside') ?\r\n                formatted : 0;\r\n            topCategory = ((categoryLabelSize && enableRtl) ? (categoryLabelSize + padding) : 0);\r\n            bottomCategory = ((categoryLabelSize && !enableRtl) ? (categoryLabelSize + padding) : 0);\r\n        }\r\n        switch (this.titlePosition) {\r\n            case 'Left':\r\n                rect.x = margin.left + title + leftCategory + leftAxisLabel;\r\n                rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\r\n                rect.y = margin.top + topAxisLabel + topCategory;\r\n                rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\r\n                break;\r\n            case 'Right':\r\n                rect.x = margin.left + leftCategory + leftAxisLabel;\r\n                rect.width = this.availableSize.width - rightAxisLabel - margin.right - rect.x - (title + padding) - rightCategory;\r\n                rect.y = margin.top + topAxisLabel + topCategory;\r\n                rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\r\n                break;\r\n            case 'Top':\r\n                rect.x = margin.left + leftAxisLabel + leftCategory;\r\n                rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\r\n                rect.y = margin.top + (titleHeight + subTitleHeight) + topAxisLabel + topCategory;\r\n                rect.height = this.availableSize.height - rect.y - margin.bottom - bottomAxisLabel - bottomCategory;\r\n                break;\r\n            case 'Bottom':\r\n                rect.x = margin.left + leftAxisLabel + leftCategory;\r\n                rect.y = margin.top + topAxisLabel + topCategory;\r\n                rect.width = this.availableSize.width - margin.right - rect.x - rightCategory - rightAxisLabel;\r\n                rect.height = this.availableSize.height - rect.y - bottomCategory - margin.bottom - bottomAxisLabel -\r\n                    (titleHeight + subTitleHeight);\r\n                break;\r\n        }\r\n        return rect;\r\n    };\r\n    /**\r\n     * Calculate maximum label width for category values.\r\n     *\r\n     * @private\r\n     * @returns {Size} To get a label width\r\n     */\r\n    BulletChart.prototype.getMaxLabelWidth = function () {\r\n        this.maxLabelSize = new Size(0, 0);\r\n        if (!this.categoryField) {\r\n            return this.maxLabelSize;\r\n        }\r\n        var label;\r\n        for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\r\n            label = measureText((this.dataSource[i][this.categoryField] || ''), this.categoryLabelStyle);\r\n            if (label.width > this.maxLabelSize.width) {\r\n                this.maxLabelSize.width = label.width;\r\n            }\r\n            if (label.height > this.maxLabelSize.height) {\r\n                this.maxLabelSize.height = label.height;\r\n            }\r\n        }\r\n        return this.maxLabelSize;\r\n    };\r\n    BulletChart.prototype.calculateVisibleElements = function () {\r\n        var range;\r\n        var rangeCollection = this.ranges;\r\n        this.visibleRanges = [];\r\n        for (var i = 0, len = rangeCollection.length; i < len; i++) {\r\n            range = rangeCollection[i];\r\n            range.index = i;\r\n            // eslint-disable-next-line no-self-assign\r\n            range.color = range.color;\r\n            this.visibleRanges.push(range);\r\n            rangeCollection[i] = range;\r\n        }\r\n    };\r\n    /**\r\n     * To render the title of the bullet chart\r\n     */\r\n    BulletChart.prototype.renderBulletChartTitle = function () {\r\n        var margin = this.margin;\r\n        var x = 0;\r\n        var y = 0;\r\n        var padding = 5;\r\n        var anchor = 'middle';\r\n        var transform = '';\r\n        var alignment = this.titleStyle.textAlignment;\r\n        var elementSize = measureText(this.title, this.titleStyle);\r\n        var subTitleSize = (this.subtitle) ? measureText(this.subtitle, this.subtitleStyle) : new Size(0, 0);\r\n        if (this.title) {\r\n            if (this.orientation === 'Horizontal') {\r\n                switch (this.titlePosition) {\r\n                    case 'Top':\r\n                        x = this.findHorizontalAlignment(margin);\r\n                        anchor = (alignment === 'Far') ? 'end' : ((alignment === 'Near') ? 'start' : 'middle');\r\n                        y = margin.top + elementSize.height / 2 + padding;\r\n                        break;\r\n                    case 'Bottom':\r\n                        x = this.findHorizontalAlignment(margin);\r\n                        anchor = (alignment === 'Far') ? 'end' : ((alignment === 'Near') ? 'start' : 'middle');\r\n                        y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding * 2\r\n                            - ((subTitleSize.height) ? subTitleSize.height + padding : 0);\r\n                        break;\r\n                    case 'Left':\r\n                        anchor = 'end';\r\n                        x = margin.left + this.maxTitleSize.width;\r\n                        y = (this.margin.top + (this.availableSize.height) / 2 - elementSize.height / 3)\r\n                            - ((subTitleSize.height) ? subTitleSize.height : 0);\r\n                        break;\r\n                    case 'Right':\r\n                        anchor = 'start';\r\n                        x = (this.availableSize.width - margin.right - this.maxTitleSize.width + padding);\r\n                        y = (this.margin.top + (this.availableSize.height) / 2 - elementSize.height / 3)\r\n                            - ((subTitleSize.height) ? subTitleSize.height : 0);\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                switch (this.titlePosition) {\r\n                    case 'Top':\r\n                        x = (this.availableSize.width) / 2 + padding * 2;\r\n                        y = this.margin.top + elementSize.height / 2 + padding;\r\n                        break;\r\n                    case 'Bottom':\r\n                        x = (this.availableSize.width) / 2;\r\n                        y = this.availableSize.height - this.margin.bottom - elementSize.height / 3 + padding * 2\r\n                            - ((subTitleSize.height) ? subTitleSize.height + padding : 0);\r\n                        break;\r\n                    case 'Left':\r\n                        y = this.findVerticalAlignment(margin);\r\n                        anchor = (alignment === 'Far') ? 'start' : ((alignment === 'Near') ? 'end' : 'middle');\r\n                        x = margin.left;\r\n                        break;\r\n                    case 'Right':\r\n                        x = (this.availableSize.width - margin.right - elementSize.height / 3);\r\n                        anchor = (alignment === 'Far') ? 'start' : ((alignment === 'Near') ? 'end' : 'middle');\r\n                        y = this.findVerticalAlignment(margin);\r\n                        break;\r\n                }\r\n                transform = (this.titlePosition === 'Left') ? 'rotate(-90,' + x + ',' + y + ')' :\r\n                    ((this.titlePosition === 'Right') ? 'rotate(90,' + x + ',' + y + ')' : '');\r\n            }\r\n            var options = new TextOption(this.element.id + '_BulletChartTitle', x, y, anchor, this.titleCollections, transform, 'auto');\r\n            var element = textElement(this.renderer, options, this.titleStyle, this.titleStyle.color || this.themeStyle.titleFontColor, this.svgObject);\r\n            if (element) {\r\n                element.setAttribute('aria-label', this.title);\r\n                element.setAttribute('tabindex', this.tabIndex.toString());\r\n            }\r\n            if (this.subtitle) {\r\n                this.renderBulletChartSubTitle(x, y, anchor);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To render the data label for bullet chart\r\n     */\r\n    BulletChart.prototype.renderDataLabel = function () {\r\n        var x = 0;\r\n        var y = 0;\r\n        var elementSpacing = 10;\r\n        var anchor;\r\n        var transform = '';\r\n        var enableRtl = this.enableRtl;\r\n        var data;\r\n        var featureBounds;\r\n        var format = this.labelFormat ? this.labelFormat : '';\r\n        var isCustomFormat = format.match('{value}') !== null;\r\n        if (this.dataLabel.enable) {\r\n            for (var i = 0, len = Object.keys(this.dataSource).length; i < len; i++) {\r\n                data = this.dataSource[i];\r\n                featureBounds = this.scale.featureBarBounds[i];\r\n                var labelText = (data[this.valueField]).toString();\r\n                this.format = this.intl.getNumberFormat({\r\n                    format: isCustomFormat ? '' : format, useGrouping: this.enableGroupSeparator\r\n                });\r\n                labelText = isCustomFormat ? format.replace('{value}', this.format(labelText)) : labelText;\r\n                var labelSize = measureText(labelText, this.dataLabel.labelStyle);\r\n                // tslint:disable-next-line:no-string-literal\r\n                var textWidth = labelSize['width'];\r\n                // tslint:disable-next-line:no-string-literal\r\n                var textHeight = labelSize['height'];\r\n                if (this.orientation === 'Horizontal') {\r\n                    anchor = this.type === 'Rect' ? 'end' : (enableRtl ? 'end' : 'start');\r\n                    x = featureBounds.x + (enableRtl ? (this.type === 'Rect' ? textWidth + elementSpacing : -elementSpacing) :\r\n                        featureBounds.width) + (this.type === 'Rect' ? -elementSpacing / 2 : elementSpacing / 2);\r\n                    y = featureBounds.y + featureBounds.height / 2;\r\n                }\r\n                else {\r\n                    anchor = 'middle';\r\n                    x = featureBounds.y + featureBounds.height / 2;\r\n                    y = featureBounds.x + (enableRtl ? featureBounds.width + (this.type === 'Rect' ? -textHeight : textHeight) : 0) +\r\n                        (this.type === 'Rect' ? elementSpacing : -elementSpacing);\r\n                }\r\n                var labelOptions = new TextOption(this.element.id + '_DataLabel_' + i, x, y, anchor, labelText, transform, 'middle');\r\n                textElement(this.renderer, labelOptions, this.dataLabel.labelStyle, this.dataLabel.labelStyle.color || this.themeStyle.dataLabelFontColor, this.svgObject);\r\n            }\r\n        }\r\n    };\r\n    BulletChart.prototype.findHorizontalAlignment = function (margin) {\r\n        var x = 0;\r\n        switch (this.titleStyle.textAlignment) {\r\n            case 'Center':\r\n                x = (this.availableSize.width - margin.left - margin.right) / 2;\r\n                break;\r\n            case 'Near':\r\n                x = margin.left;\r\n                break;\r\n            case 'Far':\r\n                x = this.availableSize.width - margin.right;\r\n                break;\r\n        }\r\n        return x;\r\n    };\r\n    BulletChart.prototype.findVerticalAlignment = function (margin) {\r\n        var y = 0;\r\n        switch (this.titleStyle.textAlignment) {\r\n            case 'Center':\r\n                y = (this.availableSize.height - margin.top - margin.bottom) / 2;\r\n                break;\r\n            case 'Near':\r\n                y = margin.top;\r\n                break;\r\n            case 'Far':\r\n                y = this.availableSize.height - margin.bottom;\r\n                break;\r\n        }\r\n        return y;\r\n    };\r\n    /**\r\n     * To render the sub title of the bullet chart\r\n     */\r\n    BulletChart.prototype.renderBulletChartSubTitle = function (x, y, anchor) {\r\n        var margin = this.margin;\r\n        var padding = 5;\r\n        var transform = '';\r\n        var elementSize = measureText(this.subtitle, this.subtitleStyle);\r\n        if (this.orientation === 'Horizontal') {\r\n            switch (this.titlePosition) {\r\n                case 'Top':\r\n                    y = y + elementSize.height + padding / 2;\r\n                    break;\r\n                case 'Bottom':\r\n                    y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\r\n                    break;\r\n                case 'Left':\r\n                    y = y + elementSize.height + padding / 2;\r\n                    break;\r\n                case 'Right':\r\n                    y = y + elementSize.height + padding / 2;\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            switch (this.titlePosition) {\r\n                case 'Top':\r\n                    y = y + elementSize.height + padding / 2;\r\n                    break;\r\n                case 'Bottom':\r\n                    y = this.availableSize.height - margin.bottom - elementSize.height / 3 + padding;\r\n                    break;\r\n                case 'Left':\r\n                    x += elementSize.height + padding / 2;\r\n                    break;\r\n                case 'Right':\r\n                    x -= elementSize.height + padding / 2;\r\n                    break;\r\n            }\r\n            transform = (this.titlePosition === 'Left') ? 'rotate(-90,' + x + ',' + y + ')' :\r\n                ((this.titlePosition === 'Right') ? 'rotate(90,' + x + ',' + y + ')' : '');\r\n        }\r\n        var subTitleOptions = new TextOption(this.element.id + '_BulletChartSubTitle', x, y, anchor, this.subTitleCollections, transform, 'auto');\r\n        var element = textElement(this.renderer, subTitleOptions, this.subtitleStyle, this.subtitleStyle.color || this.themeStyle.subTitleFontColor, this.svgObject);\r\n        if (element) {\r\n            element.setAttribute('aria-label', this.title);\r\n            element.setAttribute('tabindex', this.tabIndex.toString());\r\n        }\r\n    };\r\n    /**\r\n     * To calculate the available size and width of the container\r\n     */\r\n    BulletChart.prototype.calculateAvailableSize = function (bulletChart) {\r\n        var containerWidth = this.element.clientWidth || this.element.offsetWidth || 200;\r\n        var height = (this.orientation === 'Vertical') ? 450 :\r\n            ((this.titlePosition === 'Left' || this.titlePosition === 'Right') ? 83 : 126);\r\n        var containerHeight = this.element.clientHeight || height;\r\n        bulletChart.availableSize = new Size(stringToNumber(bulletChart.width, containerWidth) || containerWidth, stringToNumber(bulletChart.height, containerHeight) || containerHeight);\r\n    };\r\n    BulletChart.prototype.removeSvg = function () {\r\n        var svgElement = document.getElementById(this.element.id + '_svg');\r\n        if (svgElement) {\r\n            remove(svgElement);\r\n        }\r\n    };\r\n    BulletChart.prototype.getPersistData = function () {\r\n        var keyEntity = ['loaded'];\r\n        return this.addOnPersist(keyEntity);\r\n    };\r\n    /** Wire, UnWire and Event releated calculation Started here */\r\n    /**\r\n     * Method to un-bind events for bullet chart\r\n     */\r\n    BulletChart.prototype.unWireEvents = function () {\r\n        /*! Find the Events type */\r\n        var startEvent = Browser.touchStartEvent;\r\n        var moveEvent = Browser.touchMoveEvent;\r\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\r\n        /*! UnBind the Event handler */\r\n        EventHandler.remove(this.element, startEvent, this.bulletMouseDown);\r\n        EventHandler.remove(this.element, moveEvent, this.bulletMouseMove);\r\n        EventHandler.remove(this.element, cancelEvent, this.bulletMouseLeave);\r\n        EventHandler.remove(this.element, 'click', this.bulletChartOnMouseClick);\r\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeBound);\r\n    };\r\n    /**\r\n     * Method to bind events for bullet chart\r\n     */\r\n    BulletChart.prototype.wireEvents = function () {\r\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\r\n        /*! Bind the Event handler */\r\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.bulletMouseMove, this);\r\n        EventHandler.add(this.element, cancelEvent, this.bulletMouseLeave, this);\r\n        EventHandler.add(this.element, Browser.touchStartEvent, this.bulletMouseDown, this);\r\n        EventHandler.add(this.element, 'click', this.bulletChartOnMouseClick, this);\r\n        this.resizeBound = this.bulletResize.bind(this);\r\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeBound);\r\n        /*! Apply the style for chart */\r\n        this.setStyle(this.element);\r\n    };\r\n    BulletChart.prototype.setStyle = function (element) {\r\n        element.style.position = 'relative';\r\n        element.style.display = 'block';\r\n    };\r\n    /**\r\n     * Handles the mouse move on the bullet chart.\r\n     *\r\n     * @private\r\n     */\r\n    BulletChart.prototype.bulletMouseMove = function (e) {\r\n        var pageX = e.clientX;\r\n        var pageY = e.clientY;\r\n        this.setPointMouseXY(pageX, pageY);\r\n        var targetId = e.target.id;\r\n        // tslint:disable-next-line:no-string-literal\r\n        var targetClass = e.target.className['baseVal'];\r\n        if (targetClass !== this.svgObject.id + '_FeatureMeasure' || this.svgObject.id + '_ComparativeMeasure') {\r\n            if (!isNullOrUndefined(this.dataSource)) {\r\n                for (var i = 0; i < Object.keys(this.dataSource).length; i++) {\r\n                    document.getElementById(this.svgObject.id + '_FeatureMeasure_' + i).setAttribute('opacity', '1');\r\n                    document.getElementById(this.svgObject.id + '_ComparativeMeasure_' + i).setAttribute('opacity', '1');\r\n                }\r\n            }\r\n        }\r\n        if (!this.isTouchEvent(e)) {\r\n            var id = 'tooltipDiv' + this.element.id;\r\n            var tooltipDiv = document.getElementById(id);\r\n            if (tooltipDiv) {\r\n                // tslint:disable-next-line:no-any\r\n                if (this.isReact) {\r\n                    this.clearTemplate();\r\n                }\r\n                remove(tooltipDiv);\r\n            }\r\n            if (this.bulletTooltipModule) {\r\n                this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\r\n                this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To find mouse x, y for aligned bullet chart element svg position\r\n     */\r\n    BulletChart.prototype.setPointMouseXY = function (pageX, pageY) {\r\n        var svgClientRect = getElement(this.svgObject.id).getBoundingClientRect();\r\n        var elemntClientRect = this.element.getBoundingClientRect();\r\n        this.mouseX = (pageX - elemntClientRect.left) - Math.max(svgClientRect.left - elemntClientRect.left, 0);\r\n        this.mouseY = (pageY - elemntClientRect.top) - Math.max(svgClientRect.top - elemntClientRect.top, 0);\r\n    };\r\n    /**\r\n     * Handles the mouse leave on the bullet chart.\r\n     *\r\n     * @private\r\n     */\r\n    BulletChart.prototype.bulletMouseLeave = function (e) {\r\n        if (!this.isTouchEvent(e)) {\r\n            var tooltipDiv = document.getElementById('.tooltipDiv' + this.element.id);\r\n            if (tooltipDiv) {\r\n                // tslint:disable-next-line:no-any\r\n                if (this.isReact) {\r\n                    this.clearTemplate();\r\n                }\r\n                remove(tooltipDiv);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles the touch event.\r\n     *\r\n     * @returns {boolean} Touchh event.\r\n     * @private\r\n     */\r\n    BulletChart.prototype.isTouchEvent = function (event) {\r\n        if ((event.pointerType === 'touch') || (event.type.indexOf('touch') > -1)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse down on the bullet chart.\r\n     *\r\n     * @private\r\n     */\r\n    BulletChart.prototype.bulletMouseDown = function (e) {\r\n        if (this.isTouchEvent(e)) {\r\n            // tslint:disable-next-line:no-any\r\n            if (this.isReact) {\r\n                this.clearTemplate();\r\n            }\r\n            remove(document.getElementById(('tooltipDiv' + this.element.id)));\r\n            var targetId = e.target.id;\r\n            // tslint:disable-next-line:no-string-literal\r\n            var targetClass = e.target.className['baseVal'];\r\n            if (this.bulletTooltipModule) {\r\n                this.bulletTooltipModule._elementTooltip(e, targetClass, targetId, this.mouseX);\r\n                this.bulletTooltipModule._displayTooltip(e, targetClass, targetId, this.mouseX, this.mouseY);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles the mouse click on bullet chart.\r\n     *\r\n     * @returns {boolean} Mouse click of bullet chart.\r\n     * @private\r\n     */\r\n    BulletChart.prototype.bulletChartOnMouseClick = function (e) {\r\n        var element = e.target;\r\n        this.trigger(bulletChartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        this.notify('click', e);\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the print method for bullet chart control.\r\n     */\r\n    BulletChart.prototype.print = function (id) {\r\n        new ExportUtils(this).print(id);\r\n    };\r\n    /**\r\n     * Handles the export method for bullet chart control.\r\n     *\r\n     * @param {ExportType} type Type of the export.\r\n     * @param {string} fileName File name for exporting.\r\n     * @param {PdfPageOrientation} orientation Orientation of the export.\r\n     * @param {Chart | AccumulationChart | RangeNavigator | BulletChart} controls To mention the exporting chart.\r\n     * @param {number} width Width of the export.\r\n     * @param {number} height Height of the export.\r\n     */\r\n    BulletChart.prototype.export = function (type, fileName, orientation, controls, width, height, isVertical) {\r\n        controls = controls ? controls : [this];\r\n        new ExportUtils(this).export(type, fileName, orientation, controls, width, height, isVertical);\r\n    };\r\n    /**\r\n     * Called internally if any of the property value changed.\r\n     *\r\n     * @private\r\n     */\r\n    BulletChart.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        var renderer = false;\r\n        var refreshBounds = false;\r\n        this.animateSeries = false;\r\n        if (!this.delayRedraw) {\r\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n                var prop = _a[_i];\r\n                switch (prop) {\r\n                    case 'height':\r\n                    case 'width':\r\n                        this.createSvg(this);\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'subtitle':\r\n                    case 'title':\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'tickPosition':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'labelPosition':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'titlePosition':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'minimum':\r\n                    case 'maximum':\r\n                    case 'interval':\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'majorTickLines':\r\n                    case 'minorTickLines':\r\n                    case 'type':\r\n                    case 'ranges':\r\n                    case 'valueFill':\r\n                    case 'targetColor':\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'titleStyle':\r\n                        if (newProp.titleStyle) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        else {\r\n                            renderer = true;\r\n                        }\r\n                        break;\r\n                    case 'subtitleStyle':\r\n                        if (newProp.subtitleStyle && (newProp.subtitleStyle.size || newProp.subtitleStyle.textOverflow)) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        else {\r\n                            renderer = true;\r\n                        }\r\n                        break;\r\n                    case 'border':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'opposedPosition':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'dataSource':\r\n                        this.bindData();\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'theme':\r\n                        this.animateSeries = true;\r\n                        break;\r\n                    case 'locale':\r\n                    case 'currencyCode':\r\n                        _super.prototype.refresh.call(this);\r\n                        break;\r\n                }\r\n            }\r\n            if (!refreshBounds && renderer) {\r\n                this.removeSvg();\r\n                this.renderBulletElements();\r\n                this.trigger('loaded', { bulletChart: this });\r\n            }\r\n            if (refreshBounds) {\r\n                this.render();\r\n                this.trigger('loaded', { bulletChart: this });\r\n                this.redraw = false;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To provide the array of modules needed for bullet chart rendering\r\n     *\r\n     * @private\r\n     * @returns {ModuleDeclaration[]} requiredModules\r\n     */\r\n    BulletChart.prototype.requiredModules = function () {\r\n        var modules = [];\r\n        var rangeName;\r\n        for (var i = 0; i < this.ranges.length; i++) {\r\n            if (this.ranges[i].name !== null) {\r\n                rangeName = true;\r\n            }\r\n        }\r\n        this.isLegend = (this.legendSettings.visible && ((rangeName) || !!this.isLegend || this.targetField !== '' || this.valueField !== ''));\r\n        if (this.tooltip.enable) {\r\n            modules.push({\r\n                member: 'BulletTooltip',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (this.isLegend) {\r\n            modules.push({\r\n                member: 'BulletChartLegend',\r\n                args: [this]\r\n            });\r\n        }\r\n        return modules;\r\n    };\r\n    BulletChart.prototype.getModuleName = function () {\r\n        return 'bulletChart';\r\n    };\r\n    /**\r\n     * To destroy the widget\r\n     *\r\n     * @returns {void} Destroy method\r\n     * @member of BulletChart\r\n     */\r\n    BulletChart.prototype.destroy = function () {\r\n        this.unWireEvents();\r\n        _super.prototype.destroy.call(this);\r\n        this.removeSvg();\r\n        this.svgObject = null;\r\n        this.element.classList.remove('e-BulletChart');\r\n        this.element.innerHTML = '';\r\n    };\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"height\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"locale\", void 0);\r\n    __decorate([\r\n        Complex({}, MajorTickLinesSettings)\r\n    ], BulletChart.prototype, \"majorTickLines\", void 0);\r\n    __decorate([\r\n        Complex({}, MinorTickLinesSettings)\r\n    ], BulletChart.prototype, \"minorTickLines\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"minimum\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"maximum\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"interval\", void 0);\r\n    __decorate([\r\n        Property(4)\r\n    ], BulletChart.prototype, \"minorTicksPerInterval\", void 0);\r\n    __decorate([\r\n        Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)\r\n    ], BulletChart.prototype, \"labelStyle\", void 0);\r\n    __decorate([\r\n        Complex(BulletChartTheme.axisLabelFont, BulletLabelStyle)\r\n    ], BulletChart.prototype, \"categoryLabelStyle\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], BulletChart.prototype, \"labelFormat\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], BulletChart.prototype, \"title\", void 0);\r\n    __decorate([\r\n        Complex(BulletChartTheme.titleFont, BulletLabelStyle)\r\n    ], BulletChart.prototype, \"titleStyle\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], BulletChart.prototype, \"subtitle\", void 0);\r\n    __decorate([\r\n        Complex(BulletChartTheme.subTitleFont, BulletLabelStyle)\r\n    ], BulletChart.prototype, \"subtitleStyle\", void 0);\r\n    __decorate([\r\n        Property('Horizontal')\r\n    ], BulletChart.prototype, \"orientation\", void 0);\r\n    __decorate([\r\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\r\n    ], BulletChart.prototype, \"border\", void 0);\r\n    __decorate([\r\n        Complex({}, BulletTooltipSettings)\r\n    ], BulletChart.prototype, \"tooltip\", void 0);\r\n    __decorate([\r\n        Collection([{ end: null, opacity: 1, color: '' }, { end: null, opacity: 1, color: '' }, { end: null, opacity: 1, color: '' }], Range)\r\n    ], BulletChart.prototype, \"ranges\", void 0);\r\n    __decorate([\r\n        Property('Outside')\r\n    ], BulletChart.prototype, \"labelPosition\", void 0);\r\n    __decorate([\r\n        Property('Outside')\r\n    ], BulletChart.prototype, \"tickPosition\", void 0);\r\n    __decorate([\r\n        Property('Top')\r\n    ], BulletChart.prototype, \"titlePosition\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], BulletChart.prototype, \"opposedPosition\", void 0);\r\n    __decorate([\r\n        Property('Material')\r\n    ], BulletChart.prototype, \"theme\", void 0);\r\n    __decorate([\r\n        Complex({}, Animation)\r\n    ], BulletChart.prototype, \"animation\", void 0);\r\n    __decorate([\r\n        Complex({}, BulletDataLabel)\r\n    ], BulletChart.prototype, \"dataLabel\", void 0);\r\n    __decorate([\r\n        Complex({}, BulletChartLegendSettings)\r\n    ], BulletChart.prototype, \"legendSettings\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], BulletChart.prototype, \"enableGroupSeparator\", void 0);\r\n    __decorate([\r\n        Complex({ top: 15, bottom: 10, left: 15, right: 15 }, Margin)\r\n    ], BulletChart.prototype, \"margin\", void 0);\r\n    __decorate([\r\n        Property(5)\r\n    ], BulletChart.prototype, \"targetWidth\", void 0);\r\n    __decorate([\r\n        Property('#191919')\r\n    ], BulletChart.prototype, \"targetColor\", void 0);\r\n    __decorate([\r\n        Property(6)\r\n    ], BulletChart.prototype, \"valueHeight\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"valueFill\", void 0);\r\n    __decorate([\r\n        Complex({ color: 'transparent', width: 0 }, Border)\r\n    ], BulletChart.prototype, \"valueBorder\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"dataSource\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"query\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], BulletChart.prototype, \"categoryField\", void 0);\r\n    __decorate([\r\n        Property('Rect')\r\n    ], BulletChart.prototype, \"type\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], BulletChart.prototype, \"valueField\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], BulletChart.prototype, \"targetField\", void 0);\r\n    __decorate([\r\n        Property(['Rect', 'Cross', 'Circle'])\r\n    ], BulletChart.prototype, \"targetTypes\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], BulletChart.prototype, \"tabIndex\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], BulletChart.prototype, \"tooltipRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], BulletChart.prototype, \"load\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], BulletChart.prototype, \"loaded\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], BulletChart.prototype, \"bulletChartMouseClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], BulletChart.prototype, \"legendRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], BulletChart.prototype, \"beforePrint\", void 0);\r\n    BulletChart = __decorate([\r\n        NotifyPropertyChanges\r\n    ], BulletChart);\r\n    return BulletChart;\r\n}(Component));\r\nexport { BulletChart };\r\n"]},"metadata":{},"sourceType":"module"}