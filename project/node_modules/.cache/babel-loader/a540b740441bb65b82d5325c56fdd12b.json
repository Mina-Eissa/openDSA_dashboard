{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, measureText, textElement, PathOption } from '@syncfusion/ej2-svg-base';\nimport { RectOption, CircleOption } from '../../common/utils/helper';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { getAnimationFunction } from '../../common/utils/helper';\n/**\r\n * class for Bullet chart Scale Group\r\n */\n\nvar ScaleGroup =\n/** @class */\nfunction () {\n  function ScaleGroup(bulletChart) {\n    this.comparative = []; //super();\n\n    this.dataSource = bulletChart.dataSource;\n    this.isVertical = bulletChart.orientation === 'Vertical';\n    this.isTicksInside = bulletChart.tickPosition === 'Inside';\n    this.isLabelsInside = bulletChart.labelPosition === 'Inside';\n    this.isHorizontal = bulletChart.orientation === 'Horizontal';\n    this.isLeft = bulletChart.titlePosition === 'Left';\n    this.isRight = bulletChart.titlePosition === 'Right';\n    this.isTop = bulletChart.titlePosition === 'Top';\n    this.location = 10;\n    this.featureBarBounds = [];\n    this.majorTickSize = bulletChart.majorTickLines.height;\n    this.labelOffset = 15;\n    this.labelSize = 12;\n    this.bulletChart = bulletChart;\n    this.isLabelBelow = !this.bulletChart.opposedPosition;\n    this.scaleOrientation = this.bulletChart.orientation;\n    this.rangeColor = [];\n  }\n  /**\r\n   * To render range scale of the bulletChart graph\r\n   *\r\n   * @param {Element} scaleGroup\r\n   */\n\n\n  ScaleGroup.prototype.drawScaleGroup = function (scaleGroup) {\n    var rangeGroup = this.bulletChart.renderer.createGroup({\n      'id': this.bulletChart.svgObject.id + '_rangeGroup'\n    });\n    var max = this.bulletChart.maximum;\n    var ranges = this.bulletChart.ranges;\n    this.scaleSettingsGroup = scaleGroup;\n    var rect;\n    var bullet = this.bulletChart;\n    var enableRtl = bullet.enableRtl;\n    var initialRect = bullet.initialClipRect;\n    var locX = initialRect.x + (enableRtl && bullet.orientation === 'Horizontal' ? initialRect.width : 0);\n    var locY = initialRect.y + (!enableRtl && bullet.orientation === 'Vertical' ? initialRect.height : 0);\n    var area = 0;\n    bullet.rangeCollection = [];\n    var start = 0;\n    var range = bullet.orientation === 'Horizontal' ? initialRect.width : initialRect.height;\n    var fillRange = bullet.orientation === 'Horizontal' ? initialRect.height : initialRect.width;\n\n    for (var i = 0; i < ranges.length; i++) {\n      area = range * ((ranges[i].end - start) / max);\n\n      if (bullet.orientation === 'Horizontal') {\n        locX -= enableRtl ? area : 0;\n      } else {\n        locY -= !enableRtl ? area : 0;\n      }\n\n      rect = new RectOption(bullet.svgObject.id + '_range_' + i, // tslint:disable-next-line:no-string-literal\n      ranges[i].color || this.bulletChart.themeStyle.rangeStrokes[i]['color'], {\n        width: 1\n      }, ranges[i].opacity, new Rect(locX, locY, bullet.orientation === 'Horizontal' ? area : fillRange, bullet.orientation === 'Horizontal' ? fillRange : area));\n      var svgRect = bullet.renderer.drawRectangle(rect);\n      rangeGroup.appendChild(svgRect);\n      scaleGroup.appendChild(rangeGroup);\n\n      if (bullet.orientation === 'Horizontal') {\n        locX += enableRtl ? 0 : area;\n      } else {\n        locY += !enableRtl ? 0 : area;\n      }\n\n      bullet.rangeCollection.push(area);\n      start = ranges[i].end;\n    }\n\n    return this.bulletChart.rangeCollection;\n  };\n\n  ScaleGroup.prototype.sortRangeCollection = function (a, b) {\n    return a - b;\n  };\n  /**\r\n   * To render the feature bar of the bulletChart chart\r\n   *\r\n   * @param {number} dataCount Count of the bar.\r\n   */\n\n\n  ScaleGroup.prototype.renderFeatureBar = function (dataCount) {\n    if (dataCount === 0) {\n      return;\n    }\n\n    this.renderCommonFeatureBar(dataCount, this.isHorizontal);\n  };\n  /**\r\n   * To render the horizontal feature bar of the bulletChart chart\r\n   *\r\n   * @param {number} dataCount Count of the bar.\r\n   */\n\n\n  ScaleGroup.prototype.renderCommonFeatureBar = function (dataCount, isHorizontal) {\n    var categoryValue;\n    var dotWidth = 6;\n    var padding = 5;\n    var bulletChart = this.bulletChart;\n    var initialBoundsStart = isHorizontal ? bulletChart.initialClipRect.y + bulletChart.initialClipRect.height : bulletChart.initialClipRect.x;\n    var lPoint;\n    var featueGroup = bulletChart.renderer.createGroup({\n      'id': bulletChart.svgObject.id + '_featureGroup'\n    });\n    var data;\n    var featureBarSize = (isHorizontal ? bulletChart.initialClipRect.height : bulletChart.initialClipRect.width) / dataCount;\n    var bounds;\n\n    for (var i = 0; i < dataCount; i++) {\n      data = bulletChart.dataSource[i];\n      categoryValue = data[bulletChart.categoryField];\n\n      if (isHorizontal) {\n        lPoint = initialBoundsStart - featureBarSize * i - (featureBarSize + bulletChart.valueHeight) / 2;\n      } else {\n        lPoint = initialBoundsStart + featureBarSize * i + featureBarSize / 2 - bulletChart.valueHeight / 2;\n      }\n\n      bounds = this.calculateFeatureMeasureBounds(data[bulletChart.valueField], categoryValue, isHorizontal);\n\n      if (data && bulletChart.type === 'Dot') {\n        var value = data[bulletChart.valueField];\n\n        if (isHorizontal) {\n          bounds.pointX = bounds.pointX + (value > 0 && !bulletChart.enableRtl || value < 0 && bulletChart.enableRtl ? bounds.width : 0) - dotWidth / 2;\n        } else {\n          bounds.pointX = bounds.pointX + (value > 0 && bulletChart.enableRtl || value < 0 && !bulletChart.enableRtl ? bounds.width : 0) - dotWidth / 2;\n        }\n\n        bounds.width = dotWidth;\n      } // Drawing feature bar rect element\n\n\n      if (bounds) {\n        var svgRect = isHorizontal ? this.featureBar(bounds.pointX, lPoint, bounds.width, i) : this.verticalFeatureBar(lPoint, bounds.pointX, bounds.width, i);\n        featueGroup.appendChild(svgRect);\n        this.feature = svgRect;\n        this.scaleSettingsGroup.appendChild(featueGroup);\n        this.featureBarBounds[i] = {\n          x: bounds.pointX,\n          y: lPoint,\n          width: bounds.width,\n          height: bulletChart.valueHeight\n        }; // Drawing category text element\n\n        if (!isNullOrUndefined(categoryValue)) {\n          var categoryTextSize = measureText(categoryValue, bulletChart.categoryLabelStyle);\n          var categorySize = isHorizontal ? categoryTextSize.width : categoryTextSize.height;\n          var initialRect = bulletChart.initialClipRect;\n          var x = void 0;\n          var categoryOptions = void 0;\n\n          if (isHorizontal) {\n            x = bulletChart.enableRtl ? initialRect.x + initialRect.width + padding + categorySize / 2 : initialRect.x - padding - categorySize / 2;\n            categoryOptions = this.drawcategory(x, lPoint, categoryValue);\n          } else {\n            x = bulletChart.enableRtl ? initialRect.y - padding - categorySize / 2 : initialRect.y + initialRect.height + padding + categorySize / 2;\n            categoryOptions = this.drawcategory(lPoint + bulletChart.valueHeight / 2, x, categoryValue);\n          }\n\n          textElement(categoryOptions, bulletChart.categoryLabelStyle, bulletChart.categoryLabelStyle.color || bulletChart.themeStyle.categoryFontColor, this.scaleSettingsGroup);\n        }\n      }\n\n      if (bulletChart.animation.enable) {\n        this.doValueBarAnimation();\n      }\n    }\n  };\n\n  ScaleGroup.prototype.featureBar = function (pointX, pointY, width, i) {\n    var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, width, this.bulletChart.valueHeight));\n    var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\n    svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\n    svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\n    return svgRect;\n  };\n\n  ScaleGroup.prototype.verticalFeatureBar = function (pointX, pointY, width, i) {\n    var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, this.bulletChart.valueHeight, width));\n    var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\n    svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\n    svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\n    return svgRect;\n  };\n\n  ScaleGroup.prototype.drawcategory = function (lPointX, lPointY, categoryValue) {\n    var categoryOptions = {\n      'id': '',\n      'anchor': 'middle',\n      'x': lPointX,\n      'y': lPointY + this.bulletChart.valueHeight,\n      'transform': '',\n      'text': categoryValue,\n      'baseLine': '',\n      'labelRotation': 0\n    };\n    return categoryOptions;\n  };\n  /**\r\n   * To render comparative symbol of the bulletChart chart\r\n   *\r\n   * @param {number} dataCount Data count value.\r\n   */\n\n\n  ScaleGroup.prototype.renderComparativeSymbol = function (dataCount) {\n    if (dataCount === 0) {\n      return;\n    }\n\n    this.renderCommonComparativeSymbol(dataCount, this.isHorizontal);\n  };\n\n  ScaleGroup.prototype.renderCommonComparativeSymbol = function (dataCount, isHorizontal) {\n    var bulletChart = this.bulletChart;\n    var value;\n    var rect = bulletChart.initialClipRect;\n    var scaleLength = isHorizontal ? rect.width : rect.height;\n    var y1;\n    var y2;\n    var x1;\n    var pointY = isHorizontal ? rect.y + rect.height : rect.x;\n    var comparativeGroup = bulletChart.renderer.createGroup({\n      'id': bulletChart.svgObject.id + '_comparativeGroup'\n    });\n    var minimum = bulletChart.minimum;\n    var maximum = bulletChart.maximum;\n    var delta = maximum - minimum;\n    var targetWidth = bulletChart.targetWidth;\n    var pointX = isHorizontal ? rect.x - targetWidth / 2 : rect.y + rect.height;\n    var temp;\n    var values = [];\n    var targetTypes = bulletChart.targetTypes;\n    var targetType = 'Rect';\n    var targetTypeLength = targetTypes.length;\n    var featureBarSize = (isHorizontal ? rect.height : rect.width) / dataCount;\n    var svgElement;\n\n    for (var k = 0; k < dataCount; k++) {\n      value = bulletChart.dataSource[k][bulletChart.targetField];\n      values = values.concat(value);\n\n      for (var i = 0; i < values.length; i++) {\n        targetType = targetTypes[i % targetTypeLength];\n\n        if (values[i] >= minimum && values[i] <= maximum) {\n          if (isHorizontal) {\n            temp = pointY - featureBarSize * k - featureBarSize / 2;\n          } else {\n            temp = pointY + featureBarSize * k + featureBarSize / 2;\n          }\n\n          y1 = temp - targetWidth * 1.5;\n          y2 = temp + targetWidth * 1.5;\n          temp = scaleLength / (delta / (delta - (maximum - values[i])));\n\n          if (isHorizontal) {\n            x1 = pointX + (bulletChart.enableRtl ? scaleLength - temp : temp);\n          } else {\n            x1 = pointX - (bulletChart.enableRtl ? scaleLength - temp : temp);\n          }\n\n          svgElement = this.getTargetElement(targetType, isHorizontal, x1, y1, y2, values[i], k);\n          this.comparative.push(svgElement);\n          comparativeGroup.appendChild(svgElement);\n          y1 = 0;\n          y2 = 0;\n        }\n\n        this.scaleSettingsGroup.appendChild(comparativeGroup);\n      }\n\n      values = [];\n\n      if (bulletChart.animation.enable) {\n        this.doTargetBarAnimation(0);\n      }\n    }\n  };\n\n  ScaleGroup.prototype.getTargetElement = function (targetType, isHorizontal, x1, y1, y2, value, k) {\n    var shapeObject;\n    var shapeElement;\n    var bulletChart = this.bulletChart;\n    var strokeWidth = targetType === 'Cross' ? bulletChart.targetWidth - 1 : 1;\n    var size = targetType === 'Circle' ? bulletChart.targetWidth - 1 : bulletChart.targetWidth;\n    var lx = isHorizontal ? x1 + size / 2 : y1 + (y2 - y1) / 2;\n    var ly = isHorizontal ? y1 + (y2 - y1) / 2 : x1;\n    var id = bulletChart.svgObject.id + '_ComparativeMeasure_' + k;\n    var className = bulletChart.svgObject.id + '_ComparativeMeasure';\n\n    if (targetType === 'Rect') {\n      shapeObject = isHorizontal ? this.compareMeasure(x1, y1, y2, k, value) : this.compareVMeasure(y1, y2, x1, k);\n      shapeElement = bulletChart.renderer.drawLine(shapeObject);\n    } else if (targetType === 'Circle') {\n      shapeObject = new CircleOption(id, bulletChart.targetColor, {\n        width: 1,\n        color: bulletChart.targetColor || 'black'\n      }, 1, lx, ly, size);\n      shapeElement = bulletChart.renderer.drawCircle(shapeObject);\n    } else {\n      var crossDirection = 'M ' + (lx - size) + ' ' + (ly - size) + ' L ' + (lx + size) + ' ' + (ly + size) + ' M ' + (lx - size) + ' ' + (ly + size) + ' L ' + (lx + size) + ' ' + (ly - size);\n      shapeObject = new PathOption(id, 'transparent', strokeWidth, bulletChart.targetColor, 1, '', crossDirection);\n      shapeElement = bulletChart.renderer.drawPath(shapeObject);\n    }\n\n    shapeElement.setAttribute('class', className);\n    return shapeElement;\n  };\n\n  ScaleGroup.prototype.compareMeasure = function (x1, y1, y2, i, value) {\n    var bulletChart = this.bulletChart;\n    var compareMeasureOptions = {\n      'class': bulletChart.svgObject.id + '_ComparativeMeasure',\n      'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\n      'x1': value === bulletChart.maximum ? x1 - bulletChart.targetWidth / 2 : value === bulletChart.minimum ? x1 + bulletChart.targetWidth / 2 : x1,\n      'y1': y1,\n      'x2': value === bulletChart.maximum ? x1 - bulletChart.targetWidth / 2 : value === bulletChart.minimum ? x1 + bulletChart.targetWidth / 2 : x1,\n      'y2': y2,\n      'stroke-width': bulletChart.targetWidth,\n      'stroke': bulletChart.targetColor || 'black'\n    };\n    return compareMeasureOptions;\n  };\n\n  ScaleGroup.prototype.compareVMeasure = function (x1, x2, y1, i) {\n    var bulletChart = this.bulletChart;\n    var compareMeasureOptions = {\n      'class': bulletChart.svgObject.id + '_ComparativeMeasure',\n      'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\n      'x1': x1,\n      'y1': y1,\n      'x2': x2,\n      'y2': y1,\n      'stroke-width': bulletChart.targetWidth,\n      'stroke': bulletChart.targetColor || 'black'\n    };\n    return compareMeasureOptions;\n  };\n  /**\r\n   * To calculate the bounds on vertical and horizontal orientation changes\r\n   *\r\n   * @param {number} value Value of the scale.\r\n   * @param {string} categoryValue Value of the category.\r\n   * @param {boolean} isHorizontal Boolean value.\r\n   * @returns {IFeatureMeasureType} calculateFeatureMeasureBounds\r\n   */\n\n\n  ScaleGroup.prototype.calculateFeatureMeasureBounds = function (value, categoryValue, isHorizontal) {\n    var bulletChart = this.bulletChart;\n    var min = bulletChart.minimum;\n    value = value < min && min <= 0 ? min : value;\n\n    if (value >= min) {\n      var pointX = void 0;\n      var lastPointX = void 0;\n      var width = void 0;\n      var loc = isHorizontal ? bulletChart.initialClipRect.x : bulletChart.initialClipRect.y;\n      var scaleLength = isHorizontal ? bulletChart.initialClipRect.width : bulletChart.initialClipRect.height;\n      var delta = bulletChart.maximum - bulletChart.minimum;\n      var valueDiff = bulletChart.maximum - value;\n      var orientation_1 = (!bulletChart.enableRtl ? 'forward' : 'backward') + this.scaleOrientation.toLowerCase();\n      categoryValue = isNullOrUndefined(categoryValue) ? '' : categoryValue;\n      var stringLength = measureText(categoryValue.toString(), bulletChart.labelStyle).width;\n\n      switch (orientation_1) {\n        case 'forwardhorizontal':\n        case 'backwardvertical':\n          pointX = loc + (min > 0 ? 0 : scaleLength / delta * Math.abs(min));\n          width = scaleLength / (delta / (min > 0 ? delta - valueDiff : value));\n\n          if (value < 0) {\n            width = Math.abs(width);\n            pointX -= width;\n          }\n\n          width = pointX + width < loc + scaleLength ? width : loc + scaleLength - pointX;\n          lastPointX = loc - (orientation_1 === 'forwardhorizontal' ? stringLength / 2 + 5 : this.labelOffset);\n          break;\n\n        default:\n          pointX = loc + (scaleLength - scaleLength / (delta / (delta - valueDiff)));\n          width = min > 0 ? scaleLength / (delta / (delta - valueDiff)) : scaleLength / (delta / value);\n\n          if (value < 0) {\n            width = Math.abs(width);\n            pointX -= width;\n          }\n\n          if (pointX < loc) {\n            width = pointX + width - loc;\n            pointX = loc;\n          }\n\n          lastPointX = loc + scaleLength + (orientation_1 === 'backwardhorizontal' ? stringLength / 2 + 5 : 5);\n          break;\n      }\n\n      return {\n        pointX: pointX,\n        width: width,\n        lastPointX: lastPointX\n      };\n    }\n\n    return null;\n  };\n  /**\r\n   * Animates the feature bar.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ScaleGroup.prototype.doValueBarAnimation = function () {\n    var valueBarElement = this.feature;\n\n    if (!valueBarElement) {\n      return null;\n    }\n\n    var animateOption = this.bulletChart.animation;\n    var animateDuration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : animateOption.duration;\n    var effectType = getAnimationFunction('Linear');\n    var isValuePlot = this.bulletChart.dataSource < 0;\n    var valueX;\n    var valueY;\n    var elementBarHeight = valueBarElement.getBoundingClientRect().height;\n    var elementBarWidth = valueBarElement.getBoundingClientRect().width;\n    var centerX;\n    var centerY;\n    var valueActual;\n\n    if (this.bulletChart.orientation === 'Horizontal' && valueBarElement) {\n      valueY = parseInt(valueBarElement.getAttribute('height'), 10);\n      valueX = parseInt(valueBarElement.getAttribute('x'), 10);\n      centerY = isValuePlot ? valueY : valueY + elementBarHeight;\n      centerX = valueX;\n    }\n\n    valueBarElement.style.visibility = 'hidden';\n    new Animation({}).animate(valueBarElement, {\n      duration: animateDuration,\n      delay: animateOption.delay,\n      progress: function (args) {\n        if (args.timeStamp >= args.delay) {\n          valueBarElement.style.visibility = 'visible';\n          elementBarWidth = elementBarWidth ? elementBarWidth : 1;\n          valueActual = effectType(args.timeStamp - args.delay, 0, elementBarWidth, args.duration);\n          valueBarElement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY + ') scale(' + valueActual / elementBarWidth + ', 1) translate(' + -centerX + ' ' + -centerY + ')');\n        }\n      },\n      end: function () {\n        valueBarElement.setAttribute('transform', 'translate(0,0)');\n        valueBarElement.style.visibility = 'visible';\n      }\n    });\n  };\n  /**\r\n   * Animates the comparative bar.\r\n   *\r\n   * @param {number} index Defines the feature bar to animate.\r\n   * @returns {void}\r\n   */\n\n\n  ScaleGroup.prototype.doTargetBarAnimation = function (index) {\n    var x;\n    var y;\n    var centerX;\n    var centerY;\n    var targetBarelement = this.comparative[index];\n\n    if (!targetBarelement) {\n      return null;\n    }\n\n    if (this.bulletChart.orientation === 'Horizontal' && targetBarelement) {\n      y = parseFloat(targetBarelement.getAttribute('y1')) + parseFloat(targetBarelement.getAttribute('y2'));\n      x = parseFloat(targetBarelement.getAttribute('x1'));\n      centerY = y;\n      centerX = x;\n    }\n\n    targetBarelement.style.visibility = 'hidden';\n    this.animateRect(targetBarelement, centerX, centerY, index + 1);\n  };\n\n  ScaleGroup.prototype.animateRect = function (targetBarelement, centerX, centerY, index) {\n    var _this = this;\n\n    var effect = getAnimationFunction('Linear');\n    var value;\n    var option = this.bulletChart.animation;\n    var threshold = this.comparative.length;\n    var duration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : option.duration;\n    new Animation({}).animate(targetBarelement, {\n      duration: duration,\n      delay: option.delay,\n      progress: function (args) {\n        if (args.timeStamp >= args.delay) {\n          targetBarelement.style.visibility = 'visible';\n          value = effect(args.timeStamp - args.delay, 0, 1, args.duration);\n          targetBarelement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY / 2 + ') scale(1,' + value + ') translate(' + -centerX + ' ' + -centerY / 2 + ')');\n        }\n      },\n      end: function () {\n        targetBarelement.setAttribute('transform', 'translate(0,0)');\n\n        if (index < threshold) {\n          _this.doTargetBarAnimation(index + 1);\n        }\n      }\n    });\n  };\n\n  return ScaleGroup;\n}();\n\nexport { ScaleGroup };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/bullet-chart/renderer/scale-render.js"],"names":["isNullOrUndefined","Rect","measureText","textElement","PathOption","RectOption","CircleOption","Animation","getAnimationFunction","ScaleGroup","bulletChart","comparative","dataSource","isVertical","orientation","isTicksInside","tickPosition","isLabelsInside","labelPosition","isHorizontal","isLeft","titlePosition","isRight","isTop","location","featureBarBounds","majorTickSize","majorTickLines","height","labelOffset","labelSize","isLabelBelow","opposedPosition","scaleOrientation","rangeColor","prototype","drawScaleGroup","scaleGroup","rangeGroup","renderer","createGroup","svgObject","id","max","maximum","ranges","scaleSettingsGroup","rect","bullet","enableRtl","initialRect","initialClipRect","locX","x","width","locY","y","area","rangeCollection","start","range","fillRange","i","length","end","color","themeStyle","rangeStrokes","opacity","svgRect","drawRectangle","appendChild","push","sortRangeCollection","a","b","renderFeatureBar","dataCount","renderCommonFeatureBar","categoryValue","dotWidth","padding","initialBoundsStart","lPoint","featueGroup","data","featureBarSize","bounds","categoryField","valueHeight","calculateFeatureMeasureBounds","valueField","type","value","pointX","featureBar","verticalFeatureBar","feature","categoryTextSize","categoryLabelStyle","categorySize","categoryOptions","drawcategory","categoryFontColor","animation","enable","doValueBarAnimation","pointY","featureBarOptions","valueFill","valueBorder","setAttribute","lPointX","lPointY","renderComparativeSymbol","renderCommonComparativeSymbol","scaleLength","y1","y2","x1","comparativeGroup","minimum","delta","targetWidth","temp","values","targetTypes","targetType","targetTypeLength","svgElement","k","targetField","concat","getTargetElement","doTargetBarAnimation","shapeObject","shapeElement","strokeWidth","size","lx","ly","className","compareMeasure","compareVMeasure","drawLine","targetColor","drawCircle","crossDirection","drawPath","compareMeasureOptions","x2","min","lastPointX","loc","valueDiff","orientation_1","toLowerCase","stringLength","toString","labelStyle","Math","abs","valueBarElement","animateOption","animateDuration","animateSeries","duration","effectType","isValuePlot","valueX","valueY","elementBarHeight","getBoundingClientRect","elementBarWidth","centerX","centerY","valueActual","parseInt","getAttribute","style","visibility","animate","delay","progress","args","timeStamp","index","targetBarelement","parseFloat","animateRect","_this","effect","option","threshold"],"mappings":"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","sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\r\nimport { Rect, measureText, textElement, PathOption } from '@syncfusion/ej2-svg-base';\r\nimport { RectOption, CircleOption } from '../../common/utils/helper';\r\nimport { Animation } from '@syncfusion/ej2-base';\r\nimport { getAnimationFunction } from '../../common/utils/helper';\r\n/**\r\n * class for Bullet chart Scale Group\r\n */\r\nvar ScaleGroup = /** @class */ (function () {\r\n    function ScaleGroup(bulletChart) {\r\n        this.comparative = [];\r\n        //super();\r\n        this.dataSource = bulletChart.dataSource;\r\n        this.isVertical = (bulletChart.orientation === 'Vertical');\r\n        this.isTicksInside = (bulletChart.tickPosition === 'Inside');\r\n        this.isLabelsInside = (bulletChart.labelPosition === 'Inside');\r\n        this.isHorizontal = (bulletChart.orientation === 'Horizontal');\r\n        this.isLeft = bulletChart.titlePosition === 'Left';\r\n        this.isRight = bulletChart.titlePosition === 'Right';\r\n        this.isTop = bulletChart.titlePosition === 'Top';\r\n        this.location = 10;\r\n        this.featureBarBounds = [];\r\n        this.majorTickSize = bulletChart.majorTickLines.height;\r\n        this.labelOffset = 15;\r\n        this.labelSize = 12;\r\n        this.bulletChart = bulletChart;\r\n        this.isLabelBelow = !this.bulletChart.opposedPosition;\r\n        this.scaleOrientation = this.bulletChart.orientation;\r\n        this.rangeColor = [];\r\n    }\r\n    /**\r\n     * To render range scale of the bulletChart graph\r\n     *\r\n     * @param {Element} scaleGroup\r\n     */\r\n    ScaleGroup.prototype.drawScaleGroup = function (scaleGroup) {\r\n        var rangeGroup = this.bulletChart.renderer.createGroup({ 'id': this.bulletChart.svgObject.id + '_rangeGroup' });\r\n        var max = this.bulletChart.maximum;\r\n        var ranges = this.bulletChart.ranges;\r\n        this.scaleSettingsGroup = scaleGroup;\r\n        var rect;\r\n        var bullet = this.bulletChart;\r\n        var enableRtl = bullet.enableRtl;\r\n        var initialRect = bullet.initialClipRect;\r\n        var locX = initialRect.x + ((enableRtl && bullet.orientation === 'Horizontal') ? initialRect.width : 0);\r\n        var locY = initialRect.y + ((!enableRtl && bullet.orientation === 'Vertical') ? initialRect.height : 0);\r\n        var area = 0;\r\n        bullet.rangeCollection = [];\r\n        var start = 0;\r\n        var range = (bullet.orientation === 'Horizontal') ? initialRect.width : initialRect.height;\r\n        var fillRange = (bullet.orientation === 'Horizontal') ? initialRect.height : initialRect.width;\r\n        for (var i = 0; i < ranges.length; i++) {\r\n            area = (range) * ((ranges[i].end - start) / max);\r\n            if (bullet.orientation === 'Horizontal') {\r\n                locX -= (enableRtl) ? area : 0;\r\n            }\r\n            else {\r\n                locY -= (!enableRtl) ? area : 0;\r\n            }\r\n            rect = new RectOption(bullet.svgObject.id + '_range_' + i, \r\n            // tslint:disable-next-line:no-string-literal\r\n            ranges[i].color || this.bulletChart.themeStyle.rangeStrokes[i]['color'], { width: 1 }, ranges[i].opacity, new Rect(locX, locY, ((bullet.orientation === 'Horizontal') ? area : fillRange), ((bullet.orientation === 'Horizontal') ? fillRange : area)));\r\n            var svgRect = bullet.renderer.drawRectangle(rect);\r\n            rangeGroup.appendChild(svgRect);\r\n            scaleGroup.appendChild(rangeGroup);\r\n            if (bullet.orientation === 'Horizontal') {\r\n                locX += (enableRtl) ? 0 : area;\r\n            }\r\n            else {\r\n                locY += (!enableRtl) ? 0 : area;\r\n            }\r\n            bullet.rangeCollection.push(area);\r\n            start = ranges[i].end;\r\n        }\r\n        return this.bulletChart.rangeCollection;\r\n    };\r\n    ScaleGroup.prototype.sortRangeCollection = function (a, b) {\r\n        return (a - b);\r\n    };\r\n    /**\r\n     * To render the feature bar of the bulletChart chart\r\n     *\r\n     * @param {number} dataCount Count of the bar.\r\n     */\r\n    ScaleGroup.prototype.renderFeatureBar = function (dataCount) {\r\n        if (dataCount === 0) {\r\n            return;\r\n        }\r\n        this.renderCommonFeatureBar(dataCount, this.isHorizontal);\r\n    };\r\n    /**\r\n     * To render the horizontal feature bar of the bulletChart chart\r\n     *\r\n     * @param {number} dataCount Count of the bar.\r\n     */\r\n    ScaleGroup.prototype.renderCommonFeatureBar = function (dataCount, isHorizontal) {\r\n        var categoryValue;\r\n        var dotWidth = 6;\r\n        var padding = 5;\r\n        var bulletChart = this.bulletChart;\r\n        var initialBoundsStart = isHorizontal ? (bulletChart.initialClipRect.y + bulletChart.initialClipRect.height) :\r\n            bulletChart.initialClipRect.x;\r\n        var lPoint;\r\n        var featueGroup = bulletChart.renderer.createGroup({ 'id': bulletChart.svgObject.id + '_featureGroup' });\r\n        var data;\r\n        var featureBarSize = (isHorizontal ? bulletChart.initialClipRect.height : bulletChart.initialClipRect.width) / dataCount;\r\n        var bounds;\r\n        for (var i = 0; i < dataCount; i++) {\r\n            data = bulletChart.dataSource[i];\r\n            categoryValue = data[bulletChart.categoryField];\r\n            if (isHorizontal) {\r\n                lPoint = initialBoundsStart - (featureBarSize * i) - (featureBarSize + bulletChart.valueHeight) / 2;\r\n            }\r\n            else {\r\n                lPoint = initialBoundsStart + (featureBarSize * i) + (featureBarSize / 2) - bulletChart.valueHeight / 2;\r\n            }\r\n            bounds = this.calculateFeatureMeasureBounds(data[bulletChart.valueField], categoryValue, isHorizontal);\r\n            if (data && bulletChart.type === 'Dot') {\r\n                var value = data[bulletChart.valueField];\r\n                if (isHorizontal) {\r\n                    bounds.pointX = bounds.pointX + (((value > 0) && !bulletChart.enableRtl) ||\r\n                        ((value < 0) && bulletChart.enableRtl) ? (bounds.width) : 0) - dotWidth / 2;\r\n                }\r\n                else {\r\n                    bounds.pointX = bounds.pointX + (((value > 0) && bulletChart.enableRtl) ||\r\n                        ((value < 0) && !bulletChart.enableRtl) ? (bounds.width) : 0) - dotWidth / 2;\r\n                }\r\n                bounds.width = dotWidth;\r\n            }\r\n            // Drawing feature bar rect element\r\n            if (bounds) {\r\n                var svgRect = isHorizontal ? this.featureBar(bounds.pointX, lPoint, bounds.width, i) :\r\n                    this.verticalFeatureBar(lPoint, bounds.pointX, bounds.width, i);\r\n                featueGroup.appendChild(svgRect);\r\n                this.feature = svgRect;\r\n                this.scaleSettingsGroup.appendChild(featueGroup);\r\n                this.featureBarBounds[i] = { x: bounds.pointX, y: lPoint, width: bounds.width, height: bulletChart.valueHeight };\r\n                // Drawing category text element\r\n                if (!isNullOrUndefined(categoryValue)) {\r\n                    var categoryTextSize = measureText(categoryValue, bulletChart.categoryLabelStyle);\r\n                    var categorySize = isHorizontal ? categoryTextSize.width : categoryTextSize.height;\r\n                    var initialRect = bulletChart.initialClipRect;\r\n                    var x = void 0;\r\n                    var categoryOptions = void 0;\r\n                    if (isHorizontal) {\r\n                        x = (bulletChart.enableRtl) ? (initialRect.x + initialRect.width + padding + categorySize / 2) :\r\n                            initialRect.x - padding - categorySize / 2;\r\n                        categoryOptions = this.drawcategory(x, lPoint, categoryValue);\r\n                    }\r\n                    else {\r\n                        x = (bulletChart.enableRtl) ? (initialRect.y - padding - categorySize / 2) :\r\n                            initialRect.y + initialRect.height + padding + categorySize / 2;\r\n                        categoryOptions = this.drawcategory(lPoint + bulletChart.valueHeight / 2, x, categoryValue);\r\n                    }\r\n                    textElement(categoryOptions, bulletChart.categoryLabelStyle, bulletChart.categoryLabelStyle.color || bulletChart.themeStyle.categoryFontColor, this.scaleSettingsGroup);\r\n                }\r\n            }\r\n            if (bulletChart.animation.enable) {\r\n                this.doValueBarAnimation();\r\n            }\r\n        }\r\n    };\r\n    ScaleGroup.prototype.featureBar = function (pointX, pointY, width, i) {\r\n        var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, width, this.bulletChart.valueHeight));\r\n        var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\r\n        svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\r\n        svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\r\n        return svgRect;\r\n    };\r\n    ScaleGroup.prototype.verticalFeatureBar = function (pointX, pointY, width, i) {\r\n        var featureBarOptions = new RectOption(this.bulletChart.svgObject.id + '_FeatureMeasure_' + i, this.bulletChart.valueFill, this.bulletChart.valueBorder, 1, new Rect(pointX, pointY, this.bulletChart.valueHeight, width));\r\n        var svgRect = this.bulletChart.renderer.drawRectangle(featureBarOptions);\r\n        svgRect.setAttribute('class', this.bulletChart.svgObject.id + '_FeatureMeasure');\r\n        svgRect.id = this.bulletChart.svgObject.id + '_FeatureMeasure_' + i;\r\n        return svgRect;\r\n    };\r\n    ScaleGroup.prototype.drawcategory = function (lPointX, lPointY, categoryValue) {\r\n        var categoryOptions = {\r\n            'id': '',\r\n            'anchor': 'middle',\r\n            'x': lPointX,\r\n            'y': lPointY + (this.bulletChart.valueHeight),\r\n            'transform': '',\r\n            'text': categoryValue,\r\n            'baseLine': '',\r\n            'labelRotation': 0\r\n        };\r\n        return categoryOptions;\r\n    };\r\n    /**\r\n     * To render comparative symbol of the bulletChart chart\r\n     *\r\n     * @param {number} dataCount Data count value.\r\n     */\r\n    ScaleGroup.prototype.renderComparativeSymbol = function (dataCount) {\r\n        if (dataCount === 0) {\r\n            return;\r\n        }\r\n        this.renderCommonComparativeSymbol(dataCount, this.isHorizontal);\r\n    };\r\n    ScaleGroup.prototype.renderCommonComparativeSymbol = function (dataCount, isHorizontal) {\r\n        var bulletChart = this.bulletChart;\r\n        var value;\r\n        var rect = bulletChart.initialClipRect;\r\n        var scaleLength = isHorizontal ? rect.width : rect.height;\r\n        var y1;\r\n        var y2;\r\n        var x1;\r\n        var pointY = isHorizontal ? (rect.y + rect.height) : rect.x;\r\n        var comparativeGroup = bulletChart.renderer.createGroup({ 'id': bulletChart.svgObject.id + '_comparativeGroup' });\r\n        var minimum = bulletChart.minimum;\r\n        var maximum = bulletChart.maximum;\r\n        var delta = maximum - minimum;\r\n        var targetWidth = bulletChart.targetWidth;\r\n        var pointX = isHorizontal ? (rect.x - (targetWidth / 2)) : (rect.y + rect.height);\r\n        var temp;\r\n        var values = [];\r\n        var targetTypes = bulletChart.targetTypes;\r\n        var targetType = 'Rect';\r\n        var targetTypeLength = targetTypes.length;\r\n        var featureBarSize = (isHorizontal ? rect.height : rect.width) / dataCount;\r\n        var svgElement;\r\n        for (var k = 0; k < dataCount; k++) {\r\n            value = bulletChart.dataSource[k][bulletChart.targetField];\r\n            values = values.concat(value);\r\n            for (var i = 0; i < values.length; i++) {\r\n                targetType = targetTypes[i % targetTypeLength];\r\n                if (values[i] >= minimum && values[i] <= maximum) {\r\n                    if (isHorizontal) {\r\n                        temp = pointY - (featureBarSize * k) - (featureBarSize / 2);\r\n                    }\r\n                    else {\r\n                        temp = pointY + (featureBarSize * k) + (featureBarSize / 2);\r\n                    }\r\n                    y1 = temp - targetWidth * 1.5;\r\n                    y2 = temp + targetWidth * 1.5;\r\n                    temp = (scaleLength / (delta / (delta - (maximum - values[i]))));\r\n                    if (isHorizontal) {\r\n                        x1 = pointX + (bulletChart.enableRtl ? (scaleLength - temp) : temp);\r\n                    }\r\n                    else {\r\n                        x1 = pointX - (bulletChart.enableRtl ? (scaleLength - temp) : temp);\r\n                    }\r\n                    svgElement = this.getTargetElement(targetType, isHorizontal, x1, y1, y2, values[i], k);\r\n                    this.comparative.push(svgElement);\r\n                    comparativeGroup.appendChild(svgElement);\r\n                    y1 = 0;\r\n                    y2 = 0;\r\n                }\r\n                this.scaleSettingsGroup.appendChild(comparativeGroup);\r\n            }\r\n            values = [];\r\n            if (bulletChart.animation.enable) {\r\n                this.doTargetBarAnimation(0);\r\n            }\r\n        }\r\n    };\r\n    ScaleGroup.prototype.getTargetElement = function (targetType, isHorizontal, x1, y1, y2, value, k) {\r\n        var shapeObject;\r\n        var shapeElement;\r\n        var bulletChart = this.bulletChart;\r\n        var strokeWidth = (targetType === 'Cross') ? bulletChart.targetWidth - 1 : 1;\r\n        var size = (targetType === 'Circle') ? bulletChart.targetWidth - 1 : bulletChart.targetWidth;\r\n        var lx = isHorizontal ? x1 + (size / 2) : y1 + ((y2 - y1) / 2);\r\n        var ly = isHorizontal ? y1 + ((y2 - y1) / 2) : x1;\r\n        var id = bulletChart.svgObject.id + '_ComparativeMeasure_' + k;\r\n        var className = bulletChart.svgObject.id + '_ComparativeMeasure';\r\n        if (targetType === 'Rect') {\r\n            shapeObject = isHorizontal ? this.compareMeasure(x1, y1, y2, k, value) : this.compareVMeasure(y1, y2, x1, k);\r\n            shapeElement = bulletChart.renderer.drawLine(shapeObject);\r\n        }\r\n        else if (targetType === 'Circle') {\r\n            shapeObject = new CircleOption(id, bulletChart.targetColor, { width: 1, color: bulletChart.targetColor || 'black' }, 1, lx, ly, size);\r\n            shapeElement = bulletChart.renderer.drawCircle(shapeObject);\r\n        }\r\n        else {\r\n            var crossDirection = 'M ' + (lx - size) + ' ' + (ly - size) + ' L ' + (lx + size) + ' ' + (ly + size) + ' M ' +\r\n                (lx - size) + ' ' + (ly + size) + ' L ' + (lx + size) + ' ' + (ly - size);\r\n            shapeObject = new PathOption(id, 'transparent', strokeWidth, bulletChart.targetColor, 1, '', crossDirection);\r\n            shapeElement = bulletChart.renderer.drawPath(shapeObject);\r\n        }\r\n        shapeElement.setAttribute('class', className);\r\n        return shapeElement;\r\n    };\r\n    ScaleGroup.prototype.compareMeasure = function (x1, y1, y2, i, value) {\r\n        var bulletChart = this.bulletChart;\r\n        var compareMeasureOptions = {\r\n            'class': bulletChart.svgObject.id + '_ComparativeMeasure',\r\n            'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\r\n            'x1': (value === bulletChart.maximum) ? x1 - (bulletChart.targetWidth / 2) :\r\n                (value === bulletChart.minimum) ? x1 + (bulletChart.targetWidth / 2) : x1,\r\n            'y1': y1,\r\n            'x2': (value === bulletChart.maximum) ? x1 - (bulletChart.targetWidth / 2) :\r\n                (value === bulletChart.minimum) ? x1 + (bulletChart.targetWidth / 2) : x1,\r\n            'y2': y2,\r\n            'stroke-width': bulletChart.targetWidth,\r\n            'stroke': bulletChart.targetColor || 'black'\r\n        };\r\n        return compareMeasureOptions;\r\n    };\r\n    ScaleGroup.prototype.compareVMeasure = function (x1, x2, y1, i) {\r\n        var bulletChart = this.bulletChart;\r\n        var compareMeasureOptions = {\r\n            'class': bulletChart.svgObject.id + '_ComparativeMeasure',\r\n            'id': bulletChart.svgObject.id + '_ComparativeMeasure_' + i,\r\n            'x1': x1,\r\n            'y1': y1,\r\n            'x2': x2,\r\n            'y2': y1,\r\n            'stroke-width': bulletChart.targetWidth,\r\n            'stroke': bulletChart.targetColor || 'black'\r\n        };\r\n        return compareMeasureOptions;\r\n    };\r\n    /**\r\n     * To calculate the bounds on vertical and horizontal orientation changes\r\n     *\r\n     * @param {number} value Value of the scale.\r\n     * @param {string} categoryValue Value of the category.\r\n     * @param {boolean} isHorizontal Boolean value.\r\n     * @returns {IFeatureMeasureType} calculateFeatureMeasureBounds\r\n     */\r\n    ScaleGroup.prototype.calculateFeatureMeasureBounds = function (value, categoryValue, isHorizontal) {\r\n        var bulletChart = this.bulletChart;\r\n        var min = bulletChart.minimum;\r\n        value = (value < min && min <= 0) ? min : value;\r\n        if (value >= min) {\r\n            var pointX = void 0;\r\n            var lastPointX = void 0;\r\n            var width = void 0;\r\n            var loc = isHorizontal ? bulletChart.initialClipRect.x : bulletChart.initialClipRect.y;\r\n            var scaleLength = isHorizontal ? bulletChart.initialClipRect.width : bulletChart.initialClipRect.height;\r\n            var delta = bulletChart.maximum - bulletChart.minimum;\r\n            var valueDiff = bulletChart.maximum - value;\r\n            var orientation_1 = ((!bulletChart.enableRtl) ? 'forward' : 'backward') + this.scaleOrientation.toLowerCase();\r\n            categoryValue = isNullOrUndefined(categoryValue) ? '' : categoryValue;\r\n            var stringLength = measureText(categoryValue.toString(), bulletChart.labelStyle).width;\r\n            switch (orientation_1) {\r\n                case 'forwardhorizontal':\r\n                case 'backwardvertical':\r\n                    pointX = loc + ((min > 0) ? 0 : scaleLength / delta * Math.abs(min));\r\n                    width = scaleLength / (delta / ((min > 0) ? delta - valueDiff : value));\r\n                    if (value < 0) {\r\n                        width = Math.abs(width);\r\n                        pointX -= width;\r\n                    }\r\n                    width = (pointX + width < loc + scaleLength) ? width : loc + scaleLength - pointX;\r\n                    lastPointX = loc - ((orientation_1 === 'forwardhorizontal') ? (stringLength / 2 + 5) :\r\n                        this.labelOffset);\r\n                    break;\r\n                default:\r\n                    pointX = loc + (scaleLength - scaleLength / (delta / (delta - valueDiff)));\r\n                    width = (min > 0) ? scaleLength / (delta / (delta - valueDiff)) : scaleLength / (delta / (value));\r\n                    if (value < 0) {\r\n                        width = Math.abs(width);\r\n                        pointX -= width;\r\n                    }\r\n                    if (pointX < loc) {\r\n                        width = pointX + width - loc;\r\n                        pointX = loc;\r\n                    }\r\n                    lastPointX = loc + scaleLength + ((orientation_1 === 'backwardhorizontal') ? (stringLength / 2 +\r\n                        5) : 5);\r\n                    break;\r\n            }\r\n            return { pointX: pointX, width: width, lastPointX: lastPointX };\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Animates the feature bar.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ScaleGroup.prototype.doValueBarAnimation = function () {\r\n        var valueBarElement = this.feature;\r\n        if (!valueBarElement) {\r\n            return null;\r\n        }\r\n        var animateOption = this.bulletChart.animation;\r\n        var animateDuration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : animateOption.duration;\r\n        var effectType = getAnimationFunction('Linear');\r\n        var isValuePlot = this.bulletChart.dataSource < 0;\r\n        var valueX;\r\n        var valueY;\r\n        var elementBarHeight = valueBarElement.getBoundingClientRect().height;\r\n        var elementBarWidth = valueBarElement.getBoundingClientRect().width;\r\n        var centerX;\r\n        var centerY;\r\n        var valueActual;\r\n        if (this.bulletChart.orientation === 'Horizontal' && valueBarElement) {\r\n            valueY = parseInt(valueBarElement.getAttribute('height'), 10);\r\n            valueX = parseInt(valueBarElement.getAttribute('x'), 10);\r\n            centerY = isValuePlot ? valueY : valueY + elementBarHeight;\r\n            centerX = valueX;\r\n        }\r\n        valueBarElement.style.visibility = 'hidden';\r\n        new Animation({}).animate(valueBarElement, {\r\n            duration: animateDuration,\r\n            delay: animateOption.delay,\r\n            progress: function (args) {\r\n                if (args.timeStamp >= args.delay) {\r\n                    valueBarElement.style.visibility = 'visible';\r\n                    elementBarWidth = elementBarWidth ? elementBarWidth : 1;\r\n                    valueActual = effectType(args.timeStamp - args.delay, 0, elementBarWidth, args.duration);\r\n                    valueBarElement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY +\r\n                        ') scale(' + (valueActual / elementBarWidth) + ', 1) translate(' + (-centerX) + ' ' + (-centerY) + ')');\r\n                }\r\n            },\r\n            end: function () {\r\n                valueBarElement.setAttribute('transform', 'translate(0,0)');\r\n                valueBarElement.style.visibility = 'visible';\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Animates the comparative bar.\r\n     *\r\n     * @param {number} index Defines the feature bar to animate.\r\n     * @returns {void}\r\n     */\r\n    ScaleGroup.prototype.doTargetBarAnimation = function (index) {\r\n        var x;\r\n        var y;\r\n        var centerX;\r\n        var centerY;\r\n        var targetBarelement = this.comparative[index];\r\n        if (!targetBarelement) {\r\n            return null;\r\n        }\r\n        if (this.bulletChart.orientation === 'Horizontal' && targetBarelement) {\r\n            y = parseFloat(targetBarelement.getAttribute('y1')) + parseFloat(targetBarelement.getAttribute('y2'));\r\n            x = parseFloat(targetBarelement.getAttribute('x1'));\r\n            centerY = y;\r\n            centerX = x;\r\n        }\r\n        targetBarelement.style.visibility = 'hidden';\r\n        this.animateRect(targetBarelement, centerX, centerY, index + 1);\r\n    };\r\n    ScaleGroup.prototype.animateRect = function (targetBarelement, centerX, centerY, index) {\r\n        var _this = this;\r\n        var effect = getAnimationFunction('Linear');\r\n        var value;\r\n        var option = this.bulletChart.animation;\r\n        var threshold = this.comparative.length;\r\n        var duration = this.bulletChart.animateSeries ? this.bulletChart.animation.duration : option.duration;\r\n        new Animation({}).animate(targetBarelement, {\r\n            duration: duration,\r\n            delay: option.delay,\r\n            progress: function (args) {\r\n                if (args.timeStamp >= args.delay) {\r\n                    targetBarelement.style.visibility = 'visible';\r\n                    value = effect(args.timeStamp - args.delay, 0, 1, args.duration);\r\n                    targetBarelement.setAttribute('transform', 'translate(' + centerX + ' ' + centerY / 2 +\r\n                        ') scale(1,' + (value) + ') translate(' + (-centerX) + ' ' + (-centerY / 2) + ')');\r\n                }\r\n            },\r\n            end: function () {\r\n                targetBarelement.setAttribute('transform', 'translate(0,0)');\r\n                if (index < threshold) {\r\n                    _this.doTargetBarAnimation(index + 1);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return ScaleGroup;\r\n}());\r\nexport { ScaleGroup };\r\n"]},"metadata":{},"sourceType":"module"}