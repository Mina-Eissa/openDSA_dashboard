{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable jsdoc/require-returns */\n\n/* eslint-disable jsdoc/require-param */\n\n/* eslint-disable valid-jsdoc */\n\n/* eslint-disable @typescript-eslint/ban-types */\n\n\nimport { Component, Property, NotifyPropertyChanges, Internationalization } from '@syncfusion/ej2-base';\nimport { L10n, setValue, isNullOrUndefined, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { ChildProperty } from '@syncfusion/ej2-base';\nimport { remove, extend } from '@syncfusion/ej2-base';\nimport { Browser, Touch } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, Complex, Collection } from '@syncfusion/ej2-base';\nimport { findClipRect, showTooltip, ImageOption, removeElement, appendChildElement, blazorTemplatesReset } from '../common/utils/helper';\nimport { textElement, RectOption, createSvg, firstToLowerCase, titlePositionX, redrawElement, getTextAnchor } from '../common/utils/helper';\nimport { appendClipElement, ChartLocation } from '../common/utils/helper';\nimport { getSeriesColor, Theme, getThemeColor } from '../common/model/theme';\nimport { Margin, Border, ChartArea, Font, Indexes, TooltipSettings } from '../common/model/base';\nimport { Row, Column, Axis } from './axis/axis';\nimport { CartesianAxisLayoutPanel } from './axis/cartesian-panel';\nimport { Rect, measureText, TextOption, Size, SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { ChartData } from './utils/get-data';\nimport { Series } from './series/chart-series';\nimport { Data } from '../common/model/data';\nimport { Marker } from './series/marker';\nimport { LegendSettings } from '../common/legend/legend';\nimport { TechnicalIndicator } from './technical-indicators/technical-indicator';\nimport { chartMouseClick, chartDoubleClick, pointClick, pointDoubleClick, axisLabelClick, beforeResize } from '../common/model/constants';\nimport { chartMouseDown, chartMouseMove, chartMouseUp, load, pointMove, chartMouseLeave, resized } from '../common/model/constants';\nimport { ChartAnnotationSettings } from './model/chart-base';\nimport { getElement, getTitle } from '../common/utils/helper';\nimport { ExportUtils } from '../common/utils/export';\n/**\r\n * Configures the RangeColorSetting in the chart.\r\n */\n\nvar RangeColorSetting =\n/** @class */\nfunction (_super) {\n  __extends(RangeColorSetting, _super);\n\n  function RangeColorSetting() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property()], RangeColorSetting.prototype, \"start\", void 0);\n\n  __decorate([Property()], RangeColorSetting.prototype, \"end\", void 0);\n\n  __decorate([Property([])], RangeColorSetting.prototype, \"colors\", void 0);\n\n  __decorate([Property('')], RangeColorSetting.prototype, \"label\", void 0);\n\n  return RangeColorSetting;\n}(ChildProperty);\n\nexport { RangeColorSetting };\n/**\r\n * Configures the crosshair in the chart.\r\n */\n\nvar CrosshairSettings =\n/** @class */\nfunction (_super) {\n  __extends(CrosshairSettings, _super);\n\n  function CrosshairSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(false)], CrosshairSettings.prototype, \"enable\", void 0);\n\n  __decorate([Property('')], CrosshairSettings.prototype, \"dashArray\", void 0);\n\n  __decorate([Complex({\n    color: null,\n    width: 1\n  }, Border)], CrosshairSettings.prototype, \"line\", void 0);\n\n  __decorate([Property('Both')], CrosshairSettings.prototype, \"lineType\", void 0);\n\n  __decorate([Property('')], CrosshairSettings.prototype, \"verticalLineColor\", void 0);\n\n  __decorate([Property('')], CrosshairSettings.prototype, \"horizontalLineColor\", void 0);\n\n  __decorate([Property(1)], CrosshairSettings.prototype, \"opacity\", void 0);\n\n  return CrosshairSettings;\n}(ChildProperty);\n\nexport { CrosshairSettings };\n/**\r\n * Configures the zooming behavior for the chart.\r\n */\n\nvar ZoomSettings =\n/** @class */\nfunction (_super) {\n  __extends(ZoomSettings, _super);\n\n  function ZoomSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(false)], ZoomSettings.prototype, \"enableSelectionZooming\", void 0);\n\n  __decorate([Property(false)], ZoomSettings.prototype, \"enablePinchZooming\", void 0);\n\n  __decorate([Property(false)], ZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\n\n  __decorate([Property(true)], ZoomSettings.prototype, \"enableDeferredZooming\", void 0);\n\n  __decorate([Property('XY')], ZoomSettings.prototype, \"mode\", void 0);\n\n  __decorate([Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])], ZoomSettings.prototype, \"toolbarItems\", void 0);\n\n  __decorate([Property(false)], ZoomSettings.prototype, \"enablePan\", void 0);\n\n  __decorate([Property(false)], ZoomSettings.prototype, \"enableScrollbar\", void 0);\n\n  return ZoomSettings;\n}(ChildProperty);\n\nexport { ZoomSettings };\n/**\r\n * Represents the Chart control.\r\n * ```html\r\n * <div id=\"chart\"/>\r\n * <script>\r\n *   var chartObj = new Chart({ isResponsive : true });\r\n *   chartObj.appendTo(\"#chart\");\r\n * </script>\r\n * ```\r\n *\r\n * @public\r\n */\n\nvar Chart =\n/** @class */\nfunction (_super) {\n  __extends(Chart, _super);\n  /**\r\n   * Constructor for creating the widget\r\n   *\r\n   * @hidden\r\n   */\n\n\n  function Chart(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /** @private */\n\n\n    _this.rotatedDataLabelCollections = [];\n    /** @public */\n\n    _this.animated = false;\n    /** @private */\n\n    _this.isPointMouseDown = false;\n    /** @private */\n\n    _this.isScrolling = false;\n    /** @private */\n\n    _this.checkResize = 0;\n    /** @private */\n\n    _this.visible = 0;\n    /** @private */\n\n    _this.clickCount = 0;\n    /** @private */\n\n    _this.singleClickTimer = 0;\n    /** @private */\n\n    _this.chartAreaType = 'Cartesian';\n    /** @private */\n\n    _this.isRtlEnabled = false;\n    _this.chartid = 57723;\n    setValue('mergePersistData', _this.mergePersistChartData, _this);\n    return _this;\n  }\n  /**\r\n   * To manage persist chart data\r\n   */\n\n\n  Chart.prototype.mergePersistChartData = function () {\n    var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n\n    if (!(isNullOrUndefined(data) || data === '')) {\n      var dataObj = JSON.parse(data);\n      var keys = Object.keys(dataObj);\n      this.isProtectedOnChange = true;\n\n      for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n\n        if (typeof this[key] === 'object' && !isNullOrUndefined(this[key])) {\n          extend(this[key], dataObj[key]);\n        } else {\n          this[key] = dataObj[key];\n        }\n      }\n\n      this.isProtectedOnChange = false;\n    }\n  };\n  /**\r\n   *\r\n   * @param elementId\r\n   * Return the proper ID when the special character exist in the ID\r\n   */\n\n\n  Chart.prototype.isIdHasSpecialCharacter = function (elementId) {\n    var regex = /^[A-Za-z ]+$/;\n    var numberRegex = /^[0-9 ]+$/;\n    var childElementId = '';\n\n    if (!regex.test(elementId)) {\n      var start = 0;\n\n      if (numberRegex.test(elementId[0])) {\n        childElementId += '\\\\3' + elementId[0];\n        start = 1;\n      }\n\n      for (var i = start; i < elementId.length; i++) {\n        if (!regex.test(elementId[i]) && elementId.indexOf('-') === -1 && elementId.indexOf('_') === -1 && elementId.indexOf('\\\\') === -1 && !numberRegex.test(elementId[i])) {\n          childElementId += '\\\\' + elementId[i];\n        } else {\n          childElementId += elementId[i];\n        }\n      }\n\n      return childElementId;\n    } else {\n      return elementId;\n    }\n  };\n  /**\r\n   * Initialize the event handler.\r\n   */\n\n\n  Chart.prototype.preRender = function () {\n    this.element.id = this.isIdHasSpecialCharacter(this.element.id); // It is used for checking blazor framework or not.\n\n    var blazor = 'Blazor';\n    this.isBlazor = window[blazor];\n    this.allowServerDataBinding = false;\n    this.unWireEvents();\n    this.initPrivateVariable();\n    this.setCulture();\n    this.wireEvents();\n\n    if (this.stockChart) {\n      if (this.stockChart.tooltip.header === null) {\n        this.tooltip.header = '<b>${point.x}</b>';\n      }\n\n      if (this.stockChart.tooltip.format === null) {\n        this.tooltip.format = 'High : <b>${point.high}</b><br/>Low :' + ' <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>';\n\n        if (this.stockChart.series[0].volume !== '') {\n          this.tooltip.format += '<br/>Volume : <b>${point.volume}</b>';\n        }\n      }\n\n      this.animateSeries = false;\n    }\n\n    this.element.setAttribute('dir', this.enableRtl ? 'rtl' : '');\n  };\n\n  Chart.prototype.initPrivateVariable = function () {\n    this.animateSeries = true;\n    this.delayRedraw = false;\n    this.horizontalAxes = [];\n    this.verticalAxes = [];\n    this.refreshAxis();\n    this.refreshDefinition(this.rows);\n    this.refreshDefinition(this.columns);\n\n    if (this.tooltipModule) {\n      this.tooltipModule.previousPoints = [];\n    }\n\n    if (this.element.id === '') {\n      var collection = document.getElementsByClassName('e-chart').length;\n      this.element.id = 'chart_' + this.chartid + '_' + collection;\n    } //seperate ID to differentiate chart and stock chart\n\n\n    this.svgId = this.stockChart ? this.stockChart.element.id + '_stockChart_chart' : this.element.id + (this.enableCanvas ? '_canvas' : '_svg');\n  };\n  /**\r\n   * To Initialize the control rendering.\r\n   */\n\n\n  Chart.prototype.render = function () {\n    var _this = this;\n\n    this.svgRenderer = new SvgRenderer(this.element.id);\n    var loadEventData = {\n      chart: this.isBlazor ? {} : this,\n      theme: this.theme,\n      name: load,\n      cancel: false\n    };\n\n    if (!this.stockChart) {\n      /**\r\n       * Load event for the chart will be triggered only chart componet, if this is stock chart, load event did not triggered.\r\n       */\n      this.trigger(load, loadEventData, function () {\n        if (!loadEventData.cancel) {\n          _this.cartesianChartRendering(loadEventData);\n        }\n      });\n    } else {\n      // The fix is specific for nextjs app, as window is set as not defined for server side application like nextjs.\n      this.isRtlEnabled = window.getComputedStyle(document.querySelector('body')).direction === 'rtl';\n      this.cartesianChartRendering(loadEventData);\n    }\n  };\n\n  Chart.prototype.cartesianChartRendering = function (beforeRenderData) {\n    this.theme = this.isBlazor ? beforeRenderData.theme : this.theme;\n    this.createChartSvg();\n    this.setTheme();\n    this.markerRender = new Marker(this);\n    this.calculateAreaType();\n    this.calculateVisibleSeries();\n    this.initTechnicalIndicators();\n    this.initTrendLines();\n    this.calculateVisibleAxis();\n    this.processData();\n    this.renderComplete();\n    this.allowServerDataBinding = true;\n  };\n  /**\r\n   * Gets the localized label by locale keyword.\r\n   *\r\n   * @param  {string} key key\r\n   * @returns {string} localized label\r\n   */\n\n\n  Chart.prototype.getLocalizedLabel = function (key) {\n    return this.localeObject.getConstant(key);\n  };\n  /**\r\n   * Animate the series bounds.\r\n   *\r\n   * @private\r\n   */\n\n\n  Chart.prototype.animate = function (duration) {\n    this.redraw = true;\n    this.animated = true; //used to set duration as 1000 for animation at default 300\n\n    this.duration = duration ? duration : 1000;\n  };\n  /**\r\n   * Refresh the chart bounds.\r\n   *\r\n   * @private\r\n   */\n\n\n  Chart.prototype.refreshBound = function () {\n    this.rotatedDataLabelCollections = [];\n\n    if (this.legendModule && this.legendSettings.visible) {\n      this.legendModule.getLegendOptions(this.visibleSeries, this);\n    }\n    /**\r\n     * I264230, EJ2-36761\r\n     * Issue: Tooltip doesnot appears after zooming and hovering on same point\r\n     * Root cause: While performing zoom, previous points in tooltip restore.\r\n     * Fix: previous points set to empty array\r\n     */\n\n\n    if (this.tooltip.enable && this.tooltipModule) {\n      this.tooltipModule.previousPoints = [];\n    }\n\n    this.calculateStackValues();\n    this.calculateBounds(); //this prevents the initial rendering of stock chart\n\n    if (this.stockChart && !this.stockChart.rangeFound) {\n      if (this.stockChart.enablePeriodSelector || this.stockChart.enableSelector) {\n        return null;\n      }\n    }\n\n    this.renderElements();\n    removeElement('chartmeasuretext');\n    this.removeSelection();\n\n    if (this.markerRender && !this.stockChart) {\n      this.markerRender.mergeXvalues(this.visibleSeries);\n    }\n  };\n  /**\r\n   * To calcualte the stack values\r\n   */\n\n\n  Chart.prototype.calculateStackValues = function () {\n    var series;\n    var isCalculateStacking = false;\n\n    for (var i = 0, len = this.visibleSeries.length; i < len; i++) {\n      series = this.visibleSeries[i];\n      series.position = series.rectCount = undefined;\n\n      if ((series.type.indexOf('Stacking') !== -1 || series.drawType.indexOf('Stacking') !== -1 && this.chartAreaType === 'PolarRadar') && !isCalculateStacking) {\n        series.calculateStackedValue(series.type.indexOf('100') > -1, this);\n        isCalculateStacking = true;\n      }\n    }\n  };\n\n  Chart.prototype.removeSelection = function () {\n    for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n      var series = _a[_i];\n\n      if (series.visible) {\n        for (var _b = 0, _c = series.points; _b < _c.length; _b++) {\n          var point = _c[_b];\n          point.isSelect = false;\n        }\n      }\n    }\n\n    if (getElement(this.element.id + '_ej2_drag_multi_group')) {\n      if (this.selectionMode.indexOf('Drag') > -1) {\n        this.selectionModule.filterArray = [];\n      }\n\n      removeElement(this.element.id + '_ej2_drag_multi_group');\n      this.selectionModule.calculateDragSelectedElements(this, new Rect(0, 0, 0, 0), true);\n    } else if (getElement(this.element.id + '_ej2_drag_group')) {\n      if (this.selectionMode !== 'Lasso') {\n        this.selectionModule.filterArray = [];\n      }\n\n      removeElement(this.element.id + '_ej2_drag_group');\n      this.selectionModule.calculateDragSelectedElements(this, new Rect(0, 0, 0, 0), true);\n    }\n  };\n\n  Chart.prototype.renderElements = function () {\n    this.renderBorder();\n    this.renderTitle();\n    this.renderAreaBorder();\n    this.renderSeriesElements(this.renderAxes());\n    this.renderLegend();\n    this.applyZoomkit();\n    this.performSelection();\n    this.setSecondaryElementPosition();\n\n    for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n      var value = _a[_i];\n      updateBlazorTemplate(this.element.id + '_DataLabel', 'Template', value.marker.dataLabel);\n    }\n\n    this.renderAnnotation();\n  };\n  /**\r\n   * To render the legend\r\n   *\r\n   * @private\r\n   */\n\n\n  Chart.prototype.renderAxes = function () {\n    this.yAxisElements = this.renderer.createGroup({\n      id: this.element.id + 'yAxisCollection'\n    });\n    var axisElement;\n\n    if (this.rows.length > 0 && this.columns.length > 0) {\n      axisElement = this.chartAxisLayoutPanel.renderAxes();\n    }\n\n    if (this.stripLineModule) {\n      this.stripLineModule.renderStripLine(this, 'Behind', this.axisCollections);\n    }\n\n    return axisElement;\n  };\n  /**\r\n   * To render the legend\r\n   */\n\n\n  Chart.prototype.renderLegend = function () {\n    if (this.legendModule && this.legendModule.legendCollections.length && this.legendSettings.visible) {\n      this.legendModule.calTotalPage = true;\n      var borderWidth = this.legendSettings.border.width;\n      var bounds = this.legendModule.legendBounds;\n      var rect = new Rect(bounds.x, bounds.y, bounds.width, bounds.height);\n\n      if (this.enableCanvas) {\n        rect = new Rect(rect.x - borderWidth / 2, rect.y - borderWidth / 2, rect.width + borderWidth, rect.height + borderWidth);\n        this.renderer.canvasClip(rect);\n      }\n\n      this.legendModule.renderLegend(this, this.legendSettings, bounds);\n\n      if (this.enableCanvas) {\n        this.renderer.canvasRestore();\n      }\n    }\n\n    if (!this.redraw) {\n      if (!this.stockChart) {\n        this.element.appendChild(this.svgObject);\n      } else {\n        if (!getElement(this.stockChart.chartObject.id)) {\n          this.stockChart.mainObject.appendChild(this.svgObject);\n        }\n      }\n    }\n  };\n  /**\r\n   * To set the left and top position for data label template for center aligned chart\r\n   */\n\n\n  Chart.prototype.setSecondaryElementPosition = function () {\n    var element = getElement(this.element.id + '_Secondary_Element');\n\n    if (!element) {\n      return;\n    }\n\n    var rect = this.element.getBoundingClientRect();\n    var svgRect = getElement(this.svgId).getBoundingClientRect();\n    element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\n    element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\n  };\n\n  Chart.prototype.initializeModuleElements = function () {\n    this.dataLabelCollections = [];\n    var elementId = this.element.id;\n\n    if (this.series.length) {\n      this.seriesElements = this.series[0].type === 'Scatter' || this.series[0].type === 'Bubble' ? this.svgRenderer.createGroup({\n        id: elementId + 'SeriesCollection'\n      }) : this.renderer.createGroup({\n        id: elementId + 'SeriesCollection'\n      });\n    }\n\n    if (this.indicators.length) {\n      this.indicatorElements = this.renderer.createGroup({\n        id: elementId + 'IndicatorCollection'\n      });\n    }\n\n    if (this.hasTrendlines()) {\n      this.trendLineElements = this.renderer.createGroup({\n        id: elementId + 'TrendLineCollection'\n      });\n    }\n\n    this.dataLabelElements = this.renderer.createGroup({\n      id: elementId + 'DataLabelCollection'\n    });\n  };\n\n  Chart.prototype.hasTrendlines = function () {\n    var isTrendline;\n\n    for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n      var series = _a[_i];\n      isTrendline = series.trendlines.length ? true : false;\n\n      if (isTrendline) {\n        break;\n      }\n    }\n\n    return isTrendline;\n  };\n\n  Chart.prototype.renderSeriesElements = function (axisElement) {\n    // Initialize the series elements values\n    this.initializeModuleElements();\n    var elementId = this.element.id;\n\n    if (this.element.tagName !== 'g') {\n      var tooltipDiv = redrawElement(this.redraw, elementId + '_Secondary_Element') || this.createElement('div');\n      tooltipDiv.id = elementId + '_Secondary_Element';\n      tooltipDiv.style.cssText = 'position: relative';\n      appendChildElement(false, this.element, tooltipDiv, this.redraw);\n    } // For canvas\n\n\n    if (this.enableCanvas) {\n      var tooltipdiv = document.getElementById(elementId + '_Secondary_Element');\n      tooltipdiv = !tooltipdiv ? this.createElement('div', {\n        id: elementId + '_Secondary_Element',\n        attrs: {\n          'style': 'position: relative; left:0px; top:0px'\n        }\n      }) : tooltipdiv;\n      var svg = this.svgRenderer.createSvg({\n        id: elementId + '_tooltip_svg',\n        width: this.availableSize.width,\n        height: this.availableSize.height\n      });\n      svg.style.cssText = 'position: absolute; pointer-events: none';\n      tooltipdiv.appendChild(svg);\n    } // For userInteraction\n\n\n    if (this.tooltip.enable) {\n      appendChildElement(this.enableCanvas, this.svgObject, this.renderer.createGroup({\n        id: elementId + '_UserInteraction',\n        style: 'pointer-events:none;'\n      }), this.redraw);\n    }\n\n    if (this.rows.length > 0 && this.columns.length > 0) {\n      this.initializeIndicator();\n      this.initializeTrendLine();\n      this.renderSeries(); // Trendline is append to DOM after the series\n\n      if (this.trendLineElements) {\n        appendChildElement(this.enableCanvas, this.svgObject, this.trendLineElements, this.redraw);\n      }\n\n      this.appendElementsAfterSeries(axisElement);\n    }\n  };\n  /**\r\n   * @private\r\n   */\n\n\n  Chart.prototype.renderSeries = function () {\n    var visibility;\n\n    if (this.enableCanvas) {\n      // To clip the series rect for canvas\n      this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);\n    }\n\n    for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (item.category === 'TrendLine') {\n        visibility = this.series[item.sourceIndex].trendlines[item.index].visible;\n      } else {\n        visibility = item.visible;\n      }\n\n      if (visibility) {\n        this.visible++;\n        findClipRect(item);\n\n        if (this.enableCanvas) {\n          // To render scatter and bubble series in canvas\n          this.renderCanvasSeries(item);\n        }\n\n        item.renderSeries(this);\n      }\n    }\n\n    if (this.enableCanvas) {\n      this.renderer.canvasRestore();\n    }\n\n    this.visible = 0;\n    var options = {\n      'id': this.element.id + '_ChartAreaClipRect_',\n      'x': this.chartAxisLayoutPanel.seriesClipRect.x,\n      'y': this.chartAxisLayoutPanel.seriesClipRect.y,\n      'width': this.chartAxisLayoutPanel.seriesClipRect.width,\n      'height': this.chartAxisLayoutPanel.seriesClipRect.height,\n      'fill': 'transparent',\n      'stroke-width': 1,\n      'stroke': 'Gray'\n    };\n\n    if (!this.seriesElements) {\n      return;\n    }\n\n    if (!this.enableCanvas) {\n      this.seriesElements.appendChild(appendClipElement(this.redraw, options, this.renderer));\n    }\n\n    var seriesSvg = document.getElementById(this.element.id + '_series_svg');\n\n    if (seriesSvg) {\n      appendChildElement(false, seriesSvg, this.seriesElements, this.redraw);\n    } else {\n      appendChildElement(this.enableCanvas, this.svgObject, this.seriesElements, this.redraw);\n    }\n  };\n\n  Chart.prototype.renderCanvasSeries = function (item) {\n    var svgElement;\n    var divElement;\n\n    if (item.type === 'Bubble' || item.type === 'Scatter') {\n      svgElement = !svgElement ? this.svgRenderer.createSvg({\n        id: this.element.id + '_series_svg',\n        width: this.availableSize.width,\n        height: this.availableSize.height\n      }) : svgElement;\n      divElement = !divElement ? this.createElement('div', {\n        id: this.element.id + '_series'\n      }) : divElement;\n      divElement.style.cssText = 'position: absolute';\n      var mainElement = document.getElementById(this.element.id + '_Secondary_Element');\n      divElement.appendChild(svgElement);\n      mainElement.appendChild(divElement);\n    }\n\n    svgElement = this.enableCanvas && (item.type === 'Bubble' || item.type === 'Scatter') ? svgElement : this.svgObject; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n    var canvas = this.enableCanvas && (item.type === 'Bubble' || item.type === 'Scatter') ? false : this.enableCanvas;\n  };\n\n  Chart.prototype.initializeIndicator = function () {\n    for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n      var indicator = _a[_i];\n\n      if (this[firstToLowerCase(indicator.type) + 'IndicatorModule']) {\n        this[firstToLowerCase(indicator.type) + 'IndicatorModule'].createIndicatorElements(this, indicator, indicator.index);\n      }\n    }\n\n    if (this.indicatorElements) {\n      appendChildElement(this.enableCanvas, this.svgObject, this.indicatorElements, this.redraw);\n    }\n  };\n\n  Chart.prototype.initializeTrendLine = function () {\n    for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n      var series = _a[_i];\n\n      if (series.trendlines.length) {\n        this.trendLineModule.getTrendLineElements(series, this);\n      }\n    }\n  };\n\n  Chart.prototype.appendElementsAfterSeries = function (axisElement) {\n    if (this.chartAreaType === 'PolarRadar') {\n      appendChildElement(this.enableCanvas, this.svgObject, this.yAxisElements, this.redraw);\n    }\n\n    appendChildElement(this.enableCanvas, this.svgObject, axisElement, this.redraw);\n\n    if (this.zoomModule && this.zoomSettings.enableScrollbar && this.scrollElement.childElementCount || this.scrollElement && this.scrollElement.childElementCount) {\n      appendChildElement(false, getElement(this.element.id + '_Secondary_Element'), this.scrollElement, this.redraw);\n    }\n\n    if (this.stripLineModule) {\n      this.stripLineModule.renderStripLine(this, 'Over', this.axisCollections);\n    }\n\n    if (!this.tooltip.enable) {\n      appendChildElement(this.enableCanvas, this.svgObject, this.renderer.createGroup({\n        id: this.element.id + '_UserInteraction',\n        style: 'pointer-events:none;'\n      }), this.redraw);\n    }\n\n    if (this.stockChart) {\n      this.stockChart.calculateStockEvents();\n    }\n  };\n\n  Chart.prototype.applyZoomkit = function () {\n    /**\r\n     * Issue: Zoomkit not visible after performing refresh()\r\n     * Fix: this method called without checking `zoomModule.isZoomed`\r\n     */\n    if (this.chartAreaType === 'PolarRadar') {\n      return;\n    }\n\n    if (!this.redraw && this.zoomModule && (!this.zoomSettings.enablePan || this.zoomModule.performedUI)) {\n      this.zoomModule.applyZoomToolkit(this, this.axisCollections);\n    }\n  };\n  /**\r\n   * Render annotation perform here\r\n   *\r\n   * @private\r\n   */\n\n\n  Chart.prototype.renderAnnotation = function () {\n    if (this.annotationModule) {\n      //for stock chart, stock chart's id is added to render the annotations\n      this.annotationModule.renderAnnotations(getElement((this.stockChart ? this.stockChart.element.id : this.element.id) + '_Secondary_Element'));\n    }\n  };\n\n  Chart.prototype.performSelection = function () {\n    var selectedDataIndexes = [];\n\n    if (this.selectionModule) {\n      selectedDataIndexes = extend([], this.selectionModule.selectedDataIndexes, null, true);\n      this.selectionModule.invokeSelection(this);\n    }\n\n    if (this.highlightModule) {\n      this.highlightModule.invokeHighlight(this);\n    }\n\n    if (selectedDataIndexes.length > 0) {\n      this.selectionModule.selectedDataIndexes = selectedDataIndexes;\n      this.selectionModule.redrawSelection(this, this.selectionMode);\n    }\n  };\n\n  Chart.prototype.processData = function (render) {\n    if (render === void 0) {\n      render = true;\n    }\n\n    this.visibleSeriesCount = 0;\n    var check = true;\n\n    for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n      var series = _a[_i];\n\n      if (!series.visible && !this.legendSettings.visible) {\n        this.visibleSeriesCount++;\n        continue;\n      }\n\n      if (series.category !== 'Indicator' && series.category !== 'TrendLine') {\n        this.initializeDataModule(series);\n      }\n    }\n\n    for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n      var indicator = _c[_b];\n\n      if (indicator.dataSource) {\n        var techIndicator = indicator;\n        this.initializeDataModule(techIndicator);\n        check = false;\n      }\n    }\n\n    if (render && (!this.visibleSeries.length || this.visibleSeriesCount === this.visibleSeries.length && check)) {\n      this.refreshBound();\n      this.trigger('loaded', {\n        chart: this.isBlazor ? {} : this\n      });\n    }\n  };\n\n  Chart.prototype.initializeDataModule = function (series) {\n    series.xData = [];\n    series.yData = [];\n    var dataSource;\n    var isAngular = 'isAngular';\n\n    if (this[isAngular]) {\n      dataSource = Object.keys(series.dataSource).length ? series.dataSource : this.dataSource;\n    } else {\n      dataSource = series.dataSource || this.dataSource;\n    }\n\n    series.dataModule = new Data(dataSource, series.query);\n    series.points = [];\n    series.refreshDataManager(this);\n  };\n\n  Chart.prototype.calculateBounds = function () {\n    var margin = this.margin; // Title Height;\n\n    var titleHeight = 0;\n    var subTitleHeight = 0;\n    var titleWidth = 0;\n    var padding = 15;\n    var left = margin.left;\n    var width = this.availableSize.width - left - margin.right - this.border.width;\n    this.titleCollection = [];\n    this.subTitleCollection = [];\n\n    if (this.title) {\n      this.titleCollection = getTitle(this.title, this.titleStyle, width);\n      titleHeight = measureText(this.title, this.titleStyle).height * this.titleCollection.length + padding;\n\n      if (this.subTitle) {\n        var maxWidth = 0;\n\n        for (var _i = 0, _a = this.titleCollection; _i < _a.length; _i++) {\n          var titleText = _a[_i];\n          titleWidth = measureText(titleText, this.titleStyle).width;\n          maxWidth = titleWidth > maxWidth ? titleWidth : maxWidth;\n        }\n\n        this.subTitleCollection = getTitle(this.subTitle, this.subTitleStyle, maxWidth);\n        subTitleHeight = measureText(this.subTitle, this.subTitleStyle).height * this.subTitleCollection.length + padding;\n      }\n    }\n\n    var top = margin.top + subTitleHeight + titleHeight + this.chartArea.border.width * 0.5;\n    var height = this.availableSize.height - top - this.border.width - margin.bottom;\n\n    if (this.stockChart && this.stockChart.legendSettings.visible && this.stockChart.stockLegendModule) {\n      if (this.stockChart.legendSettings.position === \"Top\") {\n        top += this.stockChart.stockLegendModule.legendBounds.height;\n      } else if (this.stockChart.legendSettings.position === \"Left\") {\n        left += this.stockChart.stockLegendModule.legendBounds.width;\n      }\n    }\n\n    this.initialClipRect = new Rect(left, top, width, height);\n\n    if (this.legendModule && this.legendSettings.visible) {\n      this.legendModule.calculateLegendBounds(this.initialClipRect, this.availableSize, null);\n    }\n\n    this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);\n  };\n  /**\r\n   * Handles the print method for chart control.\r\n   */\n\n\n  Chart.prototype.print = function (id) {\n    var exportChart = new ExportUtils(this);\n    exportChart.print(id);\n  };\n  /**\r\n   * Defines the trendline initialization\r\n   */\n\n\n  Chart.prototype.initTrendLines = function () {\n    this.isProtectedOnChange = true;\n\n    for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n      var series = _a[_i];\n      var trendIndex = 0;\n\n      for (var _b = 0, _c = series.trendlines; _b < _c.length; _b++) {\n        var trendline = _c[_b];\n        var trendLine = trendline;\n\n        if (this.trendLineModule) {\n          trendLine.index = trendIndex;\n          trendLine.sourceIndex = series.index;\n          this.trendLineModule.initSeriesCollection(trendLine, this);\n\n          if (trendLine.targetSeries) {\n            trendLine.targetSeries.xAxisName = series.xAxisName;\n            trendLine.targetSeries.yAxisName = series.yAxisName;\n            this.visibleSeries.push(trendLine.targetSeries);\n          }\n        }\n\n        trendIndex++;\n      }\n    }\n\n    this.isProtectedOnChange = false;\n  };\n\n  Chart.prototype.calculateAreaType = function () {\n    var series = this.series[0];\n    this.chartArea.border.width = this.stockChart ? 0 : this.chartArea.border.width;\n\n    if (series) {\n      this.requireInvertedAxis = series.type.indexOf('Bar') !== -1 && !this.isTransposed || series.type.indexOf('Bar') === -1 && this.isTransposed && this.chartAreaType !== 'PolarRadar';\n    }\n\n    this.chartAxisLayoutPanel = this.chartAreaType === 'PolarRadar' ? this.polarSeriesModule || this.radarSeriesModule : new CartesianAxisLayoutPanel(this);\n  };\n  /**\r\n   * Calculate the visible axis\r\n   *\r\n   * @private\r\n   */\n\n\n  Chart.prototype.calculateVisibleAxis = function () {\n    var axis;\n    var axes = [this.primaryXAxis, this.primaryYAxis];\n    axes = this.chartAreaType === 'Cartesian' ? axes.concat(this.axes) : axes;\n\n    if (this.paretoSeriesModule && this.series[0].type === 'Pareto') {\n      axes = axes.concat(this.paretoSeriesModule.paretoAxes);\n    }\n\n    this.axisCollections = [];\n\n    if (this.zoomModule) {\n      this.zoomModule.isPanning = this.zoomModule.isAxisZoomed(axes) && this.zoomSettings.enablePan;\n      this.svgObject.setAttribute('cursor', this.zoomModule.isPanning ? 'pointer' : 'auto');\n\n      if (this.scrollBarModule) {\n        this.scrollBarModule.axes = axes;\n      }\n    }\n\n    if (this.scrollSettingEnabled) {\n      if (this.scrollBarModule) {\n        this.scrollBarModule.axes = axes;\n      }\n    }\n\n    for (var i = 0, len = axes.length; i < len; i++) {\n      axis = axes[i];\n      axis.series = [];\n      axis.labels = [];\n      axis.indexLabels = {};\n\n      for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\n        var series = _a[_i];\n        this.initAxis(series, axis, true);\n      }\n\n      for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\n        var indicator = _c[_b];\n        this.initAxis(indicator, axis, false);\n      }\n\n      if (this.scrollBarModule && !axis.zoomingScrollBar) {\n        this.scrollBarModule.injectTo(axis, this);\n      }\n\n      if (axis.orientation != null) {\n        this.axisCollections.push(axis);\n      }\n    }\n\n    if (this.rows.length > 0 && this.columns.length > 0) {\n      this.chartAxisLayoutPanel.measure();\n    }\n  };\n\n  Chart.prototype.initAxis = function (series, axis, isSeries) {\n    if (series.xAxisName === axis.name || series.xAxisName == null && axis.name === 'primaryXAxis') {\n      axis.orientation = this.requireInvertedAxis ? 'Vertical' : 'Horizontal';\n      series.xAxis = axis;\n\n      if (isSeries) {\n        axis.series.push(series);\n      }\n    } else if (series.yAxisName === axis.name || series.yAxisName == null && axis.name === 'primaryYAxis') {\n      axis.orientation = this.requireInvertedAxis ? 'Horizontal' : 'Vertical';\n      series.yAxis = axis;\n\n      if (isSeries) {\n        axis.series.push(series);\n      }\n    }\n  };\n\n  Chart.prototype.initTechnicalIndicators = function () {\n    var i = 0;\n\n    for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n      var indicator = _a[_i];\n      var techIndicator = indicator;\n      var type = firstToLowerCase(techIndicator.type);\n\n      if (this[type + 'IndicatorModule']) {\n        techIndicator.index = i;\n        this[type + 'IndicatorModule'].initSeriesCollection(techIndicator, this);\n\n        for (var _b = 0, _c = techIndicator.targetSeries; _b < _c.length; _b++) {\n          var targetSeries = _c[_b];\n\n          if (indicator.seriesName || indicator.dataSource) {\n            this.visibleSeries.push(targetSeries);\n          }\n        }\n      }\n\n      i++;\n    }\n  };\n  /** @private */\n\n\n  Chart.prototype.refreshTechnicalIndicator = function (series) {\n    if (this.indicators.length) {\n      var targetIndicator = null;\n\n      if (series instanceof Series && series.category !== 'Indicator') {\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n          var indicator = _a[_i];\n\n          if (indicator.seriesName === series.name && !indicator.dataSource) {\n            targetIndicator = indicator;\n            targetIndicator.setDataSource(series, this);\n          }\n        }\n      } else if (series instanceof TechnicalIndicator) {\n        targetIndicator = series;\n        targetIndicator.setDataSource(series instanceof Series ? series : null, this);\n      }\n    }\n  };\n\n  Chart.prototype.calculateVisibleSeries = function () {\n    var series;\n    this.visibleSeries = [];\n    var colors = this.palettes.length ? this.palettes : getSeriesColor(this.theme);\n    var count = colors.length;\n    var seriesCollection = this.series.sort(function (a, b) {\n      return a.zOrder - b.zOrder;\n    });\n\n    for (var i = 0, len = seriesCollection.length; i < len; i++) {\n      series = seriesCollection[i]; // for y axis label issue during chart navigation\n\n      series.category = seriesCollection[0].type === 'Pareto' ? 'Pareto' : 'Series';\n      series.index = i;\n      series.interior = series.fill || colors[i % count];\n\n      switch (series.type) {\n        case 'Bar':\n        case 'StackingBar':\n        case 'StackingBar100':\n          if (seriesCollection[0].type.indexOf('Bar') === -1) {\n            continue;\n          }\n\n          break;\n\n        case 'Polar':\n        case 'Radar':\n          if (this.chartAreaType !== 'PolarRadar') {\n            continue;\n          }\n\n          if (this.chartAreaType === 'PolarRadar' && (series.xAxisName === null && series.yAxisName !== null || series.xAxisName !== null && series.yAxisName === null || series.xAxisName !== null && series.yAxisName !== null)) {\n            continue;\n          }\n\n          break;\n\n        case 'Pareto':\n          this.visibleSeries.push(series);\n          this.paretoSeriesModule.initSeries(series, this);\n          continue;\n\n        default:\n          if (this.chartAreaType === 'PolarRadar' || seriesCollection[0].type.indexOf('Bar') > -1) {\n            continue;\n          }\n\n          break;\n      }\n\n      this.visibleSeries.push(series);\n      seriesCollection[i] = series;\n    }\n  };\n\n  Chart.prototype.renderTitle = function () {\n    var rect;\n    var margin = this.margin;\n\n    if (this.title) {\n      var getAnchor = getTextAnchor(this.titleStyle.textAlignment, this.enableRtl);\n      var elementSize = measureText(this.title, this.titleStyle);\n      rect = new Rect(margin.left, 0, this.availableSize.width - margin.left - margin.right, 0);\n      var options = new TextOption(this.element.id + '_ChartTitle', titlePositionX(rect, this.titleStyle), this.margin.top + elementSize.height * 3 / 4, getAnchor, this.titleCollection, '', 'auto');\n      var element = redrawElement(this.redraw, this.element.id + '_ChartTitle', options, this.renderer) || textElement(this.renderer, options, this.titleStyle, this.titleStyle.color || this.themeStyle.chartTitle, this.svgObject, null, null, null, null, null, null, null, null, this.enableCanvas);\n\n      if (element) {\n        element.setAttribute('aria-label', this.description || this.title);\n        element.setAttribute('tabindex', this.tabIndex.toString());\n      }\n\n      if (this.subTitle) {\n        this.renderSubTitle(options);\n      }\n    }\n  };\n\n  Chart.prototype.renderSubTitle = function (options) {\n    var maxWidth = 0;\n    var titleWidth = 0;\n    var padding = 10;\n    var alignment = this.titleStyle.textAlignment;\n\n    for (var _i = 0, _a = this.titleCollection; _i < _a.length; _i++) {\n      var titleText = _a[_i];\n      titleWidth = measureText(titleText, this.titleStyle).width;\n      maxWidth = titleWidth > maxWidth ? titleWidth : maxWidth;\n    }\n\n    var subTitleElementSize = measureText(this.subTitle, this.subTitleStyle);\n    var rect = new Rect(alignment === 'Center' ? options.x - maxWidth * 0.5 : alignment === 'Far' ? options.x - maxWidth : options.x, 0, maxWidth, 0);\n    var subTitleOptions = new TextOption(this.element.id + '_ChartSubTitle', titlePositionX(rect, this.subTitleStyle), options.y * options.text.length + subTitleElementSize.height * 3 / 4 + padding, getTextAnchor(this.subTitleStyle.textAlignment, this.enableRtl), this.subTitleCollection, '', 'auto');\n    var element = redrawElement(this.redraw, this.element.id + '_ChartSubTitle', subTitleOptions, this.renderer) || textElement(this.renderer, subTitleOptions, this.subTitleStyle, this.subTitleStyle.color || this.themeStyle.chartTitle, this.svgObject, null, null, null, null, null, null, null, null, this.enableCanvas);\n\n    if (element) {\n      element.setAttribute('aria-label', this.description || this.subTitle);\n      element.setAttribute('tabindex', this.tabIndex.toString());\n    }\n  };\n\n  Chart.prototype.renderBorder = function () {\n    var x = 0;\n    var y = 0;\n    var width = this.border.width;\n    var backGroundImage = this.backgroundImage;\n    var fillColor = backGroundImage ? 'transparent' : this.background || this.themeStyle.background;\n\n    if (this.stockChart && this.stockChart.legendSettings.visible && this.stockChart.stockLegendModule) {\n      if (this.stockChart.legendSettings.position === \"Top\") {\n        y += this.stockChart.stockLegendModule.legendBounds.height;\n      } else if (this.stockChart.legendSettings.position === \"Left\") {\n        x += this.stockChart.stockLegendModule.legendBounds.width;\n      }\n    }\n\n    var rect = new RectOption(this.element.id + '_ChartBorder', fillColor, this.border, 1, new Rect(width * 0.5 + x, width * 0.5 + y, this.availableSize.width - width, this.availableSize.height - width));\n    this.htmlObject = redrawElement(this.redraw, this.element.id + '_ChartBorder', rect, this.renderer) || this.renderer.drawRectangle(rect);\n    appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw); // to draw back ground image for chart\n\n    if (backGroundImage) {\n      var image = new ImageOption(this.availableSize.height - width, this.availableSize.width - width, backGroundImage, 0, 0, this.element.id + '_ChartBackground', 'visible', 'none');\n      this.htmlObject = redrawElement(this.redraw, this.element.id + '_ChartBackground', image, this.renderer) || this.renderer.drawImage(image);\n      appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw);\n    }\n  };\n  /**\r\n   * @private\r\n   */\n\n\n  Chart.prototype.renderAreaBorder = function () {\n    if (this.chartAreaType === 'PolarRadar') {\n      return null;\n    } else {\n      var element = getElement(this.element.id + '_ChartAreaBorder');\n      var previousRect = element ? new Rect(+element.getAttribute('x'), +element.getAttribute('y'), +element.getAttribute('width'), +element.getAttribute('height')) : null;\n      var rect = new RectOption(this.element.id + '_ChartAreaBorder', this.chartArea.background, {\n        width: this.chartArea.border.width,\n        color: this.chartArea.border.color || this.themeStyle.areaBorder\n      }, this.chartArea.opacity, this.chartAxisLayoutPanel.seriesClipRect);\n      this.htmlObject = this.renderer.drawRectangle(rect);\n      appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw, true, 'x', 'y', null, null, true, true, previousRect);\n      this.htmlObject = null;\n    } // to draw back ground image for chart area\n\n\n    var backGroundImage = this.chartArea.backgroundImage;\n\n    if (backGroundImage) {\n      var width = this.chartArea.border.width;\n      var image = new ImageOption(this.initialClipRect.height - width, this.initialClipRect.width - width, backGroundImage, this.initialClipRect.x, this.initialClipRect.y, this.element.id + '_ChartAreaBackground', 'visible', 'none');\n      this.htmlObject = this.renderer.drawImage(image);\n      appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw, true, 'x', 'y', null, null, true, true);\n    }\n  };\n  /**\r\n   * To add series for the chart\r\n   *\r\n   * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.\r\n   * @returns {void}.\r\n   */\n\n\n  Chart.prototype.addSeries = function (seriesCollection) {\n    for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\n      var series = seriesCollection_1[_i];\n      series = new Series(this, 'series', series);\n      this.series.push(series);\n    }\n\n    this.refresh();\n  };\n  /**\r\n   * To Remove series for the chart\r\n   *\r\n   * @param {number} index - Defines the series index to be remove in chart series\r\n   * @returns {void}\r\n   */\n\n\n  Chart.prototype.removeSeries = function (index) {\n    this.redraw = false; //fix for remove svg not working when use animatemethod.\n\n    this.series.splice(index, 1);\n    this.refresh();\n  };\n  /**\r\n   * To Clear all series for the chart\r\n   *\r\n   * @returns {void}.\r\n   */\n\n\n  Chart.prototype.clearSeries = function () {\n    this.series = [];\n    this.refresh();\n  };\n  /**\r\n   * To add secondary axis for the chart\r\n   *\r\n   * @param {AxisModel[]} axisCollection - Defines the axis collection to be added in chart.\r\n   * @returns {void}.\r\n   */\n\n\n  Chart.prototype.addAxes = function (axisCollection) {\n    for (var _i = 0, axisCollection_1 = axisCollection; _i < axisCollection_1.length; _i++) {\n      var axis = axisCollection_1[_i];\n      axis = new Axis(this, 'axes', axis);\n\n      if (this.isBlazor) {\n        axis.interval = isNaN(axis.interval) ? null : axis.interval;\n        axis.desiredIntervals = isNaN(axis.desiredIntervals) ? null : axis.desiredIntervals;\n      }\n\n      this.axes.push(axis);\n    }\n\n    this.refresh();\n  };\n  /**\r\n   * To remove secondary axis for the chart\r\n   *\r\n   * @param {number} index - Defines the axis collection to be removed in chart.\r\n   * @returns {void}\r\n   */\n\n\n  Chart.prototype.removeAxis = function (index) {\n    this.redraw = false;\n    this.axes.splice(index, 1);\n    this.refresh();\n  };\n  /**\r\n   * To destroy the widget\r\n   *\r\n   * @function destroy\r\n   * @returns {void}.\r\n   * @member of Chart\r\n   */\n\n\n  Chart.prototype.destroy = function () {\n    if (this.scrollBarModule) {\n      this.scrollBarModule.destroy();\n    }\n\n    if (this.markerRender) {\n      this.markerRender.removeEventListener();\n      this.markerRender = null;\n    }\n\n    this.horizontalAxes = [];\n    this.verticalAxes = [];\n    this.visibleSeries = [];\n    this.axisCollections = [];\n    this.rotatedDataLabelCollections = [];\n    this.seriesElements = null;\n    this.chartAxisLayoutPanel = null;\n    this.dataLabelCollections = null;\n    this.dataLabelElements = null;\n    this.yAxisElements = null;\n    /**\r\n     * To fix react timeout destroy issue.\r\n     */\n\n    if (this.element) {\n      this.unWireEvents(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      _super.prototype.destroy.call(this);\n\n      if (!this.enableCanvas) {\n        this.removeSvg();\n        this.svgObject = null;\n      }\n    }\n  };\n  /**\r\n   * Get component name\r\n   */\n\n\n  Chart.prototype.getModuleName = function () {\n    return 'chart';\n  };\n  /**\r\n   * Get the properties to be maintained in the persisted state.\r\n   *\r\n   * @private\r\n   */\n\n\n  Chart.prototype.getPersistData = function () {\n    var keyEntity = ['loaded', 'animationComplete', 'primaryXAxis', 'primaryYAxis'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\r\n   * Method to create SVG element.\r\n   */\n\n\n  Chart.prototype.createChartSvg = function () {\n    this.removeSvg();\n    createSvg(this);\n  };\n  /**\r\n   * Method to bind events for chart\r\n   */\n\n\n  Chart.prototype.unWireEvents = function () {\n    var startEvent = Browser.touchStartEvent;\n    var moveEvent = Browser.touchMoveEvent;\n    var stopEvent = Browser.touchEndEvent;\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    /*! UnBind the Event handler */\n\n    EventHandler.remove(this.element, startEvent, this.chartOnMouseDown);\n    EventHandler.remove(this.element, moveEvent, this.mouseMove);\n    EventHandler.remove(this.element, stopEvent, this.mouseEnd);\n    EventHandler.remove(this.element, 'click', this.chartOnMouseClick);\n    EventHandler.remove(this.element, 'dblclick', this.chartOnDoubleClick);\n    EventHandler.remove(this.element, 'contextmenu', this.chartRightClick);\n    EventHandler.remove(this.element, cancelEvent, this.mouseLeave);\n    window.removeEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.resizeBound);\n    /**\r\n     * To fix memory issue\r\n     */\n\n    if (this.touchObject) {\n      this.touchObject.destroy();\n      this.touchObject = null;\n    }\n  };\n\n  Chart.prototype.wireEvents = function () {\n    /**\r\n     * To fix react timeout destroy issue.\r\n     */\n    if (!this.element) {\n      return;\n    }\n    /*! Find the Events type */\n\n\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    /*! Bind the Event handler */\n\n    EventHandler.add(this.element, Browser.touchStartEvent, this.chartOnMouseDown, this);\n    EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\n    EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\n    EventHandler.add(this.element, 'click', this.chartOnMouseClick, this);\n    EventHandler.add(this.element, 'dblclick', this.chartOnDoubleClick, this);\n    EventHandler.add(this.element, 'contextmenu', this.chartRightClick, this);\n    EventHandler.add(this.element, cancelEvent, this.mouseLeave, this);\n    this.resizeBound = this.chartResize.bind(this);\n    window.addEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.resizeBound);\n    this.longPressBound = this.longPress.bind(this);\n    this.touchObject = new Touch(this.element, {\n      tapHold: this.longPressBound,\n      tapHoldThreshold: 500\n    });\n    /*! Apply the style for chart */\n\n    this.setStyle(this.element);\n  };\n\n  Chart.prototype.chartRightClick = function (event) {\n    if (this.crosshair.enable && this.crosshairModule && (event.buttons === 2 || event.which === 0 || event.pointerType === 'touch')) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    }\n\n    return true;\n  };\n\n  Chart.prototype.setStyle = function (element) {\n    var zooming = this.zoomSettings;\n    var disableScroll = zooming.enableSelectionZooming || zooming.enablePinchZooming || this.selectionMode !== 'None' || this.crosshair.enable || this.highlightMode !== 'None';\n    element.style.touchAction = disableScroll ? 'none' : 'element';\n    element.style.msTouchAction = disableScroll ? 'none' : 'element';\n    element.style.msContentZooming = 'none';\n    element.style.msUserSelect = 'none';\n    element.style.webkitUserSelect = 'none';\n    element.style.position = 'relative';\n    element.style.display = 'block'; // To fix angular and react tooltip div scrollbar issue\n\n    element.style.overflow = 'hidden';\n  };\n  /**\r\n   * Finds the orientation.\r\n   *\r\n   * @returns {boolean}\r\n   * @private\r\n   */\n\n\n  Chart.prototype.isOrientation = function () {\n    return 'orientation' in window && 'onorientationchange' in window;\n  };\n  /**\r\n   * Handles the long press on chart.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.longPress = function (e) {\n    this.mouseX = e && e.originalEvent.changedTouches ? e.originalEvent.changedTouches[0].clientX : 0;\n    this.mouseY = e && e.originalEvent.changedTouches ? e.originalEvent.changedTouches[0].clientY : 0;\n    this.startMove = true;\n    this.setMouseXY(this.mouseX, this.mouseY);\n    this.notify('tapHold', e);\n    return false;\n  };\n  /**\r\n   * To find mouse x, y for aligned chart element svg position\r\n   */\n\n\n  Chart.prototype.setMouseXY = function (pageX, pageY) {\n    if (getElement(this.svgId)) {\n      var svgRect = getElement(this.svgId).getBoundingClientRect();\n      var rect = this.element.getBoundingClientRect();\n      this.mouseY = pageY - rect.top - Math.max(svgRect.top - rect.top, 0);\n      this.mouseX = pageX - rect.left - Math.max(svgRect.left - rect.left, 0);\n    }\n  };\n  /**\r\n   * Export method for the chart.\r\n   */\n\n\n  Chart.prototype.export = function (type, fileName) {\n    if (this.exportModule) {\n      this.exportModule.export(type, fileName);\n\n      if (this.afterExport) {\n        this.exportModule.getDataUrl(this);\n      }\n    }\n  };\n  /**\r\n   * Handles the chart resize.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartResize = function () {\n    var _this = this;\n\n    this.animateSeries = false;\n    var arg = {\n      chart: this.isBlazor ? {} : this,\n      name: resized,\n      currentSize: new Size(0, 0),\n      previousSize: new Size(this.availableSize.width, this.availableSize.height)\n    };\n    var beforeResizeArgs = {\n      name: 'beforeResize',\n      cancelResizedEvent: false\n    };\n\n    if (this.resizeTo) {\n      clearTimeout(this.resizeTo);\n    }\n\n    this.trigger(beforeResize, beforeResizeArgs);\n\n    if (!beforeResizeArgs.cancelResizedEvent) {\n      this.resizeTo = +setTimeout(function () {\n        if (_this.isDestroyed || _this.stockChart) {\n          clearTimeout(_this.resizeTo);\n          return;\n        }\n\n        _this.createChartSvg();\n\n        arg.currentSize = _this.availableSize;\n\n        _this.trigger(resized, arg);\n\n        _this.refreshAxis();\n\n        _this.refreshBound();\n\n        _this.trigger('loaded', {\n          chart: _this.isBlazor ? {} : _this\n        });\n      }, 500);\n    }\n\n    return false;\n  };\n  /**\r\n   * Handles the mouse move.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.mouseMove = function (e) {\n    var pageX;\n    var pageY;\n    var touchArg;\n\n    if (e.type === 'touchmove') {\n      this.isTouch = true;\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].clientX;\n      pageY = touchArg.changedTouches[0].clientY;\n    } else {\n      this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\n      pageX = e.clientX;\n      pageY = e.clientY;\n    }\n\n    if (getElement(this.svgId)) {\n      this.setMouseXY(pageX, pageY);\n      this.chartOnMouseMove(e);\n    }\n\n    return false;\n  };\n  /**\r\n   * Handles the mouse leave.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.mouseLeave = function (e) {\n    var pageX;\n    var pageY;\n    var touchArg;\n\n    if (e.type === 'touchleave') {\n      this.isTouch = true;\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].clientX;\n      pageY = touchArg.changedTouches[0].clientY;\n    } else {\n      this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n      pageX = e.clientX;\n      pageY = e.clientY;\n    }\n\n    this.setMouseXY(pageX, pageY);\n    this.chartOnMouseLeave(e);\n    return false;\n  };\n  /**\r\n   * Handles the mouse leave on chart.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartOnMouseLeave = function (e) {\n    var element = e.target;\n    var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    this.trigger(chartMouseLeave, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n    removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\n    this.isChartDrag = this.isPointMouseDown = false;\n    this.notify(cancelEvent, e);\n    return false;\n  };\n  /**\r\n   * Handles the mouse double click on chart.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartOnDoubleClick = function (e) {\n    var element = e.target;\n    this.trigger(chartDoubleClick, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n    return false;\n  };\n  /**\r\n   * Handles the mouse click on chart.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartOnMouseClick = function (e) {\n    var _this = this;\n\n    var element = e.target;\n    this.trigger(chartMouseClick, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n    this.clickCount++;\n    var timeInterval = 0;\n    var isAngular = 'isAngular';\n\n    if (this[isAngular]) {\n      var observers = 'observers';\n      timeInterval = this.pointDoubleClick[observers].length > 0 ? 400 : 0;\n    } else {\n      timeInterval = this.pointDoubleClick ? 400 : 0;\n    }\n\n    if (this.clickCount === 1 && this.pointClick) {\n      this.singleClickTimer = +setTimeout(function () {\n        _this.clickCount = 0;\n\n        _this.triggerPointEvent(pointClick, e);\n      }, timeInterval);\n    } else if (this.clickCount === 2 && this.pointDoubleClick) {\n      clearTimeout(this.singleClickTimer);\n      this.clickCount = 0;\n      this.triggerPointEvent(pointDoubleClick, e);\n    }\n\n    if (this.axisLabelClick) {\n      this.triggerAxisLabelClickEvent(axisLabelClick, e);\n    }\n\n    this.notify('click', e);\n    return false;\n  };\n\n  Chart.prototype.triggerPointEvent = function (event, e) {\n    var evt = e;\n    var data = new ChartData(this);\n    var pointData = data.getData();\n\n    if (pointData.series && pointData.point) {\n      this.trigger(event, {\n        series: this.isBlazor ? {} : pointData.series,\n        point: pointData.point,\n        seriesIndex: pointData.series.index,\n        pointIndex: pointData.point.index,\n        x: this.mouseX,\n        y: this.mouseY,\n        pageX: evt.pageX,\n        pageY: evt.pageY\n      });\n    }\n  };\n\n  Chart.prototype.triggerAxisLabelClickEvent = function (event, e) {\n    var targetElement = e.target;\n    var clickEvt = e;\n\n    if (targetElement.id.indexOf('_AxisLabel_') !== -1) {\n      var index = targetElement.id.split('_AxisLabel_');\n      var axisIndex = +index[0].slice(-1);\n      var labelIndex = +index[1];\n      var currentAxis = this.axisCollections[axisIndex];\n\n      if (currentAxis.visible && (axisIndex === 0 || axisIndex === 1)) {\n        this.trigger(event, {\n          chart: this,\n          axis: currentAxis,\n          text: currentAxis.visibleLabels[labelIndex].text,\n          labelID: targetElement.id,\n          index: labelIndex,\n          location: new ChartLocation(clickEvt.pageX, clickEvt.pageY),\n          value: currentAxis.visibleLabels[labelIndex].value\n        });\n      }\n    }\n  };\n  /**\r\n   * Handles the mouse move on chart.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartOnMouseMove = function (e) {\n    var element = e.target;\n    this.trigger(chartMouseMove, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n\n    if (this.pointMove) {\n      this.triggerPointEvent(pointMove, e);\n    } // Tooltip for chart series.\n\n\n    if (!this.isTouch) {\n      this.titleTooltip(e, this.mouseX, this.mouseY);\n      this.axisTooltip(e, this.mouseX, this.mouseY);\n    }\n\n    if (this.dataEditingModule) {\n      this.dataEditingModule.pointMouseMove(e);\n    }\n\n    this.notify(Browser.touchMoveEvent, e);\n    this.isTouch = false;\n    return false;\n  };\n\n  Chart.prototype.titleTooltip = function (event, x, y, isTouch) {\n    var targetId = event.target.id;\n    var id = targetId === this.element.id + '_ChartTitle' || targetId === this.element.id + '_ChartSubTitle' || targetId.indexOf('_AxisTitle') > -1 || targetId.indexOf('_legend_title') > -1;\n    var index = 0;\n\n    if (targetId.indexOf('_AxisTitle') > -1) {\n      index = parseInt(targetId.replace(this.element.id, '').replace('AxisLabel_', '').split('_')[2], 10);\n    }\n\n    if (id && event.target.textContent.indexOf('...') > -1) {\n      var title = targetId === this.element.id + '_ChartTitle' ? this.title : targetId.indexOf('_AxisTitle') > -1 ? this.axisCollections[index].title : targetId.indexOf('_ChartSubTitle') > -1 ? this.subTitle : this.legendSettings.title;\n      showTooltip(title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n    } else {\n      removeElement(this.element.id + '_EJ2_Title_Tooltip');\n    }\n  };\n\n  Chart.prototype.axisTooltip = function (event, x, y, isTouch) {\n    var targetId = event.target.id;\n\n    if ((targetId.indexOf('AxisLabel') > -1 || targetId.indexOf('Axis_MultiLevelLabel') > -1) && event.target.textContent.indexOf('...') > -1) {\n      var isTitleOrLegendEnabled = this.legendSettings.visible || this.primaryXAxis.title === '';\n      showTooltip(this.findAxisLabel(targetId), x, y, this.element.offsetWidth, this.element.id + '_EJ2_AxisLabel_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, isTitleOrLegendEnabled);\n    } else {\n      removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\n    }\n  };\n\n  Chart.prototype.findAxisLabel = function (text) {\n    var texts;\n\n    if (text.indexOf('AxisLabel') > -1) {\n      texts = text.replace(this.element.id, '').replace('AxisLabel_', '').split('_');\n      return this.axisCollections[parseInt(texts[0], 10)].visibleLabels[parseInt(texts[1], 10)].originalText;\n    } else {\n      texts = text.replace(this.element.id, '').replace('Axis_MultiLevelLabel_Level_', '').replace('Text_', '').split('_');\n      return this.axisCollections[parseInt(texts[0], 10)].multiLevelLabels[parseInt(texts[1], 10)].categories[parseInt(texts[2], 10)].text;\n    }\n  };\n  /**\r\n   * Handles the mouse down on chart.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartOnMouseDown = function (e) {\n    var pageX;\n    var pageY;\n    var target;\n    var touchArg;\n    var offset = Browser.isDevice ? 20 : 30;\n    var rect = this.element.getBoundingClientRect();\n    var element = e.target;\n    this.trigger(chartMouseDown, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n\n    if (e.type === 'touchstart') {\n      this.isTouch = true;\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].clientX;\n      pageY = touchArg.changedTouches[0].clientY;\n      target = touchArg.target;\n    } else {\n      this.isTouch = e.pointerType === 'touch';\n      pageX = e.clientX;\n      pageY = e.clientY;\n      target = e.target;\n    }\n\n    var svgRect = getElement(this.svgId).getBoundingClientRect();\n    this.mouseDownX = this.previousMouseMoveX = pageX - rect.left - Math.max(svgRect.left - rect.left, 0);\n    this.mouseDownY = this.previousMouseMoveY = pageY - rect.top - Math.max(svgRect.top - rect.top, 0);\n\n    if (this.isTouch) {\n      this.isDoubleTap = new Date().getTime() < this.threshold && target.id.indexOf(this.element.id + '_Zooming_') === -1 && (this.mouseDownX - offset >= this.mouseX || this.mouseDownX + offset >= this.mouseX) && (this.mouseDownY - offset >= this.mouseY || this.mouseDownY + offset >= this.mouseY) && (this.mouseX - offset >= this.mouseDownX || this.mouseX + offset >= this.mouseDownX) && (this.mouseY - offset >= this.mouseDownY || this.mouseY + offset >= this.mouseDownY);\n    }\n\n    if (this.dataEditingModule) {\n      this.dataEditingModule.pointMouseDown();\n    }\n\n    this.notify(Browser.touchStartEvent, e);\n    return false;\n  };\n  /**\r\n   * Handles the mouse up.\r\n   *\r\n   * @returns {boolean} false\r\n   * @private\r\n   */\n\n\n  Chart.prototype.mouseEnd = function (e) {\n    var pageY;\n    var pageX;\n    var touchArg;\n\n    if (e.type === 'touchend') {\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].clientX;\n      this.isTouch = true;\n      pageY = touchArg.changedTouches[0].clientY;\n    } else {\n      pageY = e.clientY;\n      pageX = e.clientX;\n      this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\n    }\n\n    this.setMouseXY(pageX, pageY);\n    this.chartOnMouseUp(e);\n    return false;\n  };\n  /**\r\n   * Handles the mouse up.\r\n   *\r\n   * @returns {boolean}\r\n   * @private\r\n   */\n\n\n  Chart.prototype.chartOnMouseUp = function (e) {\n    var element = e.target;\n    this.trigger(chartMouseUp, {\n      target: element.id,\n      x: this.mouseX,\n      y: this.mouseY\n    });\n    this.isChartDrag = false;\n\n    if (this.isTouch) {\n      this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n      this.axisTooltip(e, this.mouseX, this.mouseY, this.isTouch);\n      this.threshold = new Date().getTime() + 300;\n    }\n\n    if (this.dataEditingModule) {\n      this.dataEditingModule.pointMouseUp();\n    }\n\n    if (!this.enableCanvas && this.seriesElements) {\n      this.seriesElements.removeAttribute('clip-path');\n    }\n\n    this.notify(Browser.touchEndEvent, e);\n    return false;\n  };\n  /**\r\n   * Method to set culture for chart\r\n   */\n\n\n  Chart.prototype.setCulture = function () {\n    this.intl = new Internationalization();\n    this.setLocaleConstants();\n    this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n  };\n  /**\r\n   * Method to set the annotation content dynamically for chart.\r\n   */\n\n\n  Chart.prototype.setAnnotationValue = function (annotationIndex, content) {\n    var parentNode = getElement(this.element.id + '_Annotation_Collections');\n    var annotation = this.annotations[annotationIndex];\n    var element;\n\n    if (content !== null) {\n      annotation.content = content;\n\n      if (parentNode) {\n        removeElement(this.element.id + '_Annotation_' + annotationIndex);\n        element = this.createElement('div');\n        this.annotationModule.processAnnotation(annotation, annotationIndex, element);\n        parentNode.appendChild(element.children[0]);\n      } else {\n        this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\n      }\n    }\n  };\n  /**\r\n   * Method to set locale constants\r\n   */\n\n\n  Chart.prototype.setLocaleConstants = function () {\n    this.defaultLocalConstants = {\n      ZoomIn: 'Zoom in',\n      Zoom: 'Zoom',\n      ZoomOut: 'Zoom out',\n      Pan: 'Pan',\n      Reset: 'Reset',\n      ResetZoom: 'Reset Zoom'\n    };\n  };\n  /**\r\n   * Theming for chart\r\n   */\n\n\n  Chart.prototype.setTheme = function () {\n    /*! Set theme */\n    this.themeStyle = getThemeColor(this.theme);\n  };\n  /**\r\n   * To provide the array of modules needed for control rendering\r\n   *\r\n   * @returns {ModuleDeclaration[]}\r\n   * @private\r\n   */\n\n  /* eslint-disable  */\n\n\n  Chart.prototype.requiredModules = function () {\n    var _this = this;\n\n    var modules = [];\n    var series = this.series;\n    var enableAnnotation = false;\n    var moduleName;\n    var errorBarVisible = false;\n    var isPointDrag = false;\n    var dataLabelEnable = false;\n    var zooming = this.zoomSettings;\n    this.chartAreaType = series.length > 0 && (series[0].type === 'Polar' || series[0].type === 'Radar') ? 'PolarRadar' : 'Cartesian';\n\n    if (this.tooltip.enable) {\n      modules.push({\n        member: 'Tooltip',\n        args: [this]\n      });\n    }\n\n    series.map(function (value) {\n      _this.isLegend = _this.legendSettings.visible && (value.name !== '' || !!_this.isLegend);\n      moduleName = value.type.indexOf('100') !== -1 ? value.type.replace('100', '') + 'Series' : value.type + 'Series';\n      errorBarVisible = value.errorBar.visible || errorBarVisible;\n      dataLabelEnable = value.marker.dataLabel.visible || dataLabelEnable;\n      isPointDrag = value.dragSettings.enable || isPointDrag;\n\n      if (!modules.some(function (currentModule) {\n        return currentModule.member === moduleName;\n      })) {\n        modules.push({\n          member: moduleName,\n          args: [_this, series]\n        });\n      }\n\n      if (_this.chartAreaType === 'PolarRadar') {\n        modules.push({\n          member: value.drawType + 'Series',\n          args: [_this, series]\n        });\n      }\n\n      if (value.type === 'Pareto') {\n        modules.push({\n          member: 'ColumnSeries',\n          args: [_this, series]\n        });\n        modules.push({\n          member: 'LineSeries',\n          args: [_this, series]\n        });\n      }\n    });\n    this.findIndicatorModules(modules);\n    this.findTrendLineModules(modules);\n    modules = this.findAxisModule(modules);\n    enableAnnotation = this.annotations.some(function (value) {\n      return value.content !== null;\n    });\n\n    if (errorBarVisible) {\n      modules.push({\n        member: 'ErrorBar',\n        args: [this, series]\n      });\n    }\n\n    if (this.isLegend) {\n      modules.push({\n        member: 'Legend',\n        args: [this]\n      });\n    }\n\n    if (this.enableExport || this.allowExport) {\n      modules.push({\n        member: 'Export',\n        args: [this]\n      });\n    }\n\n    if (this.chartAreaType !== 'PolarRadar' && !this.scrollSettingEnabled && (zooming.enableSelectionZooming || zooming.enableMouseWheelZooming || zooming.enablePinchZooming || zooming.enablePan || zooming.enableScrollbar)) {\n      modules.push({\n        member: 'Zoom',\n        args: [this, this.zoomSettings]\n      });\n\n      if (zooming.enableScrollbar) {\n        modules.push({\n          member: 'ScrollBar',\n          args: [this]\n        });\n      }\n    }\n\n    if (this.selectionMode !== 'None' && !(this.chartAreaType === 'PolarRadar' && this.selectionMode.indexOf('Drag') > -1)) {\n      modules.push({\n        member: 'Selection',\n        args: [this]\n      });\n    }\n\n    if (this.highlightMode !== 'None') {\n      modules.push({\n        member: 'Highlight',\n        args: [this]\n      });\n    }\n\n    if (dataLabelEnable) {\n      modules.push({\n        member: 'DataLabel',\n        args: [this, series]\n      });\n    }\n\n    if (isPointDrag) {\n      modules.push({\n        member: 'DataEditing',\n        args: [this]\n      });\n    }\n\n    if (enableAnnotation) {\n      modules.push({\n        member: 'Annotation',\n        args: [this]\n      });\n    }\n\n    if (this.chartAreaType !== 'PolarRadar' && this.crosshair.enable) {\n      modules.push({\n        member: 'Crosshair',\n        args: [this]\n      });\n    }\n\n    return modules;\n  };\n\n  Chart.prototype.findAxisModule = function (modules) {\n    var axisCollections = [];\n    axisCollections.push(this.primaryXAxis);\n    axisCollections.push(this.primaryYAxis);\n    axisCollections = axisCollections.concat(this.axes);\n    var datetimeEnabled = false;\n    var categoryEnabled = false;\n    var logarithmicEnabled = false;\n    var striplineEnabled = false;\n    var dateTimeCategoryEnabled = false;\n    var multiLevelEnabled = false;\n\n    for (var _i = 0, axisCollections_1 = axisCollections; _i < axisCollections_1.length; _i++) {\n      var axis = axisCollections_1[_i];\n      datetimeEnabled = axis.valueType === 'DateTime' || datetimeEnabled;\n      categoryEnabled = axis.valueType === 'Category' || categoryEnabled;\n      logarithmicEnabled = axis.valueType === 'Logarithmic' || logarithmicEnabled;\n      dateTimeCategoryEnabled = axis.valueType === 'DateTimeCategory' || dateTimeCategoryEnabled;\n      striplineEnabled = this.findStriplineVisibility(axis.stripLines) || striplineEnabled;\n      multiLevelEnabled = axis.multiLevelLabels.length > 0 || multiLevelEnabled;\n      this.scrollSettingEnabled = axis.scrollbarSettings.enable ? true : this.scrollSettingEnabled;\n    }\n\n    if (datetimeEnabled) {\n      modules.push({\n        member: 'DateTime',\n        args: [this]\n      });\n    }\n\n    if (categoryEnabled) {\n      modules.push({\n        member: 'Category',\n        args: [this]\n      });\n    }\n\n    if (logarithmicEnabled) {\n      modules.push({\n        member: 'Logarithmic',\n        args: [this]\n      });\n    }\n\n    if (striplineEnabled) {\n      modules.push({\n        member: 'StripLine',\n        args: [this]\n      });\n    }\n\n    if (multiLevelEnabled) {\n      modules.push({\n        member: 'MultiLevelLabel',\n        args: [this]\n      });\n    }\n\n    if (dateTimeCategoryEnabled) {\n      modules.push({\n        member: 'DateTimeCategory',\n        args: [this]\n      });\n    }\n\n    if (this.scrollSettingEnabled) {\n      modules.push({\n        member: 'ScrollBar',\n        args: [this]\n      });\n    }\n\n    return modules;\n  };\n\n  Chart.prototype.findIndicatorModules = function (modules) {\n    var macdEnable;\n    var bandEnable;\n    var indicators = this.indicators;\n\n    if (this.indicators.length) {\n      modules.push({\n        member: 'LineSeries',\n        args: [this]\n      });\n      indicators.map(function (indicator) {\n        macdEnable = macdEnable || indicator.type === 'Macd';\n        bandEnable = bandEnable || indicator.type === 'BollingerBands';\n      });\n\n      if (macdEnable) {\n        modules.push({\n          member: 'ColumnSeries',\n          args: [this]\n        });\n      }\n\n      if (bandEnable) {\n        modules.push({\n          member: 'RangeAreaSeries',\n          args: [this]\n        });\n      }\n\n      if (bandEnable) {\n        modules.push({\n          member: 'SplineRangeAreaSeries',\n          args: [this]\n        });\n      }\n\n      for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\n        var indicator = _a[_i];\n        modules.push({\n          member: indicator.type + 'Indicator',\n          args: [this]\n        });\n      }\n    }\n  };\n\n  Chart.prototype.findTrendLineModules = function (modules) {\n    var isLine;\n    var isSpline;\n\n    var _loop_1 = function (series) {\n      var markerEnable;\n      series.trendlines.map(function (trendline) {\n        markerEnable = markerEnable || trendline.marker.visible;\n        isLine = isLine || trendline.type === 'Linear' || trendline.type === 'MovingAverage' ? true : false;\n        isSpline = isSpline || !isLine ? true : false;\n      });\n\n      if (markerEnable) {\n        modules.push({\n          member: 'Marker',\n          args: [this_1, series]\n        });\n      }\n    };\n\n    var this_1 = this;\n\n    for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\n      var series = _a[_i];\n\n      _loop_1(series);\n    }\n\n    if (isLine || isSpline) {\n      modules.push({\n        member: 'TrendLine',\n        args: [this]\n      });\n    }\n\n    if (isLine) {\n      modules.push({\n        member: 'LineSeries',\n        args: [this]\n      });\n    }\n\n    if (isSpline) {\n      modules.push({\n        member: 'SplineSeries',\n        args: [this]\n      });\n    }\n  };\n\n  Chart.prototype.findStriplineVisibility = function (striplines) {\n    var visible = false;\n\n    for (var _i = 0, striplines_1 = striplines; _i < striplines_1.length; _i++) {\n      var stripline = striplines_1[_i];\n\n      if (stripline.visible) {\n        visible = true;\n        break;\n      }\n    }\n\n    return visible;\n  };\n  /**\r\n   * To Remove the SVG.\r\n   * @return {boolean}\r\n   * @private\r\n   */\n\n\n  Chart.prototype.removeSvg = function () {\n    if (this.redraw) {\n      return null;\n    }\n\n    blazorTemplatesReset(this);\n\n    if (this.enableCanvas && this.svgObject && this.svgObject.tagName === 'CANVAS') {\n      this.renderer.clearRect(new Rect(0, 0, this.availableSize.width, this.availableSize.height));\n\n      if (this.svgObject.parentNode) {\n        remove(this.svgObject);\n      }\n\n      return null;\n    }\n\n    removeElement(this.element.id + '_Secondary_Element');\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n\n    var removeLength = 0;\n\n    if (this.zoomModule && this.zoomModule.pinchTarget) {\n      this.zoomModule.pinchTarget.id = '';\n      this.zoomModule.pinchTarget.setAttribute('opacity', '0');\n      this.svgObject.appendChild(this.zoomModule.pinchTarget);\n      removeLength = 1;\n    } // Fix for blazor resize issue\n\n\n    if (!isNullOrUndefined(this.resizeTo)) {\n      if (this.resizeTo !== this.checkResize && this.isBlazor && this.element.childElementCount) {\n        var containerCollection = document.querySelectorAll('.e-chart');\n\n        for (var index = 0; index < containerCollection.length; index++) {\n          var container = containerCollection[index];\n\n          while (container.firstChild) {\n            remove(container.firstChild);\n          }\n        }\n      }\n\n      this.checkResize = this.resizeTo;\n    }\n\n    if (this.svgObject) {\n      while (this.svgObject.childNodes.length > removeLength) {\n        this.svgObject.removeChild(this.svgObject.firstChild);\n      }\n\n      if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode && !this.stockChart) {\n        remove(this.svgObject);\n      }\n    }\n  };\n\n  Chart.prototype.refreshDefinition = function (definitions) {\n    for (var _i = 0, definitions_1 = definitions; _i < definitions_1.length; _i++) {\n      var item = definitions_1[_i];\n      item.axes = [];\n    }\n  };\n  /**\r\n   * Refresh the axis default value.\r\n   *\r\n   * @returns {boolean}\r\n   * @private\r\n   */\n\n\n  Chart.prototype.refreshAxis = function () {\n    var axis = this.primaryXAxis;\n    axis.rect = new Rect(undefined, undefined, 0, 0);\n    axis = this.primaryYAxis;\n    axis.isStack100 = false;\n    axis.rect = new Rect(undefined, undefined, 0, 0);\n\n    for (var _i = 0, _a = this.axes; _i < _a.length; _i++) {\n      var item = _a[_i];\n      axis = item;\n      axis.rect = new Rect(undefined, undefined, 0, 0);\n      axis.isStack100 = false;\n    }\n\n    if (this.paretoSeriesModule && this.series[0].type === 'Pareto') {\n      for (var _b = 0, _c = this.paretoSeriesModule.paretoAxes; _b < _c.length; _b++) {\n        var item = _c[_b];\n        axis = item;\n        axis.rect = new Rect(undefined, undefined, 0, 0);\n        axis.isStack100 = false;\n      }\n    }\n  };\n\n  Chart.prototype.axisChange = function (axis) {\n    if (!axis.name && !axis.valueType) {\n      return false;\n    }\n\n    this.refreshDefinition(this.columns);\n    this.refreshDefinition(this.rows);\n    this.calculateVisibleAxis();\n    this.processData();\n    return true;\n  };\n  /**\r\n   * Get visible series by index\r\n   */\n\n\n  Chart.prototype.getVisibleSeries = function (visibleSeries, index) {\n    for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\n      var series = visibleSeries_1[_i];\n\n      if (index === series.index) {\n        return series;\n      }\n    }\n\n    return null;\n  };\n  /**\r\n   * Fix for live data update flicker issue\r\n   */\n\n\n  Chart.prototype.refreshLiveData = function () {\n    this.calculateVisibleSeries();\n    this.initTechnicalIndicators();\n    this.initTrendLines();\n    this.refreshDefinition(this.columns);\n    this.refreshDefinition(this.rows);\n    this.calculateVisibleAxis();\n    this.processData(false);\n\n    if (!this.isBlazor) {\n      this.enableCanvas ? this.createChartSvg() : this.removeSvg();\n      this.refreshAxis();\n      this.refreshBound();\n      this.trigger('loaded', {\n        chart: this.isBlazor ? {} : this\n      });\n    }\n  };\n  /**\r\n   * To remove style element\r\n   */\n\n\n  Chart.prototype.removeStyles = function () {\n    removeElement(this.element.id + '_ej2_chart_selection');\n    removeElement(this.element.id + '_ej2_chart_highlight');\n  };\n  /**\r\n   * Called internally if any of the property value changed.\r\n   * @private\r\n   */\n  // tslint:disable-next-line:max-func-body-length\n\n\n  Chart.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var renderer = false;\n    var refreshBounds = false;\n    this.animateSeries = false;\n    var axis;\n\n    if (!this.delayRedraw) {\n      for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n        var prop = _a[_i];\n\n        switch (prop) {\n          case 'primaryXAxis':\n            axis = newProp.primaryXAxis;\n            refreshBounds = this.axisChange(axis);\n\n            if (newProp.primaryXAxis.edgeLabelPlacement) {\n              renderer = true;\n            }\n\n            if (!newProp.primaryXAxis.crosshairTooltip) {\n              refreshBounds = true;\n            }\n\n            if (!isNullOrUndefined(axis.isInversed) || !isNullOrUndefined(axis.opposedPosition)) {\n              this.primaryXAxis.setIsInversedAndOpposedPosition();\n            }\n\n            break;\n\n          case 'primaryYAxis':\n            axis = newProp.primaryYAxis;\n            refreshBounds = this.axisChange(axis);\n\n            if (newProp.primaryYAxis.edgeLabelPlacement) {\n              renderer = true;\n            }\n\n            if (!newProp.primaryYAxis.crosshairTooltip) {\n              refreshBounds = true;\n            }\n\n            if (!isNullOrUndefined(axis.isInversed) || !isNullOrUndefined(axis.opposedPosition)) {\n              this.primaryYAxis.setIsInversedAndOpposedPosition();\n            }\n\n            break;\n\n          case 'axes':\n            for (var _b = 0, _c = Object.keys(newProp.axes); _b < _c.length; _b++) {\n              var index = _c[_b];\n              axis = newProp.axes[index];\n              refreshBounds = refreshBounds || this.axisChange(axis);\n\n              if (!axis.crosshairTooltip) {\n                refreshBounds = true;\n              }\n\n              if (!isNullOrUndefined(axis.isInversed) || !isNullOrUndefined(axis.opposedPosition)) {\n                this.axes[index].setIsInversedAndOpposedPosition();\n              }\n            }\n\n            break;\n\n          case 'height':\n          case 'width':\n            this.createChartSvg();\n            refreshBounds = true;\n            break;\n\n          case 'subTitle':\n          case 'title':\n            refreshBounds = true;\n            break;\n\n          case 'titleStyle':\n            if (newProp.titleStyle && (newProp.titleStyle.size || newProp.titleStyle.textOverflow)) {\n              refreshBounds = true;\n            } else {\n              renderer = true;\n            }\n\n            break;\n\n          case 'subTitleStyle':\n            if (newProp.subTitleStyle && (newProp.subTitleStyle.size || newProp.subTitleStyle.textOverflow)) {\n              refreshBounds = true;\n            } else {\n              renderer = true;\n            }\n\n            break;\n\n          case 'border':\n            renderer = true;\n            break;\n\n          case 'dataSource':\n            this.processData(false);\n            refreshBounds = true;\n            break;\n\n          case 'enableCanvas':\n            this.refresh();\n            break;\n\n          case 'series':\n            var len = this.series.length;\n            var seriesRefresh = false;\n            var series = void 0;\n            var blazorProp = void 0;\n\n            for (var i = 0; i < len; i++) {\n              series = newProp.series[i]; // I264774 blazor series visible property binding not working issue fixed.\n\n              if (this.isBlazor && series && (series.visible !== oldProp.series[i].visible || series.isClosed || series.marker || series.emptyPointSettings || series.type || series.boxPlotMode || series.showMean)) {\n                blazorProp = true;\n              }\n\n              if (series && (series.dataSource || series.query || series.errorBar || series.xName || series.yName || series.size || series.high || series.low || series.open || series.close || series.fill || series.name || series.marker || blazorProp)) {\n                extend(this.getVisibleSeries(this.visibleSeries, i), series, null, true);\n                seriesRefresh = true;\n              }\n            }\n\n            if (seriesRefresh) {\n              this.calculateVisibleSeries();\n              this.initTechnicalIndicators();\n              this.initTrendLines();\n              this.refreshDefinition(this.columns);\n              this.refreshDefinition(this.rows);\n              this.calculateVisibleAxis();\n              this.processData(false);\n              refreshBounds = true;\n            }\n\n            break;\n\n          case 'indicators':\n            refreshBounds = true;\n            break;\n\n          case 'zoomSettings':\n            if (newProp.zoomSettings.enableScrollbar || oldProp.zoomSettings.enableScrollbar) {\n              refreshBounds = true;\n            }\n\n            renderer = true;\n            break;\n\n          case 'background':\n            renderer = true;\n            break;\n\n          case 'chartArea':\n            if (newProp.chartArea.border && newProp.chartArea.border.width) {\n              refreshBounds = true;\n            }\n\n            renderer = true;\n            break;\n\n          case 'legendSettings':\n            if (!newProp.legendSettings.background || !newProp.legendSettings.opacity) {\n              refreshBounds = true;\n            }\n\n            renderer = true;\n            break;\n\n          case 'palettes':\n            this.calculateVisibleSeries();\n            renderer = true;\n            break;\n\n          case 'selectedDataIndexes':\n            if (this.selectionModule) {\n              this.selectionModule.currentMode = this.selectionMode;\n              this.selectionModule.selectedDataIndexes = this.selectedDataIndexes;\n              this.selectionModule.styleId = this.element.id + '_ej2_chart_selection';\n              this.selectionModule.redrawSelection(this, oldProp.selectionMode, true);\n            }\n\n            break;\n\n          case 'selectionMode':\n            if (this.selectionModule && newProp.selectionMode && newProp.selectionMode.indexOf('Drag') === -1) {\n              this.selectionModule.currentMode = this.selectionMode;\n              this.selectionModule.styleId = this.element.id + '_ej2_chart_selection';\n              this.selectionModule.redrawSelection(this, oldProp.selectionMode, true);\n            }\n\n            break;\n\n          case 'isMultiSelect':\n            if (this.selectionModule && !newProp.isMultiSelect && this.selectionModule.selectedDataIndexes.length > 1) {\n              this.selectionModule.currentMode = this.selectionMode;\n              this.selectionModule.styleId = this.element.id + '_ej2_chart_selection';\n              this.selectionModule.redrawSelection(this, oldProp.selectionMode);\n            }\n\n            break;\n\n          case 'highlightMode':\n          case 'selectionPattern':\n          case 'highlightPattern':\n            this.removeStyles();\n            renderer = true;\n            break;\n\n          case 'theme':\n            this.animateSeries = true;\n            break;\n\n          case 'locale':\n          case 'currencyCode':\n            if (this.isBlazor) {\n              this.setCulture();\n              renderer = true;\n            } else {\n              this.refresh();\n            }\n\n            break;\n\n          case 'tooltip':\n            if (this.tooltipModule) {\n              // To check the tooltip enable is true.\n              this.tooltipModule.previousPoints = [];\n\n              if (this.tooltip.template) {\n                this.tooltipModule.template = this.tooltip.template;\n              }\n            }\n\n            break;\n        }\n      }\n\n      if (!refreshBounds && renderer) {\n        this.rotatedDataLabelCollections = [];\n        this.removeSvg();\n        this.renderElements();\n        this.trigger('loaded', {\n          chart: this.isBlazor ? {} : this\n        });\n      }\n\n      if (refreshBounds) {\n        this.enableCanvas ? this.createChartSvg() : this.removeSvg();\n\n        if (this.isReact) {\n          this.clearTemplate();\n        }\n\n        this.refreshAxis();\n        this.refreshBound();\n        this.trigger('loaded', {\n          chart: this.isBlazor ? {} : this\n        });\n        this.redraw = false;\n        this.animated = false;\n      }\n    }\n  };\n\n  __decorate([Property(null)], Chart.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], Chart.prototype, \"height\", void 0);\n\n  __decorate([Property('')], Chart.prototype, \"title\", void 0);\n\n  __decorate([Property('')], Chart.prototype, \"dataSource\", void 0);\n\n  __decorate([Complex(Theme.chartTitleFont, Font)], Chart.prototype, \"titleStyle\", void 0);\n\n  __decorate([Property('')], Chart.prototype, \"subTitle\", void 0);\n\n  __decorate([Complex(Theme.chartSubTitleFont, Font)], Chart.prototype, \"subTitleStyle\", void 0);\n\n  __decorate([Complex({}, Margin)], Chart.prototype, \"margin\", void 0);\n\n  __decorate([Complex({\n    color: '#DDDDDD',\n    width: 0\n  }, Border)], Chart.prototype, \"border\", void 0);\n\n  __decorate([Property(null)], Chart.prototype, \"background\", void 0);\n\n  __decorate([Complex({\n    border: {\n      color: null,\n      width: 0.5\n    },\n    background: 'transparent'\n  }, ChartArea)], Chart.prototype, \"chartArea\", void 0);\n\n  __decorate([Complex({\n    name: 'primaryXAxis'\n  }, Axis)], Chart.prototype, \"primaryXAxis\", void 0);\n\n  __decorate([Complex({\n    name: 'primaryYAxis'\n  }, Axis)], Chart.prototype, \"primaryYAxis\", void 0);\n\n  __decorate([Collection([{}], Row)], Chart.prototype, \"rows\", void 0);\n\n  __decorate([Collection([{}], Column)], Chart.prototype, \"columns\", void 0);\n\n  __decorate([Collection([{}], Axis)], Chart.prototype, \"axes\", void 0);\n\n  __decorate([Collection([{}], Series)], Chart.prototype, \"series\", void 0);\n\n  __decorate([Collection([{}], ChartAnnotationSettings)], Chart.prototype, \"annotations\", void 0);\n\n  __decorate([Property([])], Chart.prototype, \"palettes\", void 0);\n\n  __decorate([Property('Material')], Chart.prototype, \"theme\", void 0);\n\n  __decorate([Complex({}, TooltipSettings)], Chart.prototype, \"tooltip\", void 0);\n\n  __decorate([Complex({}, CrosshairSettings)], Chart.prototype, \"crosshair\", void 0);\n\n  __decorate([Complex({}, LegendSettings)], Chart.prototype, \"legendSettings\", void 0);\n\n  __decorate([Collection([{}], RangeColorSetting)], Chart.prototype, \"rangeColorSettings\", void 0);\n\n  __decorate([Complex({}, ZoomSettings)], Chart.prototype, \"zoomSettings\", void 0);\n\n  __decorate([Property('')], Chart.prototype, \"highlightColor\", void 0);\n\n  __decorate([Property('None')], Chart.prototype, \"selectionMode\", void 0);\n\n  __decorate([Property('None')], Chart.prototype, \"highlightMode\", void 0);\n\n  __decorate([Property('None')], Chart.prototype, \"selectionPattern\", void 0);\n\n  __decorate([Property('None')], Chart.prototype, \"highlightPattern\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"isMultiSelect\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"allowMultiSelection\", void 0);\n\n  __decorate([Property(true)], Chart.prototype, \"enableExport\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"allowExport\", void 0);\n\n  __decorate([Collection([], Indexes)], Chart.prototype, \"selectedDataIndexes\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"useGroupingSeparator\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"enableAutoIntervalOnBothAxis\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"isTransposed\", void 0);\n\n  __decorate([Property(false)], Chart.prototype, \"enableCanvas\", void 0);\n\n  __decorate([Property(null)], Chart.prototype, \"backgroundImage\", void 0);\n\n  __decorate([Collection([], TechnicalIndicator)], Chart.prototype, \"indicators\", void 0);\n\n  __decorate([Property(true)], Chart.prototype, \"enableAnimation\", void 0);\n\n  __decorate([Property(null)], Chart.prototype, \"description\", void 0);\n\n  __decorate([Property(1)], Chart.prototype, \"tabIndex\", void 0);\n\n  __decorate([Property(true)], Chart.prototype, \"enableSideBySidePlacement\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"resized\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"beforeResize\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"annotationRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"beforePrint\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"loaded\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"beforeExport\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"afterExport\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"load\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"animationComplete\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"legendRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"textRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"pointRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"seriesRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"axisLabelRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"axisLabelClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"axisRangeCalculated\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"axisMultiLabelRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"legendClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"multiLevelLabelClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"tooltipRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"sharedTooltipRender\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"chartMouseMove\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"chartMouseClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"chartDoubleClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"pointClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"pointDoubleClick\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"pointMove\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"chartMouseLeave\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"chartMouseDown\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"chartMouseUp\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"dragComplete\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"selectionComplete\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"zoomComplete\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"onZooming\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"scrollStart\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"scrollEnd\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"scrollChanged\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"dragStart\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"drag\", void 0);\n\n  __decorate([Event()], Chart.prototype, \"dragEnd\", void 0);\n\n  __decorate([Property('USD')], Chart.prototype, \"currencyCode\", void 0);\n\n  Chart = __decorate([NotifyPropertyChanges], Chart);\n  return Chart;\n}(Component);\n\nexport { Chart };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/chart/chart.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","NotifyPropertyChanges","Internationalization","L10n","setValue","isNullOrUndefined","updateBlazorTemplate","ChildProperty","remove","extend","Browser","Touch","Event","EventHandler","Complex","Collection","findClipRect","showTooltip","ImageOption","removeElement","appendChildElement","blazorTemplatesReset","textElement","RectOption","createSvg","firstToLowerCase","titlePositionX","redrawElement","getTextAnchor","appendClipElement","ChartLocation","getSeriesColor","Theme","getThemeColor","Margin","Border","ChartArea","Font","Indexes","TooltipSettings","Row","Column","Axis","CartesianAxisLayoutPanel","Rect","measureText","TextOption","Size","SvgRenderer","ChartData","Series","Data","Marker","LegendSettings","TechnicalIndicator","chartMouseClick","chartDoubleClick","pointClick","pointDoubleClick","axisLabelClick","beforeResize","chartMouseDown","chartMouseMove","chartMouseUp","load","pointMove","chartMouseLeave","resized","ChartAnnotationSettings","getElement","getTitle","ExportUtils","RangeColorSetting","_super","apply","CrosshairSettings","color","width","ZoomSettings","Chart","options","element","_this","call","rotatedDataLabelCollections","animated","isPointMouseDown","isScrolling","checkResize","visible","clickCount","singleClickTimer","chartAreaType","isRtlEnabled","chartid","mergePersistChartData","data","window","localStorage","getItem","getModuleName","id","dataObj","JSON","parse","keys","isProtectedOnChange","_i","keys_1","isIdHasSpecialCharacter","elementId","regex","numberRegex","childElementId","test","start","indexOf","preRender","blazor","isBlazor","allowServerDataBinding","unWireEvents","initPrivateVariable","setCulture","wireEvents","stockChart","tooltip","header","format","series","volume","animateSeries","setAttribute","enableRtl","delayRedraw","horizontalAxes","verticalAxes","refreshAxis","refreshDefinition","rows","columns","tooltipModule","previousPoints","collection","document","getElementsByClassName","svgId","enableCanvas","render","svgRenderer","loadEventData","chart","theme","name","cancel","trigger","cartesianChartRendering","getComputedStyle","querySelector","direction","beforeRenderData","createChartSvg","setTheme","markerRender","calculateAreaType","calculateVisibleSeries","initTechnicalIndicators","initTrendLines","calculateVisibleAxis","processData","renderComplete","getLocalizedLabel","localeObject","getConstant","animate","duration","redraw","refreshBound","legendModule","legendSettings","getLegendOptions","visibleSeries","enable","calculateStackValues","calculateBounds","rangeFound","enablePeriodSelector","enableSelector","renderElements","removeSelection","mergeXvalues","isCalculateStacking","len","position","rectCount","undefined","type","drawType","calculateStackedValue","_a","_b","_c","points","point","isSelect","selectionMode","selectionModule","filterArray","calculateDragSelectedElements","renderBorder","renderTitle","renderAreaBorder","renderSeriesElements","renderAxes","renderLegend","applyZoomkit","performSelection","setSecondaryElementPosition","value","marker","dataLabel","renderAnnotation","yAxisElements","renderer","createGroup","axisElement","chartAxisLayoutPanel","stripLineModule","renderStripLine","axisCollections","legendCollections","calTotalPage","borderWidth","border","bounds","legendBounds","rect","x","y","height","canvasClip","canvasRestore","appendChild","svgObject","chartObject","mainObject","getBoundingClientRect","svgRect","style","left","Math","max","top","initializeModuleElements","dataLabelCollections","seriesElements","indicators","indicatorElements","hasTrendlines","trendLineElements","dataLabelElements","isTrendline","trendlines","tagName","tooltipDiv","createElement","cssText","tooltipdiv","getElementById","attrs","svg","availableSize","initializeIndicator","initializeTrendLine","renderSeries","appendElementsAfterSeries","visibility","seriesClipRect","item","category","sourceIndex","index","renderCanvasSeries","seriesSvg","svgElement","divElement","mainElement","canvas","indicator","createIndicatorElements","trendLineModule","getTrendLineElements","zoomModule","zoomSettings","enableScrollbar","scrollElement","childElementCount","calculateStockEvents","enablePan","performedUI","applyZoomToolkit","annotationModule","renderAnnotations","selectedDataIndexes","invokeSelection","highlightModule","invokeHighlight","redrawSelection","visibleSeriesCount","check","initializeDataModule","dataSource","techIndicator","xData","yData","isAngular","dataModule","query","refreshDataManager","margin","titleHeight","subTitleHeight","titleWidth","padding","right","titleCollection","subTitleCollection","title","titleStyle","subTitle","maxWidth","titleText","subTitleStyle","chartArea","bottom","stockLegendModule","initialClipRect","calculateLegendBounds","measureAxis","print","exportChart","trendIndex","trendline","trendLine","initSeriesCollection","targetSeries","xAxisName","yAxisName","push","requireInvertedAxis","isTransposed","polarSeriesModule","radarSeriesModule","axis","axes","primaryXAxis","primaryYAxis","concat","paretoSeriesModule","paretoAxes","isPanning","isAxisZoomed","scrollBarModule","scrollSettingEnabled","labels","indexLabels","initAxis","zoomingScrollBar","injectTo","orientation","measure","isSeries","xAxis","yAxis","seriesName","refreshTechnicalIndicator","targetIndicator","setDataSource","colors","palettes","count","seriesCollection","sort","a","zOrder","interior","fill","initSeries","getAnchor","textAlignment","elementSize","themeStyle","chartTitle","description","tabIndex","toString","renderSubTitle","alignment","subTitleElementSize","subTitleOptions","text","backGroundImage","backgroundImage","fillColor","background","htmlObject","drawRectangle","image","drawImage","previousRect","getAttribute","areaBorder","opacity","addSeries","seriesCollection_1","refresh","removeSeries","splice","clearSeries","addAxes","axisCollection","axisCollection_1","interval","isNaN","desiredIntervals","removeAxis","destroy","removeEventListener","isReact","clearTemplate","removeSvg","getPersistData","keyEntity","addOnPersist","startEvent","touchStartEvent","moveEvent","touchMoveEvent","stopEvent","touchEndEvent","cancelEvent","isPointer","chartOnMouseDown","mouseMove","mouseEnd","chartOnMouseClick","chartOnDoubleClick","chartRightClick","mouseLeave","isTouch","resizeBound","touchObject","add","chartResize","bind","addEventListener","longPressBound","longPress","tapHold","tapHoldThreshold","setStyle","event","crosshair","crosshairModule","buttons","which","pointerType","preventDefault","stopPropagation","zooming","disableScroll","enableSelectionZooming","enablePinchZooming","highlightMode","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","display","overflow","isOrientation","e","mouseX","originalEvent","changedTouches","clientX","mouseY","clientY","startMove","setMouseXY","notify","pageX","pageY","export","fileName","exportModule","afterExport","getDataUrl","arg","currentSize","previousSize","beforeResizeArgs","cancelResizedEvent","resizeTo","clearTimeout","setTimeout","isDestroyed","touchArg","chartOnMouseMove","chartOnMouseLeave","isChartDrag","timeInterval","observers","triggerPointEvent","triggerAxisLabelClickEvent","evt","pointData","getData","seriesIndex","pointIndex","targetElement","clickEvt","split","axisIndex","slice","labelIndex","currentAxis","visibleLabels","labelID","location","titleTooltip","axisTooltip","dataEditingModule","pointMouseMove","targetId","parseInt","replace","textContent","offsetWidth","isTitleOrLegendEnabled","findAxisLabel","texts","originalText","multiLevelLabels","categories","offset","isDevice","mouseDownX","previousMouseMoveX","mouseDownY","previousMouseMoveY","isDoubleTap","Date","getTime","threshold","pointMouseDown","chartOnMouseUp","pointMouseUp","removeAttribute","intl","setLocaleConstants","defaultLocalConstants","locale","setAnnotationValue","annotationIndex","content","parentNode","annotation","annotations","processAnnotation","children","ZoomIn","Zoom","ZoomOut","Pan","Reset","ResetZoom","requiredModules","modules","enableAnnotation","moduleName","errorBarVisible","isPointDrag","dataLabelEnable","member","args","map","isLegend","errorBar","dragSettings","some","currentModule","findIndicatorModules","findTrendLineModules","findAxisModule","enableExport","allowExport","enableMouseWheelZooming","datetimeEnabled","categoryEnabled","logarithmicEnabled","striplineEnabled","dateTimeCategoryEnabled","multiLevelEnabled","axisCollections_1","valueType","findStriplineVisibility","stripLines","scrollbarSettings","macdEnable","bandEnable","isLine","isSpline","_loop_1","markerEnable","this_1","striplines","striplines_1","stripline","clearRect","removeLength","pinchTarget","containerCollection","querySelectorAll","container","firstChild","childNodes","removeChild","hasChildNodes","definitions","definitions_1","isStack100","axisChange","getVisibleSeries","visibleSeries_1","refreshLiveData","removeStyles","onPropertyChanged","newProp","oldProp","refreshBounds","prop","edgeLabelPlacement","crosshairTooltip","isInversed","opposedPosition","setIsInversedAndOpposedPosition","size","textOverflow","seriesRefresh","blazorProp","isClosed","emptyPointSettings","boxPlotMode","showMean","xName","yName","high","low","open","close","currentMode","styleId","isMultiSelect","template","chartTitleFont","chartSubTitleFont"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAII,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,MAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,MAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGd,MAAM,CAACmB,wBAAP,CAAgCP,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,MAA2HhB,CAA3H;AACA,MAAI,OAAOsB,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EH,CAAC,GAAGE,OAAO,CAACC,QAAR,CAAiBV,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIQ,CAAC,GAAGX,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCK,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIxB,CAAC,GAAGa,UAAU,CAACW,CAAD,CAAlB,EAAuBJ,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQjB,CAAC,CAACoB,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQjB,CAAC,CAACc,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BpB,CAAC,CAACc,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,SAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAclB,MAAM,CAACuB,cAAP,CAAsBX,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,CALD;AAMA;;AACA;;AACA;;AACA;;;AACA,SAASM,SAAT,EAAoBC,QAApB,EAA8BC,qBAA9B,EAAqDC,oBAArD,QAAiF,sBAAjF;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,iBAAzB,EAA4CC,oBAA5C,QAAwE,sBAAxE;AACA,SAASC,aAAT,QAA8B,sBAA9B;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,sBAA/B;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,sBAA/B;AACA,SAASC,KAAT,EAAgBC,YAAhB,EAA8BC,OAA9B,EAAuCC,UAAvC,QAAyD,sBAAzD;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,EAAiDC,aAAjD,EAAgEC,kBAAhE,EAAoFC,oBAApF,QAAgH,wBAAhH;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,SAAlC,EAA6CC,gBAA7C,EAA+DC,cAA/D,EAA+EC,aAA/E,EAA8FC,aAA9F,QAAmH,wBAAnH;AACA,SAASC,iBAAT,EAA4BC,aAA5B,QAAiD,wBAAjD;AACA,SAASC,cAAT,EAAyBC,KAAzB,EAAgCC,aAAhC,QAAqD,uBAArD;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,SAAzB,EAAoCC,IAApC,EAA0CC,OAA1C,EAAmDC,eAAnD,QAA0E,sBAA1E;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,IAAtB,QAAkC,aAAlC;AACA,SAASC,wBAAT,QAAyC,wBAAzC;AACA,SAASC,IAAT,EAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,IAAxC,EAA8CC,WAA9C,QAAiE,0BAAjE;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,IAAT,QAAqB,sBAArB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,kBAAT,QAAmC,4CAAnC;AACA,SAASC,eAAT,EAA0BC,gBAA1B,EAA4CC,UAA5C,EAAwDC,gBAAxD,EAA0EC,cAA1E,EAA0FC,YAA1F,QAA8G,2BAA9G;AACA,SAASC,cAAT,EAAyBC,cAAzB,EAAyCC,YAAzC,EAAuDC,IAAvD,EAA6DC,SAA7D,EAAwEC,eAAxE,EAAyFC,OAAzF,QAAwG,2BAAxG;AACA,SAASC,uBAAT,QAAwC,oBAAxC;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,wBAArC;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA;AACA;AACA;;AACA,IAAIC,iBAAiB;AAAG;AAAe,UAAUC,MAAV,EAAkB;AACrDtG,EAAAA,SAAS,CAACqG,iBAAD,EAAoBC,MAApB,CAAT;;AACA,WAASD,iBAAT,GAA6B;AACzB,WAAOC,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACC,KAAP,CAAa,IAAb,EAAmBnF,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDN,EAAAA,UAAU,CAAC,CACPe,QAAQ,EADD,CAAD,EAEPwE,iBAAiB,CAACzF,SAFX,EAEsB,OAFtB,EAE+B,KAAK,CAFpC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,EADD,CAAD,EAEPwE,iBAAiB,CAACzF,SAFX,EAEsB,KAFtB,EAE6B,KAAK,CAFlC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEPwE,iBAAiB,CAACzF,SAFX,EAEsB,QAFtB,EAEgC,KAAK,CAFrC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEPwE,iBAAiB,CAACzF,SAFX,EAEsB,OAFtB,EAE+B,KAAK,CAFpC,CAAV;;AAGA,SAAOyF,iBAAP;AACH,CAlBsC,CAkBrCjE,aAlBqC,CAAvC;;AAmBA,SAASiE,iBAAT;AACA;AACA;AACA;;AACA,IAAIG,iBAAiB;AAAG;AAAe,UAAUF,MAAV,EAAkB;AACrDtG,EAAAA,SAAS,CAACwG,iBAAD,EAAoBF,MAApB,CAAT;;AACA,WAASE,iBAAT,GAA6B;AACzB,WAAOF,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACC,KAAP,CAAa,IAAb,EAAmBnF,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDN,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP2E,iBAAiB,CAAC5F,SAFX,EAEsB,QAFtB,EAEgC,KAAK,CAFrC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP2E,iBAAiB,CAAC5F,SAFX,EAEsB,WAFtB,EAEmC,KAAK,CAFxC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC;AAAE8D,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,KAAK,EAAE;AAAtB,GAAD,EAA4B1C,MAA5B,CADA,CAAD,EAEPwC,iBAAiB,CAAC5F,SAFX,EAEsB,MAFtB,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAD,CADD,CAAD,EAEP2E,iBAAiB,CAAC5F,SAFX,EAEsB,UAFtB,EAEkC,KAAK,CAFvC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP2E,iBAAiB,CAAC5F,SAFX,EAEsB,mBAFtB,EAE2C,KAAK,CAFhD,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP2E,iBAAiB,CAAC5F,SAFX,EAEsB,qBAFtB,EAE6C,KAAK,CAFlD,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,CAAD,CADD,CAAD,EAEP2E,iBAAiB,CAAC5F,SAFX,EAEsB,SAFtB,EAEiC,KAAK,CAFtC,CAAV;;AAGA,SAAO4F,iBAAP;AACH,CA3BsC,CA2BrCpE,aA3BqC,CAAvC;;AA4BA,SAASoE,iBAAT;AACA;AACA;AACA;;AACA,IAAIG,YAAY;AAAG;AAAe,UAAUL,MAAV,EAAkB;AAChDtG,EAAAA,SAAS,CAAC2G,YAAD,EAAeL,MAAf,CAAT;;AACA,WAASK,YAAT,GAAwB;AACpB,WAAOL,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACC,KAAP,CAAa,IAAb,EAAmBnF,SAAnB,CAAnB,IAAoD,IAA3D;AACH;;AACDN,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,wBAFjB,EAE2C,KAAK,CAFhD,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,oBAFjB,EAEuC,KAAK,CAF5C,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,yBAFjB,EAE4C,KAAK,CAFjD,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,uBAFjB,EAE0C,KAAK,CAF/C,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,MAFjB,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,CAAC,MAAD,EAAS,QAAT,EAAmB,SAAnB,EAA8B,KAA9B,EAAqC,OAArC,CAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,cAFjB,EAEiC,KAAK,CAFtC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,WAFjB,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP8E,YAAY,CAAC/F,SAFN,EAEiB,iBAFjB,EAEoC,KAAK,CAFzC,CAAV;;AAGA,SAAO+F,YAAP;AACH,CA9BiC,CA8BhCvE,aA9BgC,CAAlC;;AA+BA,SAASuE,YAAT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,KAAK;AAAG;AAAe,UAAUN,MAAV,EAAkB;AACzCtG,EAAAA,SAAS,CAAC4G,KAAD,EAAQN,MAAR,CAAT;AACA;AACJ;AACA;AACA;AACA;;;AACI,WAASM,KAAT,CAAeC,OAAf,EAAwBC,OAAxB,EAAiC;AAC7B,QAAIC,KAAK,GAAGT,MAAM,CAACU,IAAP,CAAY,IAAZ,EAAkBH,OAAlB,EAA2BC,OAA3B,KAAuC,IAAnD;AACA;;;AACAC,IAAAA,KAAK,CAACE,2BAAN,GAAoC,EAApC;AACA;;AACAF,IAAAA,KAAK,CAACG,QAAN,GAAiB,KAAjB;AACA;;AACAH,IAAAA,KAAK,CAACI,gBAAN,GAAyB,KAAzB;AACA;;AACAJ,IAAAA,KAAK,CAACK,WAAN,GAAoB,KAApB;AACA;;AACAL,IAAAA,KAAK,CAACM,WAAN,GAAoB,CAApB;AACA;;AACAN,IAAAA,KAAK,CAACO,OAAN,GAAgB,CAAhB;AACA;;AACAP,IAAAA,KAAK,CAACQ,UAAN,GAAmB,CAAnB;AACA;;AACAR,IAAAA,KAAK,CAACS,gBAAN,GAAyB,CAAzB;AACA;;AACAT,IAAAA,KAAK,CAACU,aAAN,GAAsB,WAAtB;AACA;;AACAV,IAAAA,KAAK,CAACW,YAAN,GAAqB,KAArB;AACAX,IAAAA,KAAK,CAACY,OAAN,GAAgB,KAAhB;AACA1F,IAAAA,QAAQ,CAAC,kBAAD,EAAqB8E,KAAK,CAACa,qBAA3B,EAAkDb,KAAlD,CAAR;AACA,WAAOA,KAAP;AACH;AACD;AACJ;AACA;;;AACIH,EAAAA,KAAK,CAAChG,SAAN,CAAgBgH,qBAAhB,GAAwC,YAAY;AAChD,QAAIC,IAAI,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAAKC,aAAL,KAAuB,KAAKnB,OAAL,CAAaoB,EAAhE,CAAX;;AACA,QAAI,EAAEhG,iBAAiB,CAAC2F,IAAD,CAAjB,IAA4BA,IAAI,KAAK,EAAvC,CAAJ,EAAiD;AAC7C,UAAIM,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWR,IAAX,CAAd;AACA,UAAIS,IAAI,GAAGlI,MAAM,CAACkI,IAAP,CAAYH,OAAZ,CAAX;AACA,WAAKI,mBAAL,GAA2B,IAA3B;;AACA,WAAK,IAAIC,EAAE,GAAG,CAAT,EAAYC,MAAM,GAAGH,IAA1B,EAAgCE,EAAE,GAAGC,MAAM,CAACpH,MAA5C,EAAoDmH,EAAE,EAAtD,EAA0D;AACtD,YAAIvH,GAAG,GAAGwH,MAAM,CAACD,EAAD,CAAhB;;AACA,YAAK,OAAO,KAAKvH,GAAL,CAAP,KAAqB,QAAtB,IAAmC,CAACiB,iBAAiB,CAAC,KAAKjB,GAAL,CAAD,CAAzD,EAAsE;AAClEqB,UAAAA,MAAM,CAAC,KAAKrB,GAAL,CAAD,EAAYkH,OAAO,CAAClH,GAAD,CAAnB,CAAN;AACH,SAFD,MAGK;AACD,eAAKA,GAAL,IAAYkH,OAAO,CAAClH,GAAD,CAAnB;AACH;AACJ;;AACD,WAAKsH,mBAAL,GAA2B,KAA3B;AACH;AACJ,GAjBD;AAkBA;AACJ;AACA;AACA;AACA;;;AACI3B,EAAAA,KAAK,CAAChG,SAAN,CAAgB8H,uBAAhB,GAA0C,UAAUC,SAAV,EAAqB;AAC3D,QAAIC,KAAK,GAAG,cAAZ;AACA,QAAIC,WAAW,GAAG,WAAlB;AACA,QAAIC,cAAc,GAAG,EAArB;;AACA,QAAI,CAACF,KAAK,CAACG,IAAN,CAAWJ,SAAX,CAAL,EAA4B;AACxB,UAAIK,KAAK,GAAG,CAAZ;;AACA,UAAIH,WAAW,CAACE,IAAZ,CAAiBJ,SAAS,CAAC,CAAD,CAA1B,CAAJ,EAAoC;AAChCG,QAAAA,cAAc,IAAK,QAAQH,SAAS,CAAC,CAAD,CAApC;AACAK,QAAAA,KAAK,GAAG,CAAR;AACH;;AACD,WAAK,IAAItH,CAAC,GAAGsH,KAAb,EAAoBtH,CAAC,GAAGiH,SAAS,CAACtH,MAAlC,EAA0CK,CAAC,EAA3C,EAA+C;AAC3C,YAAI,CAACkH,KAAK,CAACG,IAAN,CAAWJ,SAAS,CAACjH,CAAD,CAApB,CAAD,IAA6BiH,SAAS,CAACM,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAAzD,IACAN,SAAS,CAACM,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAD5B,IACiCN,SAAS,CAACM,OAAV,CAAkB,IAAlB,MAA4B,CAAC,CAD9D,IACmE,CAACJ,WAAW,CAACE,IAAZ,CAAiBJ,SAAS,CAACjH,CAAD,CAA1B,CADxE,EACwG;AACpGoH,UAAAA,cAAc,IAAK,OAAOH,SAAS,CAACjH,CAAD,CAAnC;AACH,SAHD,MAIK;AACDoH,UAAAA,cAAc,IAAIH,SAAS,CAACjH,CAAD,CAA3B;AACH;AACJ;;AACD,aAAOoH,cAAP;AACH,KAhBD,MAiBK;AACD,aAAOH,SAAP;AACH;AACJ,GAxBD;AAyBA;AACJ;AACA;;;AACI/B,EAAAA,KAAK,CAAChG,SAAN,CAAgBsI,SAAhB,GAA4B,YAAY;AACpC,SAAKpC,OAAL,CAAaoB,EAAb,GAAkB,KAAKQ,uBAAL,CAA6B,KAAK5B,OAAL,CAAaoB,EAA1C,CAAlB,CADoC,CAEpC;;AACA,QAAIiB,MAAM,GAAG,QAAb;AACA,SAAKC,QAAL,GAAgBtB,MAAM,CAACqB,MAAD,CAAtB;AACA,SAAKE,sBAAL,GAA8B,KAA9B;AACA,SAAKC,YAAL;AACA,SAAKC,mBAAL;AACA,SAAKC,UAAL;AACA,SAAKC,UAAL;;AACA,QAAI,KAAKC,UAAT,EAAqB;AACjB,UAAI,KAAKA,UAAL,CAAgBC,OAAhB,CAAwBC,MAAxB,KAAmC,IAAvC,EAA6C;AACzC,aAAKD,OAAL,CAAaC,MAAb,GAAsB,mBAAtB;AACH;;AACD,UAAI,KAAKF,UAAL,CAAgBC,OAAhB,CAAwBE,MAAxB,KAAmC,IAAvC,EAA6C;AACzC,aAAKF,OAAL,CAAaE,MAAb,GAAsB,0CAClB,wFADJ;;AAEA,YAAI,KAAKH,UAAL,CAAgBI,MAAhB,CAAuB,CAAvB,EAA0BC,MAA1B,KAAqC,EAAzC,EAA6C;AACzC,eAAKJ,OAAL,CAAaE,MAAb,IAAuB,sCAAvB;AACH;AACJ;;AACD,WAAKG,aAAL,GAAqB,KAArB;AACH;;AACD,SAAKlD,OAAL,CAAamD,YAAb,CAA0B,KAA1B,EAAiC,KAAKC,SAAL,GAAiB,KAAjB,GAAyB,EAA1D;AACH,GAxBD;;AAyBAtD,EAAAA,KAAK,CAAChG,SAAN,CAAgB2I,mBAAhB,GAAsC,YAAY;AAC9C,SAAKS,aAAL,GAAqB,IAArB;AACA,SAAKG,WAAL,GAAmB,KAAnB;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,WAAL;AACA,SAAKC,iBAAL,CAAuB,KAAKC,IAA5B;AACA,SAAKD,iBAAL,CAAuB,KAAKE,OAA5B;;AACA,QAAI,KAAKC,aAAT,EAAwB;AACpB,WAAKA,aAAL,CAAmBC,cAAnB,GAAoC,EAApC;AACH;;AACD,QAAI,KAAK7D,OAAL,CAAaoB,EAAb,KAAoB,EAAxB,EAA4B;AACxB,UAAI0C,UAAU,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,SAAhC,EAA2CzJ,MAA5D;AACA,WAAKyF,OAAL,CAAaoB,EAAb,GAAkB,WAAW,KAAKP,OAAhB,GAA0B,GAA1B,GAAgCiD,UAAlD;AACH,KAd6C,CAe9C;;;AACA,SAAKG,KAAL,GAAa,KAAKrB,UAAL,GAAkB,KAAKA,UAAL,CAAgB5C,OAAhB,CAAwBoB,EAAxB,GAA6B,mBAA/C,GACT,KAAKpB,OAAL,CAAaoB,EAAb,IAAmB,KAAK8C,YAAL,GAAoB,SAApB,GAAgC,MAAnD,CADJ;AAEH,GAlBD;AAmBA;AACJ;AACA;;;AACIpE,EAAAA,KAAK,CAAChG,SAAN,CAAgBqK,MAAhB,GAAyB,YAAY;AACjC,QAAIlE,KAAK,GAAG,IAAZ;;AACA,SAAKmE,WAAL,GAAmB,IAAIrG,WAAJ,CAAgB,KAAKiC,OAAL,CAAaoB,EAA7B,CAAnB;AACA,QAAIiD,aAAa,GAAG;AAChBC,MAAAA,KAAK,EAAE,KAAKhC,QAAL,GAAgB,EAAhB,GAAqB,IADZ;AACkBiC,MAAAA,KAAK,EAAE,KAAKA,KAD9B;AACqCC,MAAAA,IAAI,EAAEzF,IAD3C;AACiD0F,MAAAA,MAAM,EAAE;AADzD,KAApB;;AAGA,QAAI,CAAC,KAAK7B,UAAV,EAAsB;AAClB;AACZ;AACA;AACY,WAAK8B,OAAL,CAAa3F,IAAb,EAAmBsF,aAAnB,EAAkC,YAAY;AAC1C,YAAI,CAACA,aAAa,CAACI,MAAnB,EAA2B;AACvBxE,UAAAA,KAAK,CAAC0E,uBAAN,CAA8BN,aAA9B;AACH;AACJ,OAJD;AAKH,KATD,MAUK;AACD;AACA,WAAKzD,YAAL,GAAqBI,MAAM,CAAC4D,gBAAP,CAAwBb,QAAQ,CAACc,aAAT,CAAuB,MAAvB,CAAxB,EAAwDC,SAAxD,KAAsE,KAA3F;AACA,WAAKH,uBAAL,CAA6BN,aAA7B;AACH;AACJ,GArBD;;AAsBAvE,EAAAA,KAAK,CAAChG,SAAN,CAAgB6K,uBAAhB,GAA0C,UAAUI,gBAAV,EAA4B;AAClE,SAAKR,KAAL,GAAa,KAAKjC,QAAL,GAAgByC,gBAAgB,CAACR,KAAjC,GAAyC,KAAKA,KAA3D;AACA,SAAKS,cAAL;AACA,SAAKC,QAAL;AACA,SAAKC,YAAL,GAAoB,IAAI/G,MAAJ,CAAW,IAAX,CAApB;AACA,SAAKgH,iBAAL;AACA,SAAKC,sBAAL;AACA,SAAKC,uBAAL;AACA,SAAKC,cAAL;AACA,SAAKC,oBAAL;AACA,SAAKC,WAAL;AACA,SAAKC,cAAL;AACA,SAAKlD,sBAAL,GAA8B,IAA9B;AACH,GAbD;AAcA;AACJ;AACA;AACA;AACA;AACA;;;AACIzC,EAAAA,KAAK,CAAChG,SAAN,CAAgB4L,iBAAhB,GAAoC,UAAUvL,GAAV,EAAe;AAC/C,WAAO,KAAKwL,YAAL,CAAkBC,WAAlB,CAA8BzL,GAA9B,CAAP;AACH,GAFD;AAGA;AACJ;AACA;AACA;AACA;;;AACI2F,EAAAA,KAAK,CAAChG,SAAN,CAAgB+L,OAAhB,GAA0B,UAAUC,QAAV,EAAoB;AAC1C,SAAKC,MAAL,GAAc,IAAd;AACA,SAAK3F,QAAL,GAAgB,IAAhB,CAF0C,CAEpB;;AACtB,SAAK0F,QAAL,GAAgBA,QAAQ,GAAGA,QAAH,GAAc,IAAtC;AACH,GAJD;AAKA;AACJ;AACA;AACA;AACA;;;AACIhG,EAAAA,KAAK,CAAChG,SAAN,CAAgBkM,YAAhB,GAA+B,YAAY;AACvC,SAAK7F,2BAAL,GAAmC,EAAnC;;AACA,QAAI,KAAK8F,YAAL,IAAqB,KAAKC,cAAL,CAAoB1F,OAA7C,EAAsD;AAClD,WAAKyF,YAAL,CAAkBE,gBAAlB,CAAmC,KAAKC,aAAxC,EAAuD,IAAvD;AACH;AACD;AACR;AACA;AACA;AACA;AACA;;;AACQ,QAAI,KAAKvD,OAAL,CAAawD,MAAb,IAAuB,KAAKzC,aAAhC,EAA+C;AAC3C,WAAKA,aAAL,CAAmBC,cAAnB,GAAoC,EAApC;AACH;;AACD,SAAKyC,oBAAL;AACA,SAAKC,eAAL,GAfuC,CAgBvC;;AACA,QAAI,KAAK3D,UAAL,IAAmB,CAAC,KAAKA,UAAL,CAAgB4D,UAAxC,EAAoD;AAChD,UAAI,KAAK5D,UAAL,CAAgB6D,oBAAhB,IAAwC,KAAK7D,UAAL,CAAgB8D,cAA5D,EAA4E;AACxE,eAAO,IAAP;AACH;AACJ;;AACD,SAAKC,cAAL;AACAzK,IAAAA,aAAa,CAAC,kBAAD,CAAb;AACA,SAAK0K,eAAL;;AACA,QAAI,KAAK1B,YAAL,IAAqB,CAAC,KAAKtC,UAA/B,EAA2C;AACvC,WAAKsC,YAAL,CAAkB2B,YAAlB,CAA+B,KAAKT,aAApC;AACH;AACJ,GA5BD;AA6BA;AACJ;AACA;;;AACItG,EAAAA,KAAK,CAAChG,SAAN,CAAgBwM,oBAAhB,GAAuC,YAAY;AAC/C,QAAItD,MAAJ;AACA,QAAI8D,mBAAmB,GAAG,KAA1B;;AACA,SAAK,IAAIlM,CAAC,GAAG,CAAR,EAAWmM,GAAG,GAAG,KAAKX,aAAL,CAAmB7L,MAAzC,EAAiDK,CAAC,GAAGmM,GAArD,EAA0DnM,CAAC,EAA3D,EAA+D;AAC3DoI,MAAAA,MAAM,GAAG,KAAKoD,aAAL,CAAmBxL,CAAnB,CAAT;AACAoI,MAAAA,MAAM,CAACgE,QAAP,GAAkBhE,MAAM,CAACiE,SAAP,GAAmBC,SAArC;;AACA,UAAI,CAAElE,MAAM,CAACmE,IAAP,CAAYhF,OAAZ,CAAoB,UAApB,MAAoC,CAAC,CAAtC,IAA6Ca,MAAM,CAACoE,QAAP,CAAgBjF,OAAhB,CAAwB,UAAxB,MAAwC,CAAC,CAAzC,IAC3C,KAAKxB,aAAL,KAAuB,YAD1B,KAC4C,CAACmG,mBADjD,EACsE;AAClE9D,QAAAA,MAAM,CAACqE,qBAAP,CAA6BrE,MAAM,CAACmE,IAAP,CAAYhF,OAAZ,CAAoB,KAApB,IAA6B,CAAC,CAA3D,EAA8D,IAA9D;AACA2E,QAAAA,mBAAmB,GAAG,IAAtB;AACH;AACJ;AACJ,GAZD;;AAaAhH,EAAAA,KAAK,CAAChG,SAAN,CAAgB8M,eAAhB,GAAkC,YAAY;AAC1C,SAAK,IAAIlF,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,UAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;;AACA,UAAIsB,MAAM,CAACxC,OAAX,EAAoB;AAChB,aAAK,IAAI+G,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGxE,MAAM,CAACyE,MAA7B,EAAqCF,EAAE,GAAGC,EAAE,CAACjN,MAA7C,EAAqDgN,EAAE,EAAvD,EAA2D;AACvD,cAAIG,KAAK,GAAGF,EAAE,CAACD,EAAD,CAAd;AACAG,UAAAA,KAAK,CAACC,QAAN,GAAiB,KAAjB;AACH;AACJ;AACJ;;AACD,QAAIvI,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,uBAAnB,CAAd,EAA2D;AACvD,UAAI,KAAKwG,aAAL,CAAmBzF,OAAnB,CAA2B,MAA3B,IAAqC,CAAC,CAA1C,EAA6C;AACzC,aAAK0F,eAAL,CAAqBC,WAArB,GAAmC,EAAnC;AACH;;AACD5L,MAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,uBAAnB,CAAb;AACA,WAAKyG,eAAL,CAAqBE,6BAArB,CAAmD,IAAnD,EAAyD,IAAIpK,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAzD,EAA+E,IAA/E;AACH,KAND,MAOK,IAAIyB,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,iBAAnB,CAAd,EAAqD;AACtD,UAAI,KAAKwG,aAAL,KAAuB,OAA3B,EAAoC;AAChC,aAAKC,eAAL,CAAqBC,WAArB,GAAmC,EAAnC;AACH;;AACD5L,MAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,iBAAnB,CAAb;AACA,WAAKyG,eAAL,CAAqBE,6BAArB,CAAmD,IAAnD,EAAyD,IAAIpK,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAzD,EAA+E,IAA/E;AACH;AACJ,GAxBD;;AAyBAmC,EAAAA,KAAK,CAAChG,SAAN,CAAgB6M,cAAhB,GAAiC,YAAY;AACzC,SAAKqB,YAAL;AACA,SAAKC,WAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,oBAAL,CAA0B,KAAKC,UAAL,EAA1B;AACA,SAAKC,YAAL;AACA,SAAKC,YAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,2BAAL;;AACA,SAAK,IAAI9G,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,UAAI+G,KAAK,GAAGnB,EAAE,CAAC5F,EAAD,CAAd;AACArG,MAAAA,oBAAoB,CAAC,KAAK2E,OAAL,CAAaoB,EAAb,GAAkB,YAAnB,EAAiC,UAAjC,EAA6CqH,KAAK,CAACC,MAAN,CAAaC,SAA1D,CAApB;AACH;;AACD,SAAKC,gBAAL;AACH,GAdD;AAeA;AACJ;AACA;AACA;AACA;;;AACI9I,EAAAA,KAAK,CAAChG,SAAN,CAAgBsO,UAAhB,GAA6B,YAAY;AACrC,SAAKS,aAAL,GAAqB,KAAKC,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,MAAAA,EAAE,EAAE,KAAKpB,OAAL,CAAaoB,EAAb,GAAkB;AAAxB,KAA1B,CAArB;AACA,QAAI4H,WAAJ;;AACA,QAAI,KAAKtF,IAAL,CAAUnJ,MAAV,GAAmB,CAAnB,IAAwB,KAAKoJ,OAAL,CAAapJ,MAAb,GAAsB,CAAlD,EAAqD;AACjDyO,MAAAA,WAAW,GAAG,KAAKC,oBAAL,CAA0Bb,UAA1B,EAAd;AACH;;AACD,QAAI,KAAKc,eAAT,EAA0B;AACtB,WAAKA,eAAL,CAAqBC,eAArB,CAAqC,IAArC,EAA2C,QAA3C,EAAqD,KAAKC,eAA1D;AACH;;AACD,WAAOJ,WAAP;AACH,GAVD;AAWA;AACJ;AACA;;;AACIlJ,EAAAA,KAAK,CAAChG,SAAN,CAAgBuO,YAAhB,GAA+B,YAAY;AACvC,QAAI,KAAKpC,YAAL,IAAqB,KAAKA,YAAL,CAAkBoD,iBAAlB,CAAoC9O,MAAzD,IAAmE,KAAK2L,cAAL,CAAoB1F,OAA3F,EAAoG;AAChG,WAAKyF,YAAL,CAAkBqD,YAAlB,GAAiC,IAAjC;AACA,UAAIC,WAAW,GAAG,KAAKrD,cAAL,CAAoBsD,MAApB,CAA2B5J,KAA7C;AACA,UAAI6J,MAAM,GAAG,KAAKxD,YAAL,CAAkByD,YAA/B;AACA,UAAIC,IAAI,GAAG,IAAIhM,IAAJ,CAAS8L,MAAM,CAACG,CAAhB,EAAmBH,MAAM,CAACI,CAA1B,EAA6BJ,MAAM,CAAC7J,KAApC,EAA2C6J,MAAM,CAACK,MAAlD,CAAX;;AACA,UAAI,KAAK5F,YAAT,EAAuB;AACnByF,QAAAA,IAAI,GAAG,IAAIhM,IAAJ,CAASgM,IAAI,CAACC,CAAL,GAASL,WAAW,GAAG,CAAhC,EAAmCI,IAAI,CAACE,CAAL,GAASN,WAAW,GAAG,CAA1D,EAA6DI,IAAI,CAAC/J,KAAL,GAAa2J,WAA1E,EAAuFI,IAAI,CAACG,MAAL,GAAcP,WAArG,CAAP;AACA,aAAKT,QAAL,CAAciB,UAAd,CAAyBJ,IAAzB;AACH;;AACD,WAAK1D,YAAL,CAAkBoC,YAAlB,CAA+B,IAA/B,EAAqC,KAAKnC,cAA1C,EAA0DuD,MAA1D;;AACA,UAAI,KAAKvF,YAAT,EAAuB;AACnB,aAAK4E,QAAL,CAAckB,aAAd;AACH;AACJ;;AACD,QAAI,CAAC,KAAKjE,MAAV,EAAkB;AACd,UAAI,CAAC,KAAKnD,UAAV,EAAsB;AAClB,aAAK5C,OAAL,CAAaiK,WAAb,CAAyB,KAAKC,SAA9B;AACH,OAFD,MAGK;AACD,YAAI,CAAC9K,UAAU,CAAC,KAAKwD,UAAL,CAAgBuH,WAAhB,CAA4B/I,EAA7B,CAAf,EAAiD;AAC7C,eAAKwB,UAAL,CAAgBwH,UAAhB,CAA2BH,WAA3B,CAAuC,KAAKC,SAA5C;AACH;AACJ;AACJ;AACJ,GAzBD;AA0BA;AACJ;AACA;;;AACIpK,EAAAA,KAAK,CAAChG,SAAN,CAAgB0O,2BAAhB,GAA8C,YAAY;AACtD,QAAIxI,OAAO,GAAGZ,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAAxB;;AACA,QAAI,CAACpB,OAAL,EAAc;AACV;AACH;;AACD,QAAI2J,IAAI,GAAG,KAAK3J,OAAL,CAAaqK,qBAAb,EAAX;AACA,QAAIC,OAAO,GAAGlL,UAAU,CAAC,KAAK6E,KAAN,CAAV,CAAuBoG,qBAAvB,EAAd;AACArK,IAAAA,OAAO,CAACuK,KAAR,CAAcC,IAAd,GAAqBC,IAAI,CAACC,GAAL,CAASJ,OAAO,CAACE,IAAR,GAAeb,IAAI,CAACa,IAA7B,EAAmC,CAAnC,IAAwC,IAA7D;AACAxK,IAAAA,OAAO,CAACuK,KAAR,CAAcI,GAAd,GAAoBF,IAAI,CAACC,GAAL,CAASJ,OAAO,CAACK,GAAR,GAAchB,IAAI,CAACgB,GAA5B,EAAiC,CAAjC,IAAsC,IAA1D;AACH,GATD;;AAUA7K,EAAAA,KAAK,CAAChG,SAAN,CAAgB8Q,wBAAhB,GAA2C,YAAY;AACnD,SAAKC,oBAAL,GAA4B,EAA5B;AACA,QAAIhJ,SAAS,GAAG,KAAK7B,OAAL,CAAaoB,EAA7B;;AACA,QAAI,KAAK4B,MAAL,CAAYzI,MAAhB,EAAwB;AACpB,WAAKuQ,cAAL,GAAuB,KAAK9H,MAAL,CAAY,CAAZ,EAAemE,IAAf,KAAwB,SAAxB,IAAqC,KAAKnE,MAAL,CAAY,CAAZ,EAAemE,IAAf,KAAwB,QAA9D,GAClB,KAAK/C,WAAL,CAAiB2E,WAAjB,CAA6B;AAAE3H,QAAAA,EAAE,EAAES,SAAS,GAAG;AAAlB,OAA7B,CADkB,GAElB,KAAKiH,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,QAAAA,EAAE,EAAES,SAAS,GAAG;AAAlB,OAA1B,CAFJ;AAGH;;AACD,QAAI,KAAKkJ,UAAL,CAAgBxQ,MAApB,EAA4B;AACxB,WAAKyQ,iBAAL,GAAyB,KAAKlC,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,QAAAA,EAAE,EAAES,SAAS,GAAG;AAAlB,OAA1B,CAAzB;AACH;;AACD,QAAI,KAAKoJ,aAAL,EAAJ,EAA0B;AACtB,WAAKC,iBAAL,GAAyB,KAAKpC,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,QAAAA,EAAE,EAAES,SAAS,GAAG;AAAlB,OAA1B,CAAzB;AACH;;AACD,SAAKsJ,iBAAL,GAAyB,KAAKrC,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,MAAAA,EAAE,EAAES,SAAS,GAAG;AAAlB,KAA1B,CAAzB;AACH,GAfD;;AAgBA/B,EAAAA,KAAK,CAAChG,SAAN,CAAgBmR,aAAhB,GAAgC,YAAY;AACxC,QAAIG,WAAJ;;AACA,SAAK,IAAI1J,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKtE,MAA3B,EAAmCtB,EAAE,GAAG4F,EAAE,CAAC/M,MAA3C,EAAmDmH,EAAE,EAArD,EAAyD;AACrD,UAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;AACA0J,MAAAA,WAAW,GAAGpI,MAAM,CAACqI,UAAP,CAAkB9Q,MAAlB,GAA2B,IAA3B,GAAkC,KAAhD;;AACA,UAAI6Q,WAAJ,EAAiB;AACb;AACH;AACJ;;AACD,WAAOA,WAAP;AACH,GAVD;;AAWAtL,EAAAA,KAAK,CAAChG,SAAN,CAAgBqO,oBAAhB,GAAuC,UAAUa,WAAV,EAAuB;AAC1D;AACA,SAAK4B,wBAAL;AACA,QAAI/I,SAAS,GAAG,KAAK7B,OAAL,CAAaoB,EAA7B;;AACA,QAAI,KAAKpB,OAAL,CAAasL,OAAb,KAAyB,GAA7B,EAAkC;AAC9B,UAAIC,UAAU,GAAG7O,aAAa,CAAC,KAAKqJ,MAAN,EAAclE,SAAS,GAAG,oBAA1B,CAAb,IACb,KAAK2J,aAAL,CAAmB,KAAnB,CADJ;AAEAD,MAAAA,UAAU,CAACnK,EAAX,GAAgBS,SAAS,GAAG,oBAA5B;AACA0J,MAAAA,UAAU,CAAChB,KAAX,CAAiBkB,OAAjB,GAA2B,oBAA3B;AACAtP,MAAAA,kBAAkB,CAAC,KAAD,EAAQ,KAAK6D,OAAb,EAAsBuL,UAAtB,EAAkC,KAAKxF,MAAvC,CAAlB;AACH,KAVyD,CAW1D;;;AACA,QAAI,KAAK7B,YAAT,EAAuB;AACnB,UAAIwH,UAAU,GAAG3H,QAAQ,CAAC4H,cAAT,CAAwB9J,SAAS,GAAG,oBAApC,CAAjB;AACA6J,MAAAA,UAAU,GAAG,CAACA,UAAD,GAAc,KAAKF,aAAL,CAAmB,KAAnB,EAA0B;AAAEpK,QAAAA,EAAE,EAAES,SAAS,GAAG,oBAAlB;AACjD+J,QAAAA,KAAK,EAAE;AAAE,mBAAS;AAAX;AAD0C,OAA1B,CAAd,GACwDF,UADrE;AAEA,UAAIG,GAAG,GAAG,KAAKzH,WAAL,CAAiB7H,SAAjB,CAA2B;AACjC6E,QAAAA,EAAE,EAAES,SAAS,GAAG,cADiB;AAEjCjC,QAAAA,KAAK,EAAE,KAAKkM,aAAL,CAAmBlM,KAFO;AAGjCkK,QAAAA,MAAM,EAAE,KAAKgC,aAAL,CAAmBhC;AAHM,OAA3B,CAAV;AAKA+B,MAAAA,GAAG,CAACtB,KAAJ,CAAUkB,OAAV,GAAoB,0CAApB;AACAC,MAAAA,UAAU,CAACzB,WAAX,CAAuB4B,GAAvB;AACH,KAvByD,CAwB1D;;;AACA,QAAI,KAAKhJ,OAAL,CAAawD,MAAjB,EAAyB;AACrBlK,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKpB,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,QAAAA,EAAE,EAAES,SAAS,GAAG,kBAAlB;AAAsC0I,QAAAA,KAAK,EAAE;AAA7C,OAA1B,CAApC,EAAsI,KAAKxE,MAA3I,CAAlB;AACH;;AACD,QAAI,KAAKrC,IAAL,CAAUnJ,MAAV,GAAmB,CAAnB,IAAwB,KAAKoJ,OAAL,CAAapJ,MAAb,GAAsB,CAAlD,EAAqD;AACjD,WAAKwR,mBAAL;AACA,WAAKC,mBAAL;AACA,WAAKC,YAAL,GAHiD,CAIjD;;AACA,UAAI,KAAKf,iBAAT,EAA4B;AACxB/O,QAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKgB,iBAAzC,EAA4D,KAAKnF,MAAjE,CAAlB;AACH;;AACD,WAAKmG,yBAAL,CAA+BlD,WAA/B;AACH;AACJ,GAtCD;AAuCA;AACJ;AACA;;;AACIlJ,EAAAA,KAAK,CAAChG,SAAN,CAAgBmS,YAAhB,GAA+B,YAAY;AACvC,QAAIE,UAAJ;;AACA,QAAI,KAAKjI,YAAT,EAAuB;AACnB;AACA,WAAK4E,QAAL,CAAciB,UAAd,CAAyB,KAAKd,oBAAL,CAA0BmD,cAAnD;AACH;;AACD,SAAK,IAAI1K,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,UAAI2K,IAAI,GAAG/E,EAAE,CAAC5F,EAAD,CAAb;;AACA,UAAI2K,IAAI,CAACC,QAAL,KAAkB,WAAtB,EAAmC;AAC/BH,QAAAA,UAAU,GAAG,KAAKnJ,MAAL,CAAYqJ,IAAI,CAACE,WAAjB,EAA8BlB,UAA9B,CAAyCgB,IAAI,CAACG,KAA9C,EAAqDhM,OAAlE;AACH,OAFD,MAGK;AACD2L,QAAAA,UAAU,GAAGE,IAAI,CAAC7L,OAAlB;AACH;;AACD,UAAI2L,UAAJ,EAAgB;AACZ,aAAK3L,OAAL;AACAzE,QAAAA,YAAY,CAACsQ,IAAD,CAAZ;;AACA,YAAI,KAAKnI,YAAT,EAAuB;AACnB;AACA,eAAKuI,kBAAL,CAAwBJ,IAAxB;AACH;;AACDA,QAAAA,IAAI,CAACJ,YAAL,CAAkB,IAAlB;AACH;AACJ;;AACD,QAAI,KAAK/H,YAAT,EAAuB;AACnB,WAAK4E,QAAL,CAAckB,aAAd;AACH;;AACD,SAAKxJ,OAAL,GAAe,CAAf;AACA,QAAIT,OAAO,GAAG;AACV,YAAM,KAAKC,OAAL,CAAaoB,EAAb,GAAkB,qBADd;AAEV,WAAK,KAAK6H,oBAAL,CAA0BmD,cAA1B,CAAyCxC,CAFpC;AAGV,WAAK,KAAKX,oBAAL,CAA0BmD,cAA1B,CAAyCvC,CAHpC;AAIV,eAAS,KAAKZ,oBAAL,CAA0BmD,cAA1B,CAAyCxM,KAJxC;AAKV,gBAAU,KAAKqJ,oBAAL,CAA0BmD,cAA1B,CAAyCtC,MALzC;AAMV,cAAQ,aANE;AAOV,sBAAgB,CAPN;AAQV,gBAAU;AARA,KAAd;;AAUA,QAAI,CAAC,KAAKgB,cAAV,EAA0B;AACtB;AACH;;AACD,QAAI,CAAC,KAAK5G,YAAV,EAAwB;AACpB,WAAK4G,cAAL,CAAoBb,WAApB,CAAgCrN,iBAAiB,CAAC,KAAKmJ,MAAN,EAAchG,OAAd,EAAuB,KAAK+I,QAA5B,CAAjD;AACH;;AACD,QAAI4D,SAAS,GAAG3I,QAAQ,CAAC4H,cAAT,CAAwB,KAAK3L,OAAL,CAAaoB,EAAb,GAAkB,aAA1C,CAAhB;;AACA,QAAIsL,SAAJ,EAAe;AACXvQ,MAAAA,kBAAkB,CAAC,KAAD,EAAQuQ,SAAR,EAAmB,KAAK5B,cAAxB,EAAwC,KAAK/E,MAA7C,CAAlB;AACH,KAFD,MAGK;AACD5J,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKY,cAAzC,EAAyD,KAAK/E,MAA9D,CAAlB;AACH;AACJ,GAnDD;;AAoDAjG,EAAAA,KAAK,CAAChG,SAAN,CAAgB2S,kBAAhB,GAAqC,UAAUJ,IAAV,EAAgB;AACjD,QAAIM,UAAJ;AACA,QAAIC,UAAJ;;AACA,QAAKP,IAAI,CAAClF,IAAL,KAAc,QAAd,IAA0BkF,IAAI,CAAClF,IAAL,KAAc,SAA7C,EAAyD;AACrDwF,MAAAA,UAAU,GAAG,CAACA,UAAD,GAAc,KAAKvI,WAAL,CAAiB7H,SAAjB,CAA2B;AAAE6E,QAAAA,EAAE,EAAE,KAAKpB,OAAL,CAAaoB,EAAb,GAAkB,aAAxB;AAClDxB,QAAAA,KAAK,EAAE,KAAKkM,aAAL,CAAmBlM,KADwB;AACjBkK,QAAAA,MAAM,EAAE,KAAKgC,aAAL,CAAmBhC;AADV,OAA3B,CAAd,GAC+D6C,UAD5E;AAEAC,MAAAA,UAAU,GAAG,CAACA,UAAD,GAAc,KAAKpB,aAAL,CAAmB,KAAnB,EAA0B;AAAEpK,QAAAA,EAAE,EAAE,KAAKpB,OAAL,CAAaoB,EAAb,GAAkB;AAAxB,OAA1B,CAAd,GAA+EwL,UAA5F;AACAA,MAAAA,UAAU,CAACrC,KAAX,CAAiBkB,OAAjB,GAA2B,oBAA3B;AACA,UAAIoB,WAAW,GAAG9I,QAAQ,CAAC4H,cAAT,CAAwB,KAAK3L,OAAL,CAAaoB,EAAb,GAAkB,oBAA1C,CAAlB;AACAwL,MAAAA,UAAU,CAAC3C,WAAX,CAAuB0C,UAAvB;AACAE,MAAAA,WAAW,CAAC5C,WAAZ,CAAwB2C,UAAxB;AACH;;AACDD,IAAAA,UAAU,GAAI,KAAKzI,YAAL,KAAsBmI,IAAI,CAAClF,IAAL,KAAc,QAAd,IAA0BkF,IAAI,CAAClF,IAAL,KAAc,SAA9D,CAAD,GACTwF,UADS,GACI,KAAKzC,SADtB,CAZiD,CAcjD;;AACA,QAAI4C,MAAM,GAAI,KAAK5I,YAAL,KAAsBmI,IAAI,CAAClF,IAAL,KAAc,QAAd,IAA0BkF,IAAI,CAAClF,IAAL,KAAc,SAA9D,CAAD,GACT,KADS,GACD,KAAKjD,YADjB;AAEH,GAjBD;;AAkBApE,EAAAA,KAAK,CAAChG,SAAN,CAAgBiS,mBAAhB,GAAsC,YAAY;AAC9C,SAAK,IAAIrK,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKyD,UAA3B,EAAuCrJ,EAAE,GAAG4F,EAAE,CAAC/M,MAA/C,EAAuDmH,EAAE,EAAzD,EAA6D;AACzD,UAAIqL,SAAS,GAAGzF,EAAE,CAAC5F,EAAD,CAAlB;;AACA,UAAI,KAAKlF,gBAAgB,CAACuQ,SAAS,CAAC5F,IAAX,CAAhB,GAAmC,iBAAxC,CAAJ,EAAgE;AAC5D,aAAK3K,gBAAgB,CAACuQ,SAAS,CAAC5F,IAAX,CAAhB,GAAmC,iBAAxC,EAA2D6F,uBAA3D,CAAmF,IAAnF,EAAyFD,SAAzF,EAAoGA,SAAS,CAACP,KAA9G;AACH;AACJ;;AACD,QAAI,KAAKxB,iBAAT,EAA4B;AACxB7O,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKc,iBAAzC,EAA4D,KAAKjF,MAAjE,CAAlB;AACH;AACJ,GAVD;;AAWAjG,EAAAA,KAAK,CAAChG,SAAN,CAAgBkS,mBAAhB,GAAsC,YAAY;AAC9C,SAAK,IAAItK,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,UAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;;AACA,UAAIsB,MAAM,CAACqI,UAAP,CAAkB9Q,MAAtB,EAA8B;AAC1B,aAAK0S,eAAL,CAAqBC,oBAArB,CAA0ClK,MAA1C,EAAkD,IAAlD;AACH;AACJ;AACJ,GAPD;;AAQAlD,EAAAA,KAAK,CAAChG,SAAN,CAAgBoS,yBAAhB,GAA4C,UAAUlD,WAAV,EAAuB;AAC/D,QAAI,KAAKrI,aAAL,KAAuB,YAA3B,EAAyC;AACrCxE,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKrB,aAAzC,EAAwD,KAAK9C,MAA7D,CAAlB;AACH;;AACD5J,IAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoClB,WAApC,EAAiD,KAAKjD,MAAtD,CAAlB;;AACA,QAAK,KAAKoH,UAAL,IAAmB,KAAKC,YAAL,CAAkBC,eAArC,IAAwD,KAAKC,aAAL,CAAmBC,iBAA5E,IACC,KAAKD,aAAL,IAAsB,KAAKA,aAAL,CAAmBC,iBAD9C,EACkE;AAC9DpR,MAAAA,kBAAkB,CAAC,KAAD,EAAQiD,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAAlB,EAA4D,KAAKkM,aAAjE,EAAgF,KAAKvH,MAArF,CAAlB;AACH;;AACD,QAAI,KAAKmD,eAAT,EAA0B;AACtB,WAAKA,eAAL,CAAqBC,eAArB,CAAqC,IAArC,EAA2C,MAA3C,EAAmD,KAAKC,eAAxD;AACH;;AACD,QAAI,CAAC,KAAKvG,OAAL,CAAawD,MAAlB,EAA0B;AACtBlK,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKpB,QAAL,CAAcC,WAAd,CAA0B;AAAE3H,QAAAA,EAAE,EAAE,KAAKpB,OAAL,CAAaoB,EAAb,GAAkB,kBAAxB;AAA4CmJ,QAAAA,KAAK,EAAE;AAAnD,OAA1B,CAApC,EAA4I,KAAKxE,MAAjJ,CAAlB;AACH;;AACD,QAAI,KAAKnD,UAAT,EAAqB;AACjB,WAAKA,UAAL,CAAgB4K,oBAAhB;AACH;AACJ,GAlBD;;AAmBA1N,EAAAA,KAAK,CAAChG,SAAN,CAAgBwO,YAAhB,GAA+B,YAAY;AACvC;AACR;AACA;AACA;AACQ,QAAI,KAAK3H,aAAL,KAAuB,YAA3B,EAAyC;AACrC;AACH;;AACD,QAAI,CAAC,KAAKoF,MAAN,IAAgB,KAAKoH,UAArB,KAAoC,CAAC,KAAKC,YAAL,CAAkBK,SAAnB,IAAgC,KAAKN,UAAL,CAAgBO,WAApF,CAAJ,EAAsG;AAClG,WAAKP,UAAL,CAAgBQ,gBAAhB,CAAiC,IAAjC,EAAuC,KAAKvE,eAA5C;AACH;AACJ,GAXD;AAYA;AACJ;AACA;AACA;AACA;;;AACItJ,EAAAA,KAAK,CAAChG,SAAN,CAAgB8O,gBAAhB,GAAmC,YAAY;AAC3C,QAAI,KAAKgF,gBAAT,EAA2B;AACvB;AACA,WAAKA,gBAAL,CAAsBC,iBAAtB,CAAwCzO,UAAU,CAAC,CAAC,KAAKwD,UAAL,GAAkB,KAAKA,UAAL,CAAgB5C,OAAhB,CAAwBoB,EAA1C,GAA+C,KAAKpB,OAAL,CAAaoB,EAA7D,IAAmE,oBAApE,CAAlD;AACH;AACJ,GALD;;AAMAtB,EAAAA,KAAK,CAAChG,SAAN,CAAgByO,gBAAhB,GAAmC,YAAY;AAC3C,QAAIuF,mBAAmB,GAAG,EAA1B;;AACA,QAAI,KAAKjG,eAAT,EAA0B;AACtBiG,MAAAA,mBAAmB,GAAGtS,MAAM,CAAC,EAAD,EAAK,KAAKqM,eAAL,CAAqBiG,mBAA1B,EAA+C,IAA/C,EAAqD,IAArD,CAA5B;AACA,WAAKjG,eAAL,CAAqBkG,eAArB,CAAqC,IAArC;AACH;;AACD,QAAI,KAAKC,eAAT,EAA0B;AACtB,WAAKA,eAAL,CAAqBC,eAArB,CAAqC,IAArC;AACH;;AACD,QAAIH,mBAAmB,CAACvT,MAApB,GAA6B,CAAjC,EAAoC;AAChC,WAAKsN,eAAL,CAAqBiG,mBAArB,GAA2CA,mBAA3C;AACA,WAAKjG,eAAL,CAAqBqG,eAArB,CAAqC,IAArC,EAA2C,KAAKtG,aAAhD;AACH;AACJ,GAbD;;AAcA9H,EAAAA,KAAK,CAAChG,SAAN,CAAgB0L,WAAhB,GAA8B,UAAUrB,MAAV,EAAkB;AAC5C,QAAIA,MAAM,KAAK,KAAK,CAApB,EAAuB;AAAEA,MAAAA,MAAM,GAAG,IAAT;AAAgB;;AACzC,SAAKgK,kBAAL,GAA0B,CAA1B;AACA,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAK,IAAI1M,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,UAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;;AACA,UAAI,CAACsB,MAAM,CAACxC,OAAR,IAAmB,CAAC,KAAK0F,cAAL,CAAoB1F,OAA5C,EAAqD;AACjD,aAAK2N,kBAAL;AACA;AACH;;AACD,UAAInL,MAAM,CAACsJ,QAAP,KAAoB,WAApB,IAAmCtJ,MAAM,CAACsJ,QAAP,KAAoB,WAA3D,EAAwE;AACpE,aAAK+B,oBAAL,CAA0BrL,MAA1B;AACH;AACJ;;AACD,SAAK,IAAIuE,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAKuD,UAA3B,EAAuCxD,EAAE,GAAGC,EAAE,CAACjN,MAA/C,EAAuDgN,EAAE,EAAzD,EAA6D;AACzD,UAAIwF,SAAS,GAAGvF,EAAE,CAACD,EAAD,CAAlB;;AACA,UAAIwF,SAAS,CAACuB,UAAd,EAA0B;AACtB,YAAIC,aAAa,GAAGxB,SAApB;AACA,aAAKsB,oBAAL,CAA0BE,aAA1B;AACAH,QAAAA,KAAK,GAAG,KAAR;AACH;AACJ;;AACD,QAAIjK,MAAM,KAAK,CAAC,KAAKiC,aAAL,CAAmB7L,MAApB,IAA8B,KAAK4T,kBAAL,KAA4B,KAAK/H,aAAL,CAAmB7L,MAA/C,IAAyD6T,KAA5F,CAAV,EAA8G;AAC1G,WAAKpI,YAAL;AACA,WAAKtB,OAAL,CAAa,QAAb,EAAuB;AAAEJ,QAAAA,KAAK,EAAE,KAAKhC,QAAL,GAAgB,EAAhB,GAAqB;AAA9B,OAAvB;AACH;AACJ,GA1BD;;AA2BAxC,EAAAA,KAAK,CAAChG,SAAN,CAAgBuU,oBAAhB,GAAuC,UAAUrL,MAAV,EAAkB;AACrDA,IAAAA,MAAM,CAACwL,KAAP,GAAe,EAAf;AACAxL,IAAAA,MAAM,CAACyL,KAAP,GAAe,EAAf;AACA,QAAIH,UAAJ;AACA,QAAII,SAAS,GAAG,WAAhB;;AACA,QAAI,KAAKA,SAAL,CAAJ,EAAqB;AACjBJ,MAAAA,UAAU,GAAGhV,MAAM,CAACkI,IAAP,CAAYwB,MAAM,CAACsL,UAAnB,EAA+B/T,MAA/B,GAAwCyI,MAAM,CAACsL,UAA/C,GAA4D,KAAKA,UAA9E;AACH,KAFD,MAGK;AACDA,MAAAA,UAAU,GAAGtL,MAAM,CAACsL,UAAP,IAAqB,KAAKA,UAAvC;AACH;;AACDtL,IAAAA,MAAM,CAAC2L,UAAP,GAAoB,IAAIzQ,IAAJ,CAASoQ,UAAT,EAAqBtL,MAAM,CAAC4L,KAA5B,CAApB;AACA5L,IAAAA,MAAM,CAACyE,MAAP,GAAgB,EAAhB;AACAzE,IAAAA,MAAM,CAAC6L,kBAAP,CAA0B,IAA1B;AACH,GAdD;;AAeA/O,EAAAA,KAAK,CAAChG,SAAN,CAAgByM,eAAhB,GAAkC,YAAY;AAC1C,QAAIuI,MAAM,GAAG,KAAKA,MAAlB,CAD0C,CAE1C;;AACA,QAAIC,WAAW,GAAG,CAAlB;AACA,QAAIC,cAAc,GAAG,CAArB;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,OAAO,GAAG,EAAd;AACA,QAAI1E,IAAI,GAAGsE,MAAM,CAACtE,IAAlB;AACA,QAAI5K,KAAK,GAAG,KAAKkM,aAAL,CAAmBlM,KAAnB,GAA2B4K,IAA3B,GAAkCsE,MAAM,CAACK,KAAzC,GAAiD,KAAK3F,MAAL,CAAY5J,KAAzE;AACA,SAAKwP,eAAL,GAAuB,EAAvB;AACA,SAAKC,kBAAL,GAA0B,EAA1B;;AACA,QAAI,KAAKC,KAAT,EAAgB;AACZ,WAAKF,eAAL,GAAuB/P,QAAQ,CAAC,KAAKiQ,KAAN,EAAa,KAAKC,UAAlB,EAA8B3P,KAA9B,CAA/B;AACAmP,MAAAA,WAAW,GAAInR,WAAW,CAAC,KAAK0R,KAAN,EAAa,KAAKC,UAAlB,CAAX,CAAyCzF,MAAzC,GAAkD,KAAKsF,eAAL,CAAqB7U,MAAxE,GAAkF2U,OAAhG;;AACA,UAAI,KAAKM,QAAT,EAAmB;AACf,YAAIC,QAAQ,GAAG,CAAf;;AACA,aAAK,IAAI/N,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAK8H,eAA3B,EAA4C1N,EAAE,GAAG4F,EAAE,CAAC/M,MAApD,EAA4DmH,EAAE,EAA9D,EAAkE;AAC9D,cAAIgO,SAAS,GAAGpI,EAAE,CAAC5F,EAAD,CAAlB;AACAuN,UAAAA,UAAU,GAAGrR,WAAW,CAAC8R,SAAD,EAAY,KAAKH,UAAjB,CAAX,CAAwC3P,KAArD;AACA6P,UAAAA,QAAQ,GAAGR,UAAU,GAAGQ,QAAb,GAAwBR,UAAxB,GAAqCQ,QAAhD;AACH;;AACD,aAAKJ,kBAAL,GAA0BhQ,QAAQ,CAAC,KAAKmQ,QAAN,EAAgB,KAAKG,aAArB,EAAoCF,QAApC,CAAlC;AACAT,QAAAA,cAAc,GAAIpR,WAAW,CAAC,KAAK4R,QAAN,EAAgB,KAAKG,aAArB,CAAX,CAA+C7F,MAA/C,GAAwD,KAAKuF,kBAAL,CAAwB9U,MAAjF,GACb2U,OADJ;AAEH;AACJ;;AACD,QAAIvE,GAAG,GAAGmE,MAAM,CAACnE,GAAP,GAAaqE,cAAb,GAA8BD,WAA9B,GAA4C,KAAKa,SAAL,CAAepG,MAAf,CAAsB5J,KAAtB,GAA8B,GAApF;AACA,QAAIkK,MAAM,GAAG,KAAKgC,aAAL,CAAmBhC,MAAnB,GAA4Ba,GAA5B,GAAkC,KAAKnB,MAAL,CAAY5J,KAA9C,GAAsDkP,MAAM,CAACe,MAA1E;;AACA,QAAI,KAAKjN,UAAL,IAAmB,KAAKA,UAAL,CAAgBsD,cAAhB,CAA+B1F,OAAlD,IAA6D,KAAKoC,UAAL,CAAgBkN,iBAAjF,EAAoG;AAChG,UAAI,KAAKlN,UAAL,CAAgBsD,cAAhB,CAA+Bc,QAA/B,KAA4C,KAAhD,EAAuD;AACnD2D,QAAAA,GAAG,IAAI,KAAK/H,UAAL,CAAgBkN,iBAAhB,CAAkCpG,YAAlC,CAA+CI,MAAtD;AACH,OAFD,MAGK,IAAI,KAAKlH,UAAL,CAAgBsD,cAAhB,CAA+Bc,QAA/B,KAA4C,MAAhD,EAAwD;AACzDwD,QAAAA,IAAI,IAAI,KAAK5H,UAAL,CAAgBkN,iBAAhB,CAAkCpG,YAAlC,CAA+C9J,KAAvD;AACH;AACJ;;AACD,SAAKmQ,eAAL,GAAuB,IAAIpS,IAAJ,CAAS6M,IAAT,EAAeG,GAAf,EAAoB/K,KAApB,EAA2BkK,MAA3B,CAAvB;;AACA,QAAI,KAAK7D,YAAL,IAAqB,KAAKC,cAAL,CAAoB1F,OAA7C,EAAsD;AAClD,WAAKyF,YAAL,CAAkB+J,qBAAlB,CAAwC,KAAKD,eAA7C,EAA8D,KAAKjE,aAAnE,EAAkF,IAAlF;AACH;;AACD,SAAK7C,oBAAL,CAA0BgH,WAA1B,CAAsC,KAAKF,eAA3C;AACH,GAzCD;AA0CA;AACJ;AACA;;;AACIjQ,EAAAA,KAAK,CAAChG,SAAN,CAAgBoW,KAAhB,GAAwB,UAAU9O,EAAV,EAAc;AAClC,QAAI+O,WAAW,GAAG,IAAI7Q,WAAJ,CAAgB,IAAhB,CAAlB;AACA6Q,IAAAA,WAAW,CAACD,KAAZ,CAAkB9O,EAAlB;AACH,GAHD;AAIA;AACJ;AACA;;;AACItB,EAAAA,KAAK,CAAChG,SAAN,CAAgBwL,cAAhB,GAAiC,YAAY;AACzC,SAAK7D,mBAAL,GAA2B,IAA3B;;AACA,SAAK,IAAIC,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,UAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;AACA,UAAI0O,UAAU,GAAG,CAAjB;;AACA,WAAK,IAAI7I,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGxE,MAAM,CAACqI,UAA7B,EAAyC9D,EAAE,GAAGC,EAAE,CAACjN,MAAjD,EAAyDgN,EAAE,EAA3D,EAA+D;AAC3D,YAAI8I,SAAS,GAAG7I,EAAE,CAACD,EAAD,CAAlB;AACA,YAAI+I,SAAS,GAAGD,SAAhB;;AACA,YAAI,KAAKpD,eAAT,EAA0B;AACtBqD,UAAAA,SAAS,CAAC9D,KAAV,GAAkB4D,UAAlB;AACAE,UAAAA,SAAS,CAAC/D,WAAV,GAAwBvJ,MAAM,CAACwJ,KAA/B;AACA,eAAKS,eAAL,CAAqBsD,oBAArB,CAA0CD,SAA1C,EAAqD,IAArD;;AACA,cAAIA,SAAS,CAACE,YAAd,EAA4B;AACxBF,YAAAA,SAAS,CAACE,YAAV,CAAuBC,SAAvB,GAAmCzN,MAAM,CAACyN,SAA1C;AACAH,YAAAA,SAAS,CAACE,YAAV,CAAuBE,SAAvB,GAAmC1N,MAAM,CAAC0N,SAA1C;AACA,iBAAKtK,aAAL,CAAmBuK,IAAnB,CAAwBL,SAAS,CAACE,YAAlC;AACH;AACJ;;AACDJ,QAAAA,UAAU;AACb;AACJ;;AACD,SAAK3O,mBAAL,GAA2B,KAA3B;AACH,GAtBD;;AAuBA3B,EAAAA,KAAK,CAAChG,SAAN,CAAgBqL,iBAAhB,GAAoC,YAAY;AAC5C,QAAInC,MAAM,GAAG,KAAKA,MAAL,CAAY,CAAZ,CAAb;AACA,SAAK4M,SAAL,CAAepG,MAAf,CAAsB5J,KAAtB,GAA8B,KAAKgD,UAAL,GAAkB,CAAlB,GAAsB,KAAKgN,SAAL,CAAepG,MAAf,CAAsB5J,KAA1E;;AACA,QAAIoD,MAAJ,EAAY;AACR,WAAK4N,mBAAL,GAA6B5N,MAAM,CAACmE,IAAP,CAAYhF,OAAZ,CAAoB,KAApB,MAA+B,CAAC,CAAjC,IAAuC,CAAC,KAAK0O,YAA9C,IACrB7N,MAAM,CAACmE,IAAP,CAAYhF,OAAZ,CAAoB,KAApB,MAA+B,CAAC,CAAjC,IAAuC,KAAK0O,YAA5C,IAA4D,KAAKlQ,aAAL,KAAuB,YADxF;AAEH;;AACD,SAAKsI,oBAAL,GAA4B,KAAKtI,aAAL,KAAuB,YAAvB,GAAuC,KAAKmQ,iBAAL,IAA0B,KAAKC,iBAAtE,GACtB,IAAIrT,wBAAJ,CAA6B,IAA7B,CADN;AAEH,GATD;AAUA;AACJ;AACA;AACA;AACA;;;AACIoC,EAAAA,KAAK,CAAChG,SAAN,CAAgByL,oBAAhB,GAAuC,YAAY;AAC/C,QAAIyL,IAAJ;AACA,QAAIC,IAAI,GAAG,CAAC,KAAKC,YAAN,EAAoB,KAAKC,YAAzB,CAAX;AACAF,IAAAA,IAAI,GAAG,KAAKtQ,aAAL,KAAuB,WAAvB,GAAqCsQ,IAAI,CAACG,MAAL,CAAY,KAAKH,IAAjB,CAArC,GAA8DA,IAArE;;AACA,QAAI,KAAKI,kBAAL,IAA2B,KAAKrO,MAAL,CAAY,CAAZ,EAAemE,IAAf,KAAwB,QAAvD,EAAiE;AAC7D8J,MAAAA,IAAI,GAAGA,IAAI,CAACG,MAAL,CAAY,KAAKC,kBAAL,CAAwBC,UAApC,CAAP;AACH;;AACD,SAAKlI,eAAL,GAAuB,EAAvB;;AACA,QAAI,KAAK+D,UAAT,EAAqB;AACjB,WAAKA,UAAL,CAAgBoE,SAAhB,GAA4B,KAAKpE,UAAL,CAAgBqE,YAAhB,CAA6BP,IAA7B,KAAsC,KAAK7D,YAAL,CAAkBK,SAApF;AACA,WAAKvD,SAAL,CAAe/G,YAAf,CAA4B,QAA5B,EAAsC,KAAKgK,UAAL,CAAgBoE,SAAhB,GAA4B,SAA5B,GAAwC,MAA9E;;AACA,UAAI,KAAKE,eAAT,EAA0B;AACtB,aAAKA,eAAL,CAAqBR,IAArB,GAA4BA,IAA5B;AACH;AACJ;;AACD,QAAI,KAAKS,oBAAT,EAA+B;AAC3B,UAAI,KAAKD,eAAT,EAA0B;AACtB,aAAKA,eAAL,CAAqBR,IAArB,GAA4BA,IAA5B;AACH;AACJ;;AACD,SAAK,IAAIrW,CAAC,GAAG,CAAR,EAAWmM,GAAG,GAAGkK,IAAI,CAAC1W,MAA3B,EAAmCK,CAAC,GAAGmM,GAAvC,EAA4CnM,CAAC,EAA7C,EAAiD;AAC7CoW,MAAAA,IAAI,GAAGC,IAAI,CAACrW,CAAD,CAAX;AACAoW,MAAAA,IAAI,CAAChO,MAAL,GAAc,EAAd;AACAgO,MAAAA,IAAI,CAACW,MAAL,GAAc,EAAd;AACAX,MAAAA,IAAI,CAACY,WAAL,GAAmB,EAAnB;;AACA,WAAK,IAAIlQ,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKlB,aAA3B,EAA0C1E,EAAE,GAAG4F,EAAE,CAAC/M,MAAlD,EAA0DmH,EAAE,EAA5D,EAAgE;AAC5D,YAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;AACA,aAAKmQ,QAAL,CAAc7O,MAAd,EAAsBgO,IAAtB,EAA4B,IAA5B;AACH;;AACD,WAAK,IAAIzJ,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAKuD,UAA3B,EAAuCxD,EAAE,GAAGC,EAAE,CAACjN,MAA/C,EAAuDgN,EAAE,EAAzD,EAA6D;AACzD,YAAIwF,SAAS,GAAGvF,EAAE,CAACD,EAAD,CAAlB;AACA,aAAKsK,QAAL,CAAc9E,SAAd,EAAyBiE,IAAzB,EAA+B,KAA/B;AACH;;AACD,UAAI,KAAKS,eAAL,IAAwB,CAACT,IAAI,CAACc,gBAAlC,EAAoD;AAChD,aAAKL,eAAL,CAAqBM,QAArB,CAA8Bf,IAA9B,EAAoC,IAApC;AACH;;AACD,UAAIA,IAAI,CAACgB,WAAL,IAAoB,IAAxB,EAA8B;AAC1B,aAAK5I,eAAL,CAAqBuH,IAArB,CAA0BK,IAA1B;AACH;AACJ;;AACD,QAAI,KAAKtN,IAAL,CAAUnJ,MAAV,GAAmB,CAAnB,IAAwB,KAAKoJ,OAAL,CAAapJ,MAAb,GAAsB,CAAlD,EAAqD;AACjD,WAAK0O,oBAAL,CAA0BgJ,OAA1B;AACH;AACJ,GA3CD;;AA4CAnS,EAAAA,KAAK,CAAChG,SAAN,CAAgB+X,QAAhB,GAA2B,UAAU7O,MAAV,EAAkBgO,IAAlB,EAAwBkB,QAAxB,EAAkC;AACzD,QAAIlP,MAAM,CAACyN,SAAP,KAAqBO,IAAI,CAACxM,IAA1B,IAAmCxB,MAAM,CAACyN,SAAP,IAAoB,IAApB,IAA4BO,IAAI,CAACxM,IAAL,KAAc,cAAjF,EAAkG;AAC9FwM,MAAAA,IAAI,CAACgB,WAAL,GAAmB,KAAKpB,mBAAL,GAA2B,UAA3B,GAAwC,YAA3D;AACA5N,MAAAA,MAAM,CAACmP,KAAP,GAAenB,IAAf;;AACA,UAAIkB,QAAJ,EAAc;AACVlB,QAAAA,IAAI,CAAChO,MAAL,CAAY2N,IAAZ,CAAiB3N,MAAjB;AACH;AACJ,KAND,MAOK,IAAIA,MAAM,CAAC0N,SAAP,KAAqBM,IAAI,CAACxM,IAA1B,IAAmCxB,MAAM,CAAC0N,SAAP,IAAoB,IAApB,IAA4BM,IAAI,CAACxM,IAAL,KAAc,cAAjF,EAAkG;AACnGwM,MAAAA,IAAI,CAACgB,WAAL,GAAmB,KAAKpB,mBAAL,GAA2B,YAA3B,GAA0C,UAA7D;AACA5N,MAAAA,MAAM,CAACoP,KAAP,GAAepB,IAAf;;AACA,UAAIkB,QAAJ,EAAc;AACVlB,QAAAA,IAAI,CAAChO,MAAL,CAAY2N,IAAZ,CAAiB3N,MAAjB;AACH;AACJ;AACJ,GAfD;;AAgBAlD,EAAAA,KAAK,CAAChG,SAAN,CAAgBuL,uBAAhB,GAA0C,YAAY;AAClD,QAAIzK,CAAC,GAAG,CAAR;;AACA,SAAK,IAAI8G,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKyD,UAA3B,EAAuCrJ,EAAE,GAAG4F,EAAE,CAAC/M,MAA/C,EAAuDmH,EAAE,EAAzD,EAA6D;AACzD,UAAIqL,SAAS,GAAGzF,EAAE,CAAC5F,EAAD,CAAlB;AACA,UAAI6M,aAAa,GAAGxB,SAApB;AACA,UAAI5F,IAAI,GAAG3K,gBAAgB,CAAC+R,aAAa,CAACpH,IAAf,CAA3B;;AACA,UAAI,KAAKA,IAAI,GAAG,iBAAZ,CAAJ,EAAoC;AAChCoH,QAAAA,aAAa,CAAC/B,KAAd,GAAsB5R,CAAtB;AACA,aAAKuM,IAAI,GAAG,iBAAZ,EAA+BoJ,oBAA/B,CAAoDhC,aAApD,EAAmE,IAAnE;;AACA,aAAK,IAAIhH,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG+G,aAAa,CAACiC,YAApC,EAAkDjJ,EAAE,GAAGC,EAAE,CAACjN,MAA1D,EAAkEgN,EAAE,EAApE,EAAwE;AACpE,cAAIiJ,YAAY,GAAGhJ,EAAE,CAACD,EAAD,CAArB;;AACA,cAAIwF,SAAS,CAACsF,UAAV,IAAwBtF,SAAS,CAACuB,UAAtC,EAAkD;AAC9C,iBAAKlI,aAAL,CAAmBuK,IAAnB,CAAwBH,YAAxB;AACH;AACJ;AACJ;;AACD5V,MAAAA,CAAC;AACJ;AACJ,GAlBD;AAmBA;;;AACAkF,EAAAA,KAAK,CAAChG,SAAN,CAAgBwY,yBAAhB,GAA4C,UAAUtP,MAAV,EAAkB;AAC1D,QAAI,KAAK+H,UAAL,CAAgBxQ,MAApB,EAA4B;AACxB,UAAIgY,eAAe,GAAG,IAAtB;;AACA,UAAIvP,MAAM,YAAY/E,MAAlB,IAA4B+E,MAAM,CAACsJ,QAAP,KAAoB,WAApD,EAAiE;AAC7D,aAAK,IAAI5K,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKyD,UAA3B,EAAuCrJ,EAAE,GAAG4F,EAAE,CAAC/M,MAA/C,EAAuDmH,EAAE,EAAzD,EAA6D;AACzD,cAAIqL,SAAS,GAAGzF,EAAE,CAAC5F,EAAD,CAAlB;;AACA,cAAIqL,SAAS,CAACsF,UAAV,KAAyBrP,MAAM,CAACwB,IAAhC,IAAwC,CAACuI,SAAS,CAACuB,UAAvD,EAAmE;AAC/DiE,YAAAA,eAAe,GAAGxF,SAAlB;AACAwF,YAAAA,eAAe,CAACC,aAAhB,CAA8BxP,MAA9B,EAAsC,IAAtC;AACH;AACJ;AACJ,OARD,MASK,IAAIA,MAAM,YAAY3E,kBAAtB,EAA0C;AAC3CkU,QAAAA,eAAe,GAAGvP,MAAlB;AACAuP,QAAAA,eAAe,CAACC,aAAhB,CAA8BxP,MAAM,YAAY/E,MAAlB,GAA2B+E,MAA3B,GAAoC,IAAlE,EAAwE,IAAxE;AACH;AACJ;AACJ,GAjBD;;AAkBAlD,EAAAA,KAAK,CAAChG,SAAN,CAAgBsL,sBAAhB,GAAyC,YAAY;AACjD,QAAIpC,MAAJ;AACA,SAAKoD,aAAL,GAAqB,EAArB;AACA,QAAIqM,MAAM,GAAG,KAAKC,QAAL,CAAcnY,MAAd,GAAuB,KAAKmY,QAA5B,GAAuC5V,cAAc,CAAC,KAAKyH,KAAN,CAAlE;AACA,QAAIoO,KAAK,GAAGF,MAAM,CAAClY,MAAnB;AACA,QAAIqY,gBAAgB,GAAG,KAAK5P,MAAL,CAAY6P,IAAZ,CAAiB,UAAUC,CAAV,EAAazZ,CAAb,EAAgB;AAAE,aAAOyZ,CAAC,CAACC,MAAF,GAAW1Z,CAAC,CAAC0Z,MAApB;AAA6B,KAAhE,CAAvB;;AACA,SAAK,IAAInY,CAAC,GAAG,CAAR,EAAWmM,GAAG,GAAG6L,gBAAgB,CAACrY,MAAvC,EAA+CK,CAAC,GAAGmM,GAAnD,EAAwDnM,CAAC,EAAzD,EAA6D;AACzDoI,MAAAA,MAAM,GAAG4P,gBAAgB,CAAChY,CAAD,CAAzB,CADyD,CAEzD;;AACAoI,MAAAA,MAAM,CAACsJ,QAAP,GAAkBsG,gBAAgB,CAAC,CAAD,CAAhB,CAAoBzL,IAApB,KAA6B,QAA7B,GAAwC,QAAxC,GAAmD,QAArE;AACAnE,MAAAA,MAAM,CAACwJ,KAAP,GAAe5R,CAAf;AACAoI,MAAAA,MAAM,CAACgQ,QAAP,GAAkBhQ,MAAM,CAACiQ,IAAP,IAAeR,MAAM,CAAC7X,CAAC,GAAG+X,KAAL,CAAvC;;AACA,cAAQ3P,MAAM,CAACmE,IAAf;AACI,aAAK,KAAL;AACA,aAAK,aAAL;AACA,aAAK,gBAAL;AACI,cAAIyL,gBAAgB,CAAC,CAAD,CAAhB,CAAoBzL,IAApB,CAAyBhF,OAAzB,CAAiC,KAAjC,MAA4C,CAAC,CAAjD,EAAoD;AAChD;AACH;;AACD;;AACJ,aAAK,OAAL;AACA,aAAK,OAAL;AACI,cAAI,KAAKxB,aAAL,KAAuB,YAA3B,EAAyC;AACrC;AACH;;AACD,cAAI,KAAKA,aAAL,KAAuB,YAAvB,KAAyCqC,MAAM,CAACyN,SAAP,KAAqB,IAArB,IAA6BzN,MAAM,CAAC0N,SAAP,KAAqB,IAAnD,IACvC1N,MAAM,CAACyN,SAAP,KAAqB,IAArB,IAA6BzN,MAAM,CAAC0N,SAAP,KAAqB,IADX,IAEvC1N,MAAM,CAACyN,SAAP,KAAqB,IAArB,IAA6BzN,MAAM,CAAC0N,SAAP,KAAqB,IAFnD,CAAJ,EAE+D;AAC3D;AACH;;AACD;;AACJ,aAAK,QAAL;AACI,eAAKtK,aAAL,CAAmBuK,IAAnB,CAAwB3N,MAAxB;AACA,eAAKqO,kBAAL,CAAwB6B,UAAxB,CAAmClQ,MAAnC,EAA2C,IAA3C;AACA;;AACJ;AACI,cAAI,KAAKrC,aAAL,KAAuB,YAAvB,IAAuCiS,gBAAgB,CAAC,CAAD,CAAhB,CAAoBzL,IAApB,CAAyBhF,OAAzB,CAAiC,KAAjC,IAA0C,CAAC,CAAtF,EAAyF;AACrF;AACH;;AACD;AA3BR;;AA6BA,WAAKiE,aAAL,CAAmBuK,IAAnB,CAAwB3N,MAAxB;AACA4P,MAAAA,gBAAgB,CAAChY,CAAD,CAAhB,GAAsBoI,MAAtB;AACH;AACJ,GA5CD;;AA6CAlD,EAAAA,KAAK,CAAChG,SAAN,CAAgBmO,WAAhB,GAA8B,YAAY;AACtC,QAAI0B,IAAJ;AACA,QAAImF,MAAM,GAAG,KAAKA,MAAlB;;AACA,QAAI,KAAKQ,KAAT,EAAgB;AACZ,UAAI6D,SAAS,GAAGxW,aAAa,CAAC,KAAK4S,UAAL,CAAgB6D,aAAjB,EAAgC,KAAKhQ,SAArC,CAA7B;AACA,UAAIiQ,WAAW,GAAGzV,WAAW,CAAC,KAAK0R,KAAN,EAAa,KAAKC,UAAlB,CAA7B;AACA5F,MAAAA,IAAI,GAAG,IAAIhM,IAAJ,CAASmR,MAAM,CAACtE,IAAhB,EAAsB,CAAtB,EAAyB,KAAKsB,aAAL,CAAmBlM,KAAnB,GAA2BkP,MAAM,CAACtE,IAAlC,GAAyCsE,MAAM,CAACK,KAAzE,EAAgF,CAAhF,CAAP;AACA,UAAIpP,OAAO,GAAG,IAAIlC,UAAJ,CAAe,KAAKmC,OAAL,CAAaoB,EAAb,GAAkB,aAAjC,EAAgD3E,cAAc,CAACkN,IAAD,EAAO,KAAK4F,UAAZ,CAA9D,EAAuF,KAAKT,MAAL,CAAYnE,GAAZ,GAAoB0I,WAAW,CAACvJ,MAAb,GAAuB,CAAvB,GAA2B,CAArI,EAAyIqJ,SAAzI,EAAoJ,KAAK/D,eAAzJ,EAA0K,EAA1K,EAA8K,MAA9K,CAAd;AACA,UAAIpP,OAAO,GAAGtD,aAAa,CAAC,KAAKqJ,MAAN,EAAc,KAAK/F,OAAL,CAAaoB,EAAb,GAAkB,aAAhC,EAA+CrB,OAA/C,EAAwD,KAAK+I,QAA7D,CAAb,IACVzM,WAAW,CAAC,KAAKyM,QAAN,EAAgB/I,OAAhB,EAAyB,KAAKwP,UAA9B,EAA0C,KAAKA,UAAL,CAAgB5P,KAAhB,IAAyB,KAAK2T,UAAL,CAAgBC,UAAnF,EAA+F,KAAKrJ,SAApG,EAA+G,IAA/G,EAAqH,IAArH,EAA2H,IAA3H,EAAiI,IAAjI,EAAuI,IAAvI,EAA6I,IAA7I,EAAmJ,IAAnJ,EAAyJ,IAAzJ,EAA+J,KAAKhG,YAApK,CADf;;AAEA,UAAIlE,OAAJ,EAAa;AACTA,QAAAA,OAAO,CAACmD,YAAR,CAAqB,YAArB,EAAmC,KAAKqQ,WAAL,IAAoB,KAAKlE,KAA5D;AACAtP,QAAAA,OAAO,CAACmD,YAAR,CAAqB,UAArB,EAAiC,KAAKsQ,QAAL,CAAcC,QAAd,EAAjC;AACH;;AACD,UAAI,KAAKlE,QAAT,EAAmB;AACf,aAAKmE,cAAL,CAAoB5T,OAApB;AACH;AACJ;AACJ,GAlBD;;AAmBAD,EAAAA,KAAK,CAAChG,SAAN,CAAgB6Z,cAAhB,GAAiC,UAAU5T,OAAV,EAAmB;AAChD,QAAI0P,QAAQ,GAAG,CAAf;AACA,QAAIR,UAAU,GAAG,CAAjB;AACA,QAAIC,OAAO,GAAG,EAAd;AACA,QAAI0E,SAAS,GAAG,KAAKrE,UAAL,CAAgB6D,aAAhC;;AACA,SAAK,IAAI1R,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAK8H,eAA3B,EAA4C1N,EAAE,GAAG4F,EAAE,CAAC/M,MAApD,EAA4DmH,EAAE,EAA9D,EAAkE;AAC9D,UAAIgO,SAAS,GAAGpI,EAAE,CAAC5F,EAAD,CAAlB;AACAuN,MAAAA,UAAU,GAAGrR,WAAW,CAAC8R,SAAD,EAAY,KAAKH,UAAjB,CAAX,CAAwC3P,KAArD;AACA6P,MAAAA,QAAQ,GAAGR,UAAU,GAAGQ,QAAb,GAAwBR,UAAxB,GAAqCQ,QAAhD;AACH;;AACD,QAAIoE,mBAAmB,GAAGjW,WAAW,CAAC,KAAK4R,QAAN,EAAgB,KAAKG,aAArB,CAArC;AACA,QAAIhG,IAAI,GAAG,IAAIhM,IAAJ,CAASiW,SAAS,KAAK,QAAd,GAA0B7T,OAAO,CAAC6J,CAAR,GAAY6F,QAAQ,GAAG,GAAjD,GAAwDmE,SAAS,KAAK,KAAd,GAAsB7T,OAAO,CAAC6J,CAAR,GAAY6F,QAAlC,GAA6C1P,OAAO,CAAC6J,CAAtH,EAAyH,CAAzH,EAA4H6F,QAA5H,EAAsI,CAAtI,CAAX;AACA,QAAIqE,eAAe,GAAG,IAAIjW,UAAJ,CAAe,KAAKmC,OAAL,CAAaoB,EAAb,GAAkB,gBAAjC,EAAmD3E,cAAc,CAACkN,IAAD,EAAO,KAAKgG,aAAZ,CAAjE,EAA6F5P,OAAO,CAAC8J,CAAR,GAAY9J,OAAO,CAACgU,IAAR,CAAaxZ,MAAzB,GAAoCsZ,mBAAmB,CAAC/J,MAArB,GAA+B,CAA/B,GAAmC,CAAtE,GAA2EoF,OAAxK,EAAiLvS,aAAa,CAAC,KAAKgT,aAAL,CAAmByD,aAApB,EAAmC,KAAKhQ,SAAxC,CAA9L,EAAkP,KAAKiM,kBAAvP,EAA2Q,EAA3Q,EAA+Q,MAA/Q,CAAtB;AACA,QAAIrP,OAAO,GAAGtD,aAAa,CAAC,KAAKqJ,MAAN,EAAc,KAAK/F,OAAL,CAAaoB,EAAb,GAAkB,gBAAhC,EAAkD0S,eAAlD,EAAmE,KAAKhL,QAAxE,CAAb,IACVzM,WAAW,CAAC,KAAKyM,QAAN,EAAgBgL,eAAhB,EAAiC,KAAKnE,aAAtC,EAAqD,KAAKA,aAAL,CAAmBhQ,KAAnB,IAA4B,KAAK2T,UAAL,CAAgBC,UAAjG,EAA6G,KAAKrJ,SAAlH,EAA6H,IAA7H,EAAmI,IAAnI,EAAyI,IAAzI,EAA+I,IAA/I,EAAqJ,IAArJ,EAA2J,IAA3J,EAAiK,IAAjK,EAAuK,IAAvK,EAA6K,KAAKhG,YAAlL,CADf;;AAEA,QAAIlE,OAAJ,EAAa;AACTA,MAAAA,OAAO,CAACmD,YAAR,CAAqB,YAArB,EAAmC,KAAKqQ,WAAL,IAAoB,KAAKhE,QAA5D;AACAxP,MAAAA,OAAO,CAACmD,YAAR,CAAqB,UAArB,EAAiC,KAAKsQ,QAAL,CAAcC,QAAd,EAAjC;AACH;AACJ,GAnBD;;AAoBA5T,EAAAA,KAAK,CAAChG,SAAN,CAAgBkO,YAAhB,GAA+B,YAAY;AACvC,QAAI4B,CAAC,GAAG,CAAR;AACA,QAAIC,CAAC,GAAG,CAAR;AACA,QAAIjK,KAAK,GAAG,KAAK4J,MAAL,CAAY5J,KAAxB;AACA,QAAIoU,eAAe,GAAG,KAAKC,eAA3B;AACA,QAAIC,SAAS,GAAGF,eAAe,GAAG,aAAH,GAAoB,KAAKG,UAAL,IAAmB,KAAKb,UAAL,CAAgBa,UAAtF;;AACA,QAAI,KAAKvR,UAAL,IAAmB,KAAKA,UAAL,CAAgBsD,cAAhB,CAA+B1F,OAAlD,IAA6D,KAAKoC,UAAL,CAAgBkN,iBAAjF,EAAoG;AAChG,UAAI,KAAKlN,UAAL,CAAgBsD,cAAhB,CAA+Bc,QAA/B,KAA4C,KAAhD,EAAuD;AACnD6C,QAAAA,CAAC,IAAI,KAAKjH,UAAL,CAAgBkN,iBAAhB,CAAkCpG,YAAlC,CAA+CI,MAApD;AACH,OAFD,MAGK,IAAI,KAAKlH,UAAL,CAAgBsD,cAAhB,CAA+Bc,QAA/B,KAA4C,MAAhD,EAAwD;AACzD4C,QAAAA,CAAC,IAAI,KAAKhH,UAAL,CAAgBkN,iBAAhB,CAAkCpG,YAAlC,CAA+C9J,KAApD;AACH;AACJ;;AACD,QAAI+J,IAAI,GAAG,IAAIrN,UAAJ,CAAe,KAAK0D,OAAL,CAAaoB,EAAb,GAAkB,cAAjC,EAAiD8S,SAAjD,EAA4D,KAAK1K,MAAjE,EAAyE,CAAzE,EAA4E,IAAI7L,IAAJ,CAASiC,KAAK,GAAG,GAAR,GAAcgK,CAAvB,EAA0BhK,KAAK,GAAG,GAAR,GAAciK,CAAxC,EAA2C,KAAKiC,aAAL,CAAmBlM,KAAnB,GAA2BA,KAAtE,EAA6E,KAAKkM,aAAL,CAAmBhC,MAAnB,GAA4BlK,KAAzG,CAA5E,CAAX;AACA,SAAKwU,UAAL,GAAkB1X,aAAa,CAAC,KAAKqJ,MAAN,EAAc,KAAK/F,OAAL,CAAaoB,EAAb,GAAkB,cAAhC,EAAgDuI,IAAhD,EAAsD,KAAKb,QAA3D,CAAb,IACX,KAAKA,QAAL,CAAcuL,aAAd,CAA4B1K,IAA5B,CADP;AAEAxN,IAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKkK,UAAzC,EAAqD,KAAKrO,MAA1D,CAAlB,CAjBuC,CAkBvC;;AACA,QAAIiO,eAAJ,EAAqB;AACjB,UAAIM,KAAK,GAAG,IAAIrY,WAAJ,CAAgB,KAAK6P,aAAL,CAAmBhC,MAAnB,GAA4BlK,KAA5C,EAAmD,KAAKkM,aAAL,CAAmBlM,KAAnB,GAA2BA,KAA9E,EAAqFoU,eAArF,EAAsG,CAAtG,EAAyG,CAAzG,EAA4G,KAAKhU,OAAL,CAAaoB,EAAb,GAAkB,kBAA9H,EAAkJ,SAAlJ,EAA6J,MAA7J,CAAZ;AACA,WAAKgT,UAAL,GAAkB1X,aAAa,CAAC,KAAKqJ,MAAN,EAAc,KAAK/F,OAAL,CAAaoB,EAAb,GAAkB,kBAAhC,EAAoDkT,KAApD,EAA2D,KAAKxL,QAAhE,CAAb,IACX,KAAKA,QAAL,CAAcyL,SAAd,CAAwBD,KAAxB,CADP;AAEAnY,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKkK,UAAzC,EAAqD,KAAKrO,MAA1D,CAAlB;AACH;AACJ,GAzBD;AA0BA;AACJ;AACA;;;AACIjG,EAAAA,KAAK,CAAChG,SAAN,CAAgBoO,gBAAhB,GAAmC,YAAY;AAC3C,QAAI,KAAKvH,aAAL,KAAuB,YAA3B,EAAyC;AACrC,aAAO,IAAP;AACH,KAFD,MAGK;AACD,UAAIX,OAAO,GAAGZ,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,kBAAnB,CAAxB;AACA,UAAIoT,YAAY,GAAGxU,OAAO,GACtB,IAAIrC,IAAJ,CAAS,CAACqC,OAAO,CAACyU,YAAR,CAAqB,GAArB,CAAV,EAAqC,CAACzU,OAAO,CAACyU,YAAR,CAAqB,GAArB,CAAtC,EAAiE,CAACzU,OAAO,CAACyU,YAAR,CAAqB,OAArB,CAAlE,EAAiG,CAACzU,OAAO,CAACyU,YAAR,CAAqB,QAArB,CAAlG,CADsB,GAC8G,IADxI;AAEA,UAAI9K,IAAI,GAAG,IAAIrN,UAAJ,CAAe,KAAK0D,OAAL,CAAaoB,EAAb,GAAkB,kBAAjC,EAAqD,KAAKwO,SAAL,CAAeuE,UAApE,EAAgF;AAAEvU,QAAAA,KAAK,EAAE,KAAKgQ,SAAL,CAAepG,MAAf,CAAsB5J,KAA/B;AAAsCD,QAAAA,KAAK,EAAE,KAAKiQ,SAAL,CAAepG,MAAf,CAAsB7J,KAAtB,IAA+B,KAAK2T,UAAL,CAAgBoB;AAA5F,OAAhF,EAA0L,KAAK9E,SAAL,CAAe+E,OAAzM,EAAkN,KAAK1L,oBAAL,CAA0BmD,cAA5O,CAAX;AACA,WAAKgI,UAAL,GAAkB,KAAKtL,QAAL,CAAcuL,aAAd,CAA4B1K,IAA5B,CAAlB;AACAxN,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKkK,UAAzC,EAAqD,KAAKrO,MAA1D,EAAkE,IAAlE,EAAwE,GAAxE,EAA6E,GAA7E,EAAkF,IAAlF,EAAwF,IAAxF,EAA8F,IAA9F,EAAoG,IAApG,EAA0GyO,YAA1G,CAAlB;AACA,WAAKJ,UAAL,GAAkB,IAAlB;AACH,KAZ0C,CAa3C;;;AACA,QAAIJ,eAAe,GAAG,KAAKpE,SAAL,CAAeqE,eAArC;;AACA,QAAID,eAAJ,EAAqB;AACjB,UAAIpU,KAAK,GAAG,KAAKgQ,SAAL,CAAepG,MAAf,CAAsB5J,KAAlC;AACA,UAAI0U,KAAK,GAAG,IAAIrY,WAAJ,CAAgB,KAAK8T,eAAL,CAAqBjG,MAArB,GAA8BlK,KAA9C,EAAqD,KAAKmQ,eAAL,CAAqBnQ,KAArB,GAA6BA,KAAlF,EAAyFoU,eAAzF,EAA0G,KAAKjE,eAAL,CAAqBnG,CAA/H,EAAkI,KAAKmG,eAAL,CAAqBlG,CAAvJ,EAA0J,KAAK7J,OAAL,CAAaoB,EAAb,GAAkB,sBAA5K,EAAoM,SAApM,EAA+M,MAA/M,CAAZ;AACA,WAAKgT,UAAL,GAAkB,KAAKtL,QAAL,CAAcyL,SAAd,CAAwBD,KAAxB,CAAlB;AACAnY,MAAAA,kBAAkB,CAAC,KAAK+H,YAAN,EAAoB,KAAKgG,SAAzB,EAAoC,KAAKkK,UAAzC,EAAqD,KAAKrO,MAA1D,EAAkE,IAAlE,EAAwE,GAAxE,EAA6E,GAA7E,EAAkF,IAAlF,EAAwF,IAAxF,EAA8F,IAA9F,EAAoG,IAApG,CAAlB;AACH;AACJ,GArBD;AAsBA;AACJ;AACA;AACA;AACA;AACA;;;AACIjG,EAAAA,KAAK,CAAChG,SAAN,CAAgB8a,SAAhB,GAA4B,UAAUhC,gBAAV,EAA4B;AACpD,SAAK,IAAIlR,EAAE,GAAG,CAAT,EAAYmT,kBAAkB,GAAGjC,gBAAtC,EAAwDlR,EAAE,GAAGmT,kBAAkB,CAACta,MAAhF,EAAwFmH,EAAE,EAA1F,EAA8F;AAC1F,UAAIsB,MAAM,GAAG6R,kBAAkB,CAACnT,EAAD,CAA/B;AACAsB,MAAAA,MAAM,GAAG,IAAI/E,MAAJ,CAAW,IAAX,EAAiB,QAAjB,EAA2B+E,MAA3B,CAAT;AACA,WAAKA,MAAL,CAAY2N,IAAZ,CAAiB3N,MAAjB;AACH;;AACD,SAAK8R,OAAL;AACH,GAPD;AAQA;AACJ;AACA;AACA;AACA;AACA;;;AACIhV,EAAAA,KAAK,CAAChG,SAAN,CAAgBib,YAAhB,GAA+B,UAAUvI,KAAV,EAAiB;AAC5C,SAAKzG,MAAL,GAAc,KAAd,CAD4C,CACvB;;AACrB,SAAK/C,MAAL,CAAYgS,MAAZ,CAAmBxI,KAAnB,EAA0B,CAA1B;AACA,SAAKsI,OAAL;AACH,GAJD;AAKA;AACJ;AACA;AACA;AACA;;;AACIhV,EAAAA,KAAK,CAAChG,SAAN,CAAgBmb,WAAhB,GAA8B,YAAY;AACtC,SAAKjS,MAAL,GAAc,EAAd;AACA,SAAK8R,OAAL;AACH,GAHD;AAIA;AACJ;AACA;AACA;AACA;AACA;;;AACIhV,EAAAA,KAAK,CAAChG,SAAN,CAAgBob,OAAhB,GAA0B,UAAUC,cAAV,EAA0B;AAChD,SAAK,IAAIzT,EAAE,GAAG,CAAT,EAAY0T,gBAAgB,GAAGD,cAApC,EAAoDzT,EAAE,GAAG0T,gBAAgB,CAAC7a,MAA1E,EAAkFmH,EAAE,EAApF,EAAwF;AACpF,UAAIsP,IAAI,GAAGoE,gBAAgB,CAAC1T,EAAD,CAA3B;AACAsP,MAAAA,IAAI,GAAG,IAAIvT,IAAJ,CAAS,IAAT,EAAe,MAAf,EAAuBuT,IAAvB,CAAP;;AACA,UAAI,KAAK1O,QAAT,EAAmB;AACf0O,QAAAA,IAAI,CAACqE,QAAL,GAAgBC,KAAK,CAACtE,IAAI,CAACqE,QAAN,CAAL,GAAuB,IAAvB,GAA8BrE,IAAI,CAACqE,QAAnD;AACArE,QAAAA,IAAI,CAACuE,gBAAL,GAAwBD,KAAK,CAACtE,IAAI,CAACuE,gBAAN,CAAL,GAA+B,IAA/B,GAAsCvE,IAAI,CAACuE,gBAAnE;AACH;;AACD,WAAKtE,IAAL,CAAUN,IAAV,CAAeK,IAAf;AACH;;AACD,SAAK8D,OAAL;AACH,GAXD;AAYA;AACJ;AACA;AACA;AACA;AACA;;;AACIhV,EAAAA,KAAK,CAAChG,SAAN,CAAgB0b,UAAhB,GAA6B,UAAUhJ,KAAV,EAAiB;AAC1C,SAAKzG,MAAL,GAAc,KAAd;AACA,SAAKkL,IAAL,CAAU+D,MAAV,CAAiBxI,KAAjB,EAAwB,CAAxB;AACA,SAAKsI,OAAL;AACH,GAJD;AAKA;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACIhV,EAAAA,KAAK,CAAChG,SAAN,CAAgB2b,OAAhB,GAA0B,YAAY;AAClC,QAAI,KAAKhE,eAAT,EAA0B;AACtB,WAAKA,eAAL,CAAqBgE,OAArB;AACH;;AACD,QAAI,KAAKvQ,YAAT,EAAuB;AACnB,WAAKA,YAAL,CAAkBwQ,mBAAlB;AACA,WAAKxQ,YAAL,GAAoB,IAApB;AACH;;AACD,SAAK5B,cAAL,GAAsB,EAAtB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAK6C,aAAL,GAAqB,EAArB;AACA,SAAKgD,eAAL,GAAuB,EAAvB;AACA,SAAKjJ,2BAAL,GAAmC,EAAnC;AACA,SAAK2K,cAAL,GAAsB,IAAtB;AACA,SAAK7B,oBAAL,GAA4B,IAA5B;AACA,SAAK4B,oBAAL,GAA4B,IAA5B;AACA,SAAKM,iBAAL,GAAyB,IAAzB;AACA,SAAKtC,aAAL,GAAqB,IAArB;AACA;AACR;AACA;;AACQ,QAAI,KAAK7I,OAAT,EAAkB;AACd,WAAKwC,YAAL,GADc,CAEd;;AACA,UAAI,KAAKmT,OAAT,EAAkB;AACd,aAAKC,aAAL;AACH;;AACDpW,MAAAA,MAAM,CAAC1F,SAAP,CAAiB2b,OAAjB,CAAyBvV,IAAzB,CAA8B,IAA9B;;AACA,UAAI,CAAC,KAAKgE,YAAV,EAAwB;AACpB,aAAK2R,SAAL;AACA,aAAK3L,SAAL,GAAiB,IAAjB;AACH;AACJ;AACJ,GAjCD;AAkCA;AACJ;AACA;;;AACIpK,EAAAA,KAAK,CAAChG,SAAN,CAAgBqH,aAAhB,GAAgC,YAAY;AACxC,WAAO,OAAP;AACH,GAFD;AAGA;AACJ;AACA;AACA;AACA;;;AACIrB,EAAAA,KAAK,CAAChG,SAAN,CAAgBgc,cAAhB,GAAiC,YAAY;AACzC,QAAIC,SAAS,GAAG,CAAC,QAAD,EAAW,mBAAX,EAAgC,cAAhC,EAAgD,cAAhD,CAAhB;AACA,WAAO,KAAKC,YAAL,CAAkBD,SAAlB,CAAP;AACH,GAHD;AAIA;AACJ;AACA;;;AACIjW,EAAAA,KAAK,CAAChG,SAAN,CAAgBkL,cAAhB,GAAiC,YAAY;AACzC,SAAK6Q,SAAL;AACAtZ,IAAAA,SAAS,CAAC,IAAD,CAAT;AACH,GAHD;AAIA;AACJ;AACA;;;AACIuD,EAAAA,KAAK,CAAChG,SAAN,CAAgB0I,YAAhB,GAA+B,YAAY;AACvC,QAAIyT,UAAU,GAAGxa,OAAO,CAACya,eAAzB;AACA,QAAIC,SAAS,GAAG1a,OAAO,CAAC2a,cAAxB;AACA,QAAIC,SAAS,GAAG5a,OAAO,CAAC6a,aAAxB;AACA,QAAIC,WAAW,GAAG9a,OAAO,CAAC+a,SAAR,GAAoB,cAApB,GAAqC,YAAvD;AACA;;AACA5a,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkCiW,UAAlC,EAA8C,KAAKQ,gBAAnD;AACA7a,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkCmW,SAAlC,EAA6C,KAAKO,SAAlD;AACA9a,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkCqW,SAAlC,EAA6C,KAAKM,QAAlD;AACA/a,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkC,OAAlC,EAA2C,KAAK4W,iBAAhD;AACAhb,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkC,UAAlC,EAA8C,KAAK6W,kBAAnD;AACAjb,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkC,aAAlC,EAAiD,KAAK8W,eAAtD;AACAlb,IAAAA,YAAY,CAACL,MAAb,CAAoB,KAAKyE,OAAzB,EAAkCuW,WAAlC,EAA+C,KAAKQ,UAApD;AACA/V,IAAAA,MAAM,CAAC0U,mBAAP,CAA4Bja,OAAO,CAACub,OAAR,IAAoB,iBAAiBhW,MAAjB,IAA2B,yBAAyBA,MAAzE,GAAoF,mBAApF,GAA0G,QAArI,EAA+I,KAAKiW,WAApJ;AACA;AACR;AACA;;AACQ,QAAI,KAAKC,WAAT,EAAsB;AAClB,WAAKA,WAAL,CAAiBzB,OAAjB;AACA,WAAKyB,WAAL,GAAmB,IAAnB;AACH;AACJ,GArBD;;AAsBApX,EAAAA,KAAK,CAAChG,SAAN,CAAgB6I,UAAhB,GAA6B,YAAY;AACrC;AACR;AACA;AACQ,QAAI,CAAC,KAAK3C,OAAV,EAAmB;AACf;AACH;AACD;;;AACA,QAAIuW,WAAW,GAAG9a,OAAO,CAAC+a,SAAR,GAAoB,cAApB,GAAqC,YAAvD;AACA;;AACA5a,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+BvE,OAAO,CAACya,eAAvC,EAAwD,KAAKO,gBAA7D,EAA+E,IAA/E;AACA7a,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+BvE,OAAO,CAAC2a,cAAvC,EAAuD,KAAKM,SAA5D,EAAuE,IAAvE;AACA9a,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+BvE,OAAO,CAAC6a,aAAvC,EAAsD,KAAKK,QAA3D,EAAqE,IAArE;AACA/a,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+B,OAA/B,EAAwC,KAAK4W,iBAA7C,EAAgE,IAAhE;AACAhb,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+B,UAA/B,EAA2C,KAAK6W,kBAAhD,EAAoE,IAApE;AACAjb,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+B,aAA/B,EAA8C,KAAK8W,eAAnD,EAAoE,IAApE;AACAlb,IAAAA,YAAY,CAACub,GAAb,CAAiB,KAAKnX,OAAtB,EAA+BuW,WAA/B,EAA4C,KAAKQ,UAAjD,EAA6D,IAA7D;AACA,SAAKE,WAAL,GAAmB,KAAKG,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACArW,IAAAA,MAAM,CAACsW,gBAAP,CAAyB7b,OAAO,CAACub,OAAR,IAAoB,iBAAiBhW,MAAjB,IAA2B,yBAAyBA,MAAzE,GAAoF,mBAApF,GAA0G,QAAlI,EAA4I,KAAKiW,WAAjJ;AACA,SAAKM,cAAL,GAAsB,KAAKC,SAAL,CAAeH,IAAf,CAAoB,IAApB,CAAtB;AACA,SAAKH,WAAL,GAAmB,IAAIxb,KAAJ,CAAU,KAAKsE,OAAf,EAAwB;AAAEyX,MAAAA,OAAO,EAAE,KAAKF,cAAhB;AAAgCG,MAAAA,gBAAgB,EAAE;AAAlD,KAAxB,CAAnB;AACA;;AACA,SAAKC,QAAL,CAAc,KAAK3X,OAAnB;AACH,GAvBD;;AAwBAF,EAAAA,KAAK,CAAChG,SAAN,CAAgBgd,eAAhB,GAAkC,UAAUc,KAAV,EAAiB;AAC/C,QAAI,KAAKC,SAAL,CAAexR,MAAf,IAAyB,KAAKyR,eAA9B,KACCF,KAAK,CAACG,OAAN,KAAkB,CAAlB,IAAuBH,KAAK,CAACI,KAAN,KAAgB,CAAvC,IAA4CJ,KAAK,CAACK,WAAN,KAAsB,OADnE,CAAJ,EACiF;AAC7EL,MAAAA,KAAK,CAACM,cAAN;AACAN,MAAAA,KAAK,CAACO,eAAN;AACA,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH,GARD;;AASArY,EAAAA,KAAK,CAAChG,SAAN,CAAgB6d,QAAhB,GAA2B,UAAU3X,OAAV,EAAmB;AAC1C,QAAIoY,OAAO,GAAG,KAAKhL,YAAnB;AACA,QAAIiL,aAAa,GAAGD,OAAO,CAACE,sBAAR,IAAkCF,OAAO,CAACG,kBAA1C,IAChB,KAAK3Q,aAAL,KAAuB,MADP,IACiB,KAAKiQ,SAAL,CAAexR,MADhC,IAC0C,KAAKmS,aAAL,KAAuB,MADrF;AAEAxY,IAAAA,OAAO,CAACuK,KAAR,CAAckO,WAAd,GAA4BJ,aAAa,GAAG,MAAH,GAAY,SAArD;AACArY,IAAAA,OAAO,CAACuK,KAAR,CAAcmO,aAAd,GAA8BL,aAAa,GAAG,MAAH,GAAY,SAAvD;AACArY,IAAAA,OAAO,CAACuK,KAAR,CAAcoO,gBAAd,GAAiC,MAAjC;AACA3Y,IAAAA,OAAO,CAACuK,KAAR,CAAcqO,YAAd,GAA6B,MAA7B;AACA5Y,IAAAA,OAAO,CAACuK,KAAR,CAAcsO,gBAAd,GAAiC,MAAjC;AACA7Y,IAAAA,OAAO,CAACuK,KAAR,CAAcvD,QAAd,GAAyB,UAAzB;AACAhH,IAAAA,OAAO,CAACuK,KAAR,CAAcuO,OAAd,GAAwB,OAAxB,CAV0C,CAW1C;;AACA9Y,IAAAA,OAAO,CAACuK,KAAR,CAAcwO,QAAd,GAAyB,QAAzB;AACH,GAbD;AAcA;AACJ;AACA;AACA;AACA;AACA;;;AACIjZ,EAAAA,KAAK,CAAChG,SAAN,CAAgBkf,aAAhB,GAAgC,YAAY;AACxC,WAAQ,iBAAiBhY,MAAjB,IAA2B,yBAAyBA,MAA5D;AACH,GAFD;AAGA;AACJ;AACA;AACA;AACA;AACA;;;AACIlB,EAAAA,KAAK,CAAChG,SAAN,CAAgB0d,SAAhB,GAA4B,UAAUyB,CAAV,EAAa;AACrC,SAAKC,MAAL,GAAeD,CAAC,IAAIA,CAAC,CAACE,aAAF,CAAgBC,cAAtB,GAAyCH,CAAC,CAACE,aAAF,CAAgBC,cAAhB,CAA+B,CAA/B,EAAkCC,OAA3E,GAAsF,CAApG;AACA,SAAKC,MAAL,GAAeL,CAAC,IAAIA,CAAC,CAACE,aAAF,CAAgBC,cAAtB,GAAyCH,CAAC,CAACE,aAAF,CAAgBC,cAAhB,CAA+B,CAA/B,EAAkCG,OAA3E,GAAsF,CAApG;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,UAAL,CAAgB,KAAKP,MAArB,EAA6B,KAAKI,MAAlC;AACA,SAAKI,MAAL,CAAY,SAAZ,EAAuBT,CAAvB;AACA,WAAO,KAAP;AACH,GAPD;AAQA;AACJ;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB2f,UAAhB,GAA6B,UAAUE,KAAV,EAAiBC,KAAjB,EAAwB;AACjD,QAAIxa,UAAU,CAAC,KAAK6E,KAAN,CAAd,EAA4B;AACxB,UAAIqG,OAAO,GAAGlL,UAAU,CAAC,KAAK6E,KAAN,CAAV,CAAuBoG,qBAAvB,EAAd;AACA,UAAIV,IAAI,GAAG,KAAK3J,OAAL,CAAaqK,qBAAb,EAAX;AACA,WAAKiP,MAAL,GAAeM,KAAK,GAAGjQ,IAAI,CAACgB,GAAd,GAAqBF,IAAI,CAACC,GAAL,CAASJ,OAAO,CAACK,GAAR,GAAchB,IAAI,CAACgB,GAA5B,EAAiC,CAAjC,CAAnC;AACA,WAAKuO,MAAL,GAAeS,KAAK,GAAGhQ,IAAI,CAACa,IAAd,GAAsBC,IAAI,CAACC,GAAL,CAASJ,OAAO,CAACE,IAAR,GAAeb,IAAI,CAACa,IAA7B,EAAmC,CAAnC,CAApC;AACH;AACJ,GAPD;AAQA;AACJ;AACA;;;AACI1K,EAAAA,KAAK,CAAChG,SAAN,CAAgB+f,MAAhB,GAAyB,UAAU1S,IAAV,EAAgB2S,QAAhB,EAA0B;AAC/C,QAAI,KAAKC,YAAT,EAAuB;AACnB,WAAKA,YAAL,CAAkBF,MAAlB,CAAyB1S,IAAzB,EAA+B2S,QAA/B;;AACA,UAAI,KAAKE,WAAT,EAAsB;AAClB,aAAKD,YAAL,CAAkBE,UAAlB,CAA6B,IAA7B;AACH;AACJ;AACJ,GAPD;AAQA;AACJ;AACA;AACA;AACA;AACA;;;AACIna,EAAAA,KAAK,CAAChG,SAAN,CAAgBsd,WAAhB,GAA8B,YAAY;AACtC,QAAInX,KAAK,GAAG,IAAZ;;AACA,SAAKiD,aAAL,GAAqB,KAArB;AACA,QAAIgX,GAAG,GAAG;AACN5V,MAAAA,KAAK,EAAE,KAAKhC,QAAL,GAAgB,EAAhB,GAAqB,IADtB;AAENkC,MAAAA,IAAI,EAAEtF,OAFA;AAGNib,MAAAA,WAAW,EAAE,IAAIrc,IAAJ,CAAS,CAAT,EAAY,CAAZ,CAHP;AAINsc,MAAAA,YAAY,EAAE,IAAItc,IAAJ,CAAS,KAAKgO,aAAL,CAAmBlM,KAA5B,EAAmC,KAAKkM,aAAL,CAAmBhC,MAAtD;AAJR,KAAV;AAMA,QAAIuQ,gBAAgB,GAAG;AAAE7V,MAAAA,IAAI,EAAE,cAAR;AAAwB8V,MAAAA,kBAAkB,EAAE;AAA5C,KAAvB;;AACA,QAAI,KAAKC,QAAT,EAAmB;AACfC,MAAAA,YAAY,CAAC,KAAKD,QAAN,CAAZ;AACH;;AACD,SAAK7V,OAAL,CAAa/F,YAAb,EAA2B0b,gBAA3B;;AACA,QAAI,CAACA,gBAAgB,CAACC,kBAAtB,EAA0C;AACtC,WAAKC,QAAL,GAAgB,CAACE,UAAU,CAAC,YAAY;AACpC,YAAIxa,KAAK,CAACya,WAAN,IAAqBza,KAAK,CAAC2C,UAA/B,EAA2C;AACvC4X,UAAAA,YAAY,CAACva,KAAK,CAACsa,QAAP,CAAZ;AACA;AACH;;AACDta,QAAAA,KAAK,CAAC+E,cAAN;;AACAkV,QAAAA,GAAG,CAACC,WAAJ,GAAkBla,KAAK,CAAC6L,aAAxB;;AACA7L,QAAAA,KAAK,CAACyE,OAAN,CAAcxF,OAAd,EAAuBgb,GAAvB;;AACAja,QAAAA,KAAK,CAACuD,WAAN;;AACAvD,QAAAA,KAAK,CAAC+F,YAAN;;AACA/F,QAAAA,KAAK,CAACyE,OAAN,CAAc,QAAd,EAAwB;AAAEJ,UAAAA,KAAK,EAAErE,KAAK,CAACqC,QAAN,GAAiB,EAAjB,GAAsBrC;AAA/B,SAAxB;AACH,OAX0B,EAWxB,GAXwB,CAA3B;AAYH;;AACD,WAAO,KAAP;AACH,GA7BD;AA8BA;AACJ;AACA;AACA;AACA;AACA;;;AACIH,EAAAA,KAAK,CAAChG,SAAN,CAAgB4c,SAAhB,GAA4B,UAAUuC,CAAV,EAAa;AACrC,QAAIU,KAAJ;AACA,QAAIC,KAAJ;AACA,QAAIe,QAAJ;;AACA,QAAI1B,CAAC,CAAC9R,IAAF,KAAW,WAAf,EAA4B;AACxB,WAAK6P,OAAL,GAAe,IAAf;AACA2D,MAAAA,QAAQ,GAAG1B,CAAX;AACAU,MAAAA,KAAK,GAAGgB,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BC,OAAnC;AACAO,MAAAA,KAAK,GAAGe,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BG,OAAnC;AACH,KALD,MAMK;AACD,WAAKvC,OAAL,GAAeiC,CAAC,CAAChB,WAAF,KAAkB,OAAlB,IAA6BgB,CAAC,CAAChB,WAAF,KAAkB,GAA/C,IAAsD,KAAKjB,OAA1E;AACA2C,MAAAA,KAAK,GAAGV,CAAC,CAACI,OAAV;AACAO,MAAAA,KAAK,GAAGX,CAAC,CAACM,OAAV;AACH;;AACD,QAAIna,UAAU,CAAC,KAAK6E,KAAN,CAAd,EAA4B;AACxB,WAAKwV,UAAL,CAAgBE,KAAhB,EAAuBC,KAAvB;AACA,WAAKgB,gBAAL,CAAsB3B,CAAtB;AACH;;AACD,WAAO,KAAP;AACH,GApBD;AAqBA;AACJ;AACA;AACA;AACA;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgBid,UAAhB,GAA6B,UAAUkC,CAAV,EAAa;AACtC,QAAIU,KAAJ;AACA,QAAIC,KAAJ;AACA,QAAIe,QAAJ;;AACA,QAAI1B,CAAC,CAAC9R,IAAF,KAAW,YAAf,EAA6B;AACzB,WAAK6P,OAAL,GAAe,IAAf;AACA2D,MAAAA,QAAQ,GAAG1B,CAAX;AACAU,MAAAA,KAAK,GAAGgB,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BC,OAAnC;AACAO,MAAAA,KAAK,GAAGe,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BG,OAAnC;AACH,KALD,MAMK;AACD,WAAKvC,OAAL,GAAeiC,CAAC,CAAChB,WAAF,KAAkB,OAAlB,IAA6BgB,CAAC,CAAChB,WAAF,KAAkB,GAA9D;AACA0B,MAAAA,KAAK,GAAGV,CAAC,CAACI,OAAV;AACAO,MAAAA,KAAK,GAAGX,CAAC,CAACM,OAAV;AACH;;AACD,SAAKE,UAAL,CAAgBE,KAAhB,EAAuBC,KAAvB;AACA,SAAKiB,iBAAL,CAAuB5B,CAAvB;AACA,WAAO,KAAP;AACH,GAlBD;AAmBA;AACJ;AACA;AACA;AACA;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB+gB,iBAAhB,GAAoC,UAAU5B,CAAV,EAAa;AAC7C,QAAIjZ,OAAO,GAAGiZ,CAAC,CAAC/e,MAAhB;AACA,QAAIqc,WAAW,GAAG9a,OAAO,CAAC+a,SAAR,GAAoB,cAApB,GAAqC,YAAvD;AACA,SAAK9R,OAAL,CAAazF,eAAb,EAA8B;AAAE/E,MAAAA,MAAM,EAAE8F,OAAO,CAACoB,EAAlB;AAAsBwI,MAAAA,CAAC,EAAE,KAAKsP,MAA9B;AAAsCrP,MAAAA,CAAC,EAAE,KAAKyP;AAA9C,KAA9B;AACApd,IAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,wBAAnB,CAAb;AACA,SAAK0Z,WAAL,GAAmB,KAAKza,gBAAL,GAAwB,KAA3C;AACA,SAAKqZ,MAAL,CAAYnD,WAAZ,EAAyB0C,CAAzB;AACA,WAAO,KAAP;AACH,GARD;AASA;AACJ;AACA;AACA;AACA;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB+c,kBAAhB,GAAqC,UAAUoC,CAAV,EAAa;AAC9C,QAAIjZ,OAAO,GAAGiZ,CAAC,CAAC/e,MAAhB;AACA,SAAKwK,OAAL,CAAanG,gBAAb,EAA+B;AAAErE,MAAAA,MAAM,EAAE8F,OAAO,CAACoB,EAAlB;AAAsBwI,MAAAA,CAAC,EAAE,KAAKsP,MAA9B;AAAsCrP,MAAAA,CAAC,EAAE,KAAKyP;AAA9C,KAA/B;AACA,WAAO,KAAP;AACH,GAJD;AAKA;AACJ;AACA;AACA;AACA;AACA;;;AACIxZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB8c,iBAAhB,GAAoC,UAAUqC,CAAV,EAAa;AAC7C,QAAIhZ,KAAK,GAAG,IAAZ;;AACA,QAAID,OAAO,GAAGiZ,CAAC,CAAC/e,MAAhB;AACA,SAAKwK,OAAL,CAAapG,eAAb,EAA8B;AAAEpE,MAAAA,MAAM,EAAE8F,OAAO,CAACoB,EAAlB;AAAsBwI,MAAAA,CAAC,EAAE,KAAKsP,MAA9B;AAAsCrP,MAAAA,CAAC,EAAE,KAAKyP;AAA9C,KAA9B;AACA,SAAK7Y,UAAL;AACA,QAAIsa,YAAY,GAAG,CAAnB;AACA,QAAIrM,SAAS,GAAG,WAAhB;;AACA,QAAI,KAAKA,SAAL,CAAJ,EAAqB;AACjB,UAAIsM,SAAS,GAAG,WAAhB;AACAD,MAAAA,YAAY,GAAG,KAAKtc,gBAAL,CAAsBuc,SAAtB,EAAiCzgB,MAAjC,GAA0C,CAA1C,GAA8C,GAA9C,GAAoD,CAAnE;AACH,KAHD,MAIK;AACDwgB,MAAAA,YAAY,GAAG,KAAKtc,gBAAL,GAAwB,GAAxB,GAA8B,CAA7C;AACH;;AACD,QAAI,KAAKgC,UAAL,KAAoB,CAApB,IAAyB,KAAKjC,UAAlC,EAA8C;AAC1C,WAAKkC,gBAAL,GAAwB,CAAC+Z,UAAU,CAAC,YAAY;AAC5Cxa,QAAAA,KAAK,CAACQ,UAAN,GAAmB,CAAnB;;AACAR,QAAAA,KAAK,CAACgb,iBAAN,CAAwBzc,UAAxB,EAAoCya,CAApC;AACH,OAHkC,EAGhC8B,YAHgC,CAAnC;AAIH,KALD,MAMK,IAAI,KAAKta,UAAL,KAAoB,CAApB,IAAyB,KAAKhC,gBAAlC,EAAoD;AACrD+b,MAAAA,YAAY,CAAC,KAAK9Z,gBAAN,CAAZ;AACA,WAAKD,UAAL,GAAkB,CAAlB;AACA,WAAKwa,iBAAL,CAAuBxc,gBAAvB,EAAyCwa,CAAzC;AACH;;AACD,QAAI,KAAKva,cAAT,EAAyB;AACrB,WAAKwc,0BAAL,CAAgCxc,cAAhC,EAAgDua,CAAhD;AACH;;AACD,SAAKS,MAAL,CAAY,OAAZ,EAAqBT,CAArB;AACA,WAAO,KAAP;AACH,GA9BD;;AA+BAnZ,EAAAA,KAAK,CAAChG,SAAN,CAAgBmhB,iBAAhB,GAAoC,UAAUrD,KAAV,EAAiBqB,CAAjB,EAAoB;AACpD,QAAIkC,GAAG,GAAGlC,CAAV;AACA,QAAIlY,IAAI,GAAG,IAAI/C,SAAJ,CAAc,IAAd,CAAX;AACA,QAAIod,SAAS,GAAGra,IAAI,CAACsa,OAAL,EAAhB;;AACA,QAAID,SAAS,CAACpY,MAAV,IAAoBoY,SAAS,CAAC1T,KAAlC,EAAyC;AACrC,WAAKhD,OAAL,CAAakT,KAAb,EAAoB;AAChB5U,QAAAA,MAAM,EAAE,KAAKV,QAAL,GAAgB,EAAhB,GAAqB8Y,SAAS,CAACpY,MADvB;AAEhB0E,QAAAA,KAAK,EAAE0T,SAAS,CAAC1T,KAFD;AAGhB4T,QAAAA,WAAW,EAAEF,SAAS,CAACpY,MAAV,CAAiBwJ,KAHd;AAGqB+O,QAAAA,UAAU,EAAEH,SAAS,CAAC1T,KAAV,CAAgB8E,KAHjD;AAIhB5C,QAAAA,CAAC,EAAE,KAAKsP,MAJQ;AAIArP,QAAAA,CAAC,EAAE,KAAKyP,MAJR;AAIgBK,QAAAA,KAAK,EAAEwB,GAAG,CAACxB,KAJ3B;AAIkCC,QAAAA,KAAK,EAAEuB,GAAG,CAACvB;AAJ7C,OAApB;AAMH;AACJ,GAZD;;AAaA9Z,EAAAA,KAAK,CAAChG,SAAN,CAAgBohB,0BAAhB,GAA6C,UAAUtD,KAAV,EAAiBqB,CAAjB,EAAoB;AAC7D,QAAIuC,aAAa,GAAGvC,CAAC,CAAC/e,MAAtB;AACA,QAAIuhB,QAAQ,GAAGxC,CAAf;;AACA,QAAIuC,aAAa,CAACpa,EAAd,CAAiBe,OAAjB,CAAyB,aAAzB,MAA4C,CAAC,CAAjD,EAAoD;AAChD,UAAIqK,KAAK,GAAGgP,aAAa,CAACpa,EAAd,CAAiBsa,KAAjB,CAAuB,aAAvB,CAAZ;AACA,UAAIC,SAAS,GAAG,CAACnP,KAAK,CAAC,CAAD,CAAL,CAASoP,KAAT,CAAe,CAAC,CAAhB,CAAjB;AACA,UAAIC,UAAU,GAAG,CAACrP,KAAK,CAAC,CAAD,CAAvB;AACA,UAAIsP,WAAW,GAAG,KAAK1S,eAAL,CAAqBuS,SAArB,CAAlB;;AACA,UAAIG,WAAW,CAACtb,OAAZ,KAAwBmb,SAAS,KAAK,CAAd,IAAmBA,SAAS,KAAK,CAAzD,CAAJ,EAAiE;AAC7D,aAAKjX,OAAL,CAAakT,KAAb,EAAoB;AAChBtT,UAAAA,KAAK,EAAE,IADS;AAEhB0M,UAAAA,IAAI,EAAE8K,WAFU;AAGhB/H,UAAAA,IAAI,EAAE+H,WAAW,CAACC,aAAZ,CAA0BF,UAA1B,EAAsC9H,IAH5B;AAIhBiI,UAAAA,OAAO,EAAER,aAAa,CAACpa,EAJP;AAKhBoL,UAAAA,KAAK,EAAEqP,UALS;AAMhBI,UAAAA,QAAQ,EAAE,IAAIpf,aAAJ,CAAkB4e,QAAQ,CAAC9B,KAA3B,EAAkC8B,QAAQ,CAAC7B,KAA3C,CANM;AAOhBnR,UAAAA,KAAK,EAAEqT,WAAW,CAACC,aAAZ,CAA0BF,UAA1B,EAAsCpT;AAP7B,SAApB;AASH;AACJ;AACJ,GApBD;AAqBA;AACJ;AACA;AACA;AACA;AACA;;;AACI3I,EAAAA,KAAK,CAAChG,SAAN,CAAgB8gB,gBAAhB,GAAmC,UAAU3B,CAAV,EAAa;AAC5C,QAAIjZ,OAAO,GAAGiZ,CAAC,CAAC/e,MAAhB;AACA,SAAKwK,OAAL,CAAa7F,cAAb,EAA6B;AAAE3E,MAAAA,MAAM,EAAE8F,OAAO,CAACoB,EAAlB;AAAsBwI,MAAAA,CAAC,EAAE,KAAKsP,MAA9B;AAAsCrP,MAAAA,CAAC,EAAE,KAAKyP;AAA9C,KAA7B;;AACA,QAAI,KAAKta,SAAT,EAAoB;AAChB,WAAKic,iBAAL,CAAuBjc,SAAvB,EAAkCia,CAAlC;AACH,KAL2C,CAM5C;;;AACA,QAAI,CAAC,KAAKjC,OAAV,EAAmB;AACf,WAAKkF,YAAL,CAAkBjD,CAAlB,EAAqB,KAAKC,MAA1B,EAAkC,KAAKI,MAAvC;AACA,WAAK6C,WAAL,CAAiBlD,CAAjB,EAAoB,KAAKC,MAAzB,EAAiC,KAAKI,MAAtC;AACH;;AACD,QAAI,KAAK8C,iBAAT,EAA4B;AACxB,WAAKA,iBAAL,CAAuBC,cAAvB,CAAsCpD,CAAtC;AACH;;AACD,SAAKS,MAAL,CAAYje,OAAO,CAAC2a,cAApB,EAAoC6C,CAApC;AACA,SAAKjC,OAAL,GAAe,KAAf;AACA,WAAO,KAAP;AACH,GAjBD;;AAkBAlX,EAAAA,KAAK,CAAChG,SAAN,CAAgBoiB,YAAhB,GAA+B,UAAUtE,KAAV,EAAiBhO,CAAjB,EAAoBC,CAApB,EAAuBmN,OAAvB,EAAgC;AAC3D,QAAIsF,QAAQ,GAAG1E,KAAK,CAAC1d,MAAN,CAAakH,EAA5B;AACA,QAAIA,EAAE,GAAIkb,QAAQ,KAAM,KAAKtc,OAAL,CAAaoB,EAAb,GAAkB,aAAhC,IAAkDkb,QAAQ,KAAM,KAAKtc,OAAL,CAAaoB,EAAb,GAAkB,gBAAlF,IACNkb,QAAQ,CAACna,OAAT,CAAiB,YAAjB,IAAiC,CAAC,CAD5B,IACiCma,QAAQ,CAACna,OAAT,CAAiB,eAAjB,IAAoC,CAAC,CADhF;AAEA,QAAIqK,KAAK,GAAG,CAAZ;;AACA,QAAI8P,QAAQ,CAACna,OAAT,CAAiB,YAAjB,IAAiC,CAAC,CAAtC,EAAyC;AACrCqK,MAAAA,KAAK,GAAG+P,QAAQ,CAAGD,QAAQ,CAACE,OAAT,CAAiB,KAAKxc,OAAL,CAAaoB,EAA9B,EAAkC,EAAlC,CAAD,CAAwCob,OAAxC,CAAgD,YAAhD,EAA8D,EAA9D,CAAD,CAAoEd,KAApE,CAA0E,GAA1E,EAA+E,CAA/E,CAAD,EAAoF,EAApF,CAAhB;AACH;;AACD,QAAIta,EAAE,IAAKwW,KAAK,CAAC1d,MAAN,CAAauiB,WAAb,CAAyBta,OAAzB,CAAiC,KAAjC,IAA0C,CAAC,CAAtD,EAA0D;AACtD,UAAImN,KAAK,GAAIgN,QAAQ,KAAM,KAAKtc,OAAL,CAAaoB,EAAb,GAAkB,aAAjC,GAAmD,KAAKkO,KAAxD,GACRgN,QAAQ,CAACna,OAAT,CAAiB,YAAjB,IAAiC,CAAC,CAAlC,GAAsC,KAAKiH,eAAL,CAAqBoD,KAArB,EAA4B8C,KAAlE,GACIgN,QAAQ,CAACna,OAAT,CAAiB,gBAAjB,IAAqC,CAAC,CAAtC,GAA0C,KAAKqN,QAA/C,GAA0D,KAAKtJ,cAAL,CAAoBoJ,KAFtF;AAGAtT,MAAAA,WAAW,CAACsT,KAAD,EAAQ1F,CAAR,EAAWC,CAAX,EAAc,KAAK7J,OAAL,CAAa0c,WAA3B,EAAwC,KAAK1c,OAAL,CAAaoB,EAAb,GAAkB,oBAA1D,EAAgFhC,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAA1F,EAAoI4V,OAApI,CAAX;AACH,KALD,MAMK;AACD9a,MAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAAb;AACH;AACJ,GAjBD;;AAkBAtB,EAAAA,KAAK,CAAChG,SAAN,CAAgBqiB,WAAhB,GAA8B,UAAUvE,KAAV,EAAiBhO,CAAjB,EAAoBC,CAApB,EAAuBmN,OAAvB,EAAgC;AAC1D,QAAIsF,QAAQ,GAAG1E,KAAK,CAAC1d,MAAN,CAAakH,EAA5B;;AACA,QAAI,CAAEkb,QAAQ,CAACna,OAAT,CAAiB,WAAjB,IAAgC,CAAC,CAAlC,IAAwCma,QAAQ,CAACna,OAAT,CAAiB,sBAAjB,IAA2C,CAAC,CAArF,KACCyV,KAAK,CAAC1d,MAAN,CAAauiB,WAAb,CAAyBta,OAAzB,CAAiC,KAAjC,IAA0C,CAAC,CADhD,EACoD;AAChD,UAAIwa,sBAAsB,GAAI,KAAKzW,cAAL,CAAoB1F,OAApB,IAA+B,KAAK0Q,YAAL,CAAkB5B,KAAlB,KAA4B,EAAzF;AACAtT,MAAAA,WAAW,CAAC,KAAK4gB,aAAL,CAAmBN,QAAnB,CAAD,EAA+B1S,CAA/B,EAAkCC,CAAlC,EAAqC,KAAK7J,OAAL,CAAa0c,WAAlD,EAA+D,KAAK1c,OAAL,CAAaoB,EAAb,GAAkB,wBAAjF,EAA2GhC,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAArH,EAA+J4V,OAA/J,EAAwK2F,sBAAxK,CAAX;AACH,KAJD,MAKK;AACDzgB,MAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,wBAAnB,CAAb;AACH;AACJ,GAVD;;AAWAtB,EAAAA,KAAK,CAAChG,SAAN,CAAgB8iB,aAAhB,GAAgC,UAAU7I,IAAV,EAAgB;AAC5C,QAAI8I,KAAJ;;AACA,QAAI9I,IAAI,CAAC5R,OAAL,CAAa,WAAb,IAA4B,CAAC,CAAjC,EAAoC;AAChC0a,MAAAA,KAAK,GAAK9I,IAAI,CAACyI,OAAL,CAAa,KAAKxc,OAAL,CAAaoB,EAA1B,EAA8B,EAA9B,CAAD,CAAoCob,OAApC,CAA4C,YAA5C,EAA0D,EAA1D,CAAD,CAAgEd,KAAhE,CAAsE,GAAtE,CAAR;AACA,aAAO,KAAKtS,eAAL,CAAqBmT,QAAQ,CAACM,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAA7B,EAA6Cd,aAA7C,CAA2DQ,QAAQ,CAACM,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAnE,EAAmFC,YAA1F;AACH,KAHD,MAIK;AACDD,MAAAA,KAAK,GAAK9I,IAAI,CAACyI,OAAL,CAAa,KAAKxc,OAAL,CAAaoB,EAA1B,EAA8B,EAA9B,CAAD,CAAoCob,OAApC,CAA4C,6BAA5C,EAA2E,EAA3E,EAA+EA,OAA/E,CAAuF,OAAvF,EAAgG,EAAhG,CAAD,CAAsGd,KAAtG,CAA4G,GAA5G,CAAR;AACA,aAAQ,KAAKtS,eAAL,CAAqBmT,QAAQ,CAACM,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAA7B,EAA6CE,gBAA7C,CAA8DR,QAAQ,CAACM,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAtE,EACHG,UADG,CACQT,QAAQ,CAACM,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CADhB,EACgC9I,IADxC;AAEH;AACJ,GAXD;AAYA;AACJ;AACA;AACA;AACA;AACA;;;AACIjU,EAAAA,KAAK,CAAChG,SAAN,CAAgB2c,gBAAhB,GAAmC,UAAUwC,CAAV,EAAa;AAC5C,QAAIU,KAAJ;AACA,QAAIC,KAAJ;AACA,QAAI1f,MAAJ;AACA,QAAIygB,QAAJ;AACA,QAAIsC,MAAM,GAAGxhB,OAAO,CAACyhB,QAAR,GAAmB,EAAnB,GAAwB,EAArC;AACA,QAAIvT,IAAI,GAAG,KAAK3J,OAAL,CAAaqK,qBAAb,EAAX;AACA,QAAIrK,OAAO,GAAGiZ,CAAC,CAAC/e,MAAhB;AACA,SAAKwK,OAAL,CAAa9F,cAAb,EAA6B;AAAE1E,MAAAA,MAAM,EAAE8F,OAAO,CAACoB,EAAlB;AAAsBwI,MAAAA,CAAC,EAAE,KAAKsP,MAA9B;AAAsCrP,MAAAA,CAAC,EAAE,KAAKyP;AAA9C,KAA7B;;AACA,QAAIL,CAAC,CAAC9R,IAAF,KAAW,YAAf,EAA6B;AACzB,WAAK6P,OAAL,GAAe,IAAf;AACA2D,MAAAA,QAAQ,GAAG1B,CAAX;AACAU,MAAAA,KAAK,GAAGgB,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BC,OAAnC;AACAO,MAAAA,KAAK,GAAGe,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BG,OAAnC;AACArf,MAAAA,MAAM,GAAGygB,QAAQ,CAACzgB,MAAlB;AACH,KAND,MAOK;AACD,WAAK8c,OAAL,GAAeiC,CAAC,CAAChB,WAAF,KAAkB,OAAjC;AACA0B,MAAAA,KAAK,GAAGV,CAAC,CAACI,OAAV;AACAO,MAAAA,KAAK,GAAGX,CAAC,CAACM,OAAV;AACArf,MAAAA,MAAM,GAAG+e,CAAC,CAAC/e,MAAX;AACH;;AACD,QAAIoQ,OAAO,GAAGlL,UAAU,CAAC,KAAK6E,KAAN,CAAV,CAAuBoG,qBAAvB,EAAd;AACA,SAAK8S,UAAL,GAAkB,KAAKC,kBAAL,GAA2BzD,KAAK,GAAGhQ,IAAI,CAACa,IAAd,GAAsBC,IAAI,CAACC,GAAL,CAASJ,OAAO,CAACE,IAAR,GAAeb,IAAI,CAACa,IAA7B,EAAmC,CAAnC,CAAlE;AACA,SAAK6S,UAAL,GAAkB,KAAKC,kBAAL,GAA2B1D,KAAK,GAAGjQ,IAAI,CAACgB,GAAd,GAAqBF,IAAI,CAACC,GAAL,CAASJ,OAAO,CAACK,GAAR,GAAchB,IAAI,CAACgB,GAA5B,EAAiC,CAAjC,CAAjE;;AACA,QAAI,KAAKqM,OAAT,EAAkB;AACd,WAAKuG,WAAL,GAAoB,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,KAAKC,SAA5B,IAAyCxjB,MAAM,CAACkH,EAAP,CAAUe,OAAV,CAAkB,KAAKnC,OAAL,CAAaoB,EAAb,GAAkB,WAApC,MAAqD,CAAC,CAA/F,KACf,KAAK+b,UAAL,GAAkBF,MAAlB,IAA4B,KAAK/D,MAAjC,IAA2C,KAAKiE,UAAL,GAAkBF,MAAlB,IAA4B,KAAK/D,MAD7D,MAEf,KAAKmE,UAAL,GAAkBJ,MAAlB,IAA4B,KAAK3D,MAAjC,IAA2C,KAAK+D,UAAL,GAAkBJ,MAAlB,IAA4B,KAAK3D,MAF7D,MAGf,KAAKJ,MAAL,GAAc+D,MAAd,IAAwB,KAAKE,UAA7B,IAA2C,KAAKjE,MAAL,GAAc+D,MAAd,IAAwB,KAAKE,UAHzD,MAIf,KAAK7D,MAAL,GAAc2D,MAAd,IAAwB,KAAKI,UAA7B,IAA2C,KAAK/D,MAAL,GAAc2D,MAAd,IAAwB,KAAKI,UAJzD,CAApB;AAKH;;AACD,QAAI,KAAKjB,iBAAT,EAA4B;AACxB,WAAKA,iBAAL,CAAuBuB,cAAvB;AACH;;AACD,SAAKjE,MAAL,CAAYje,OAAO,CAACya,eAApB,EAAqC+C,CAArC;AACA,WAAO,KAAP;AACH,GArCD;AAsCA;AACJ;AACA;AACA;AACA;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB6c,QAAhB,GAA2B,UAAUsC,CAAV,EAAa;AACpC,QAAIW,KAAJ;AACA,QAAID,KAAJ;AACA,QAAIgB,QAAJ;;AACA,QAAI1B,CAAC,CAAC9R,IAAF,KAAW,UAAf,EAA2B;AACvBwT,MAAAA,QAAQ,GAAG1B,CAAX;AACAU,MAAAA,KAAK,GAAGgB,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BC,OAAnC;AACA,WAAKrC,OAAL,GAAe,IAAf;AACA4C,MAAAA,KAAK,GAAGe,QAAQ,CAACvB,cAAT,CAAwB,CAAxB,EAA2BG,OAAnC;AACH,KALD,MAMK;AACDK,MAAAA,KAAK,GAAGX,CAAC,CAACM,OAAV;AACAI,MAAAA,KAAK,GAAGV,CAAC,CAACI,OAAV;AACA,WAAKrC,OAAL,GAAeiC,CAAC,CAAChB,WAAF,KAAkB,OAAlB,IAA6BgB,CAAC,CAAChB,WAAF,KAAkB,GAA9D;AACH;;AACD,SAAKwB,UAAL,CAAgBE,KAAhB,EAAuBC,KAAvB;AACA,SAAKgE,cAAL,CAAoB3E,CAApB;AACA,WAAO,KAAP;AACH,GAlBD;AAmBA;AACJ;AACA;AACA;AACA;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB8jB,cAAhB,GAAiC,UAAU3E,CAAV,EAAa;AAC1C,QAAIjZ,OAAO,GAAGiZ,CAAC,CAAC/e,MAAhB;AACA,SAAKwK,OAAL,CAAa5F,YAAb,EAA2B;AAAE5E,MAAAA,MAAM,EAAE8F,OAAO,CAACoB,EAAlB;AAAsBwI,MAAAA,CAAC,EAAE,KAAKsP,MAA9B;AAAsCrP,MAAAA,CAAC,EAAE,KAAKyP;AAA9C,KAA3B;AACA,SAAKwB,WAAL,GAAmB,KAAnB;;AACA,QAAI,KAAK9D,OAAT,EAAkB;AACd,WAAKkF,YAAL,CAAkBjD,CAAlB,EAAqB,KAAKC,MAA1B,EAAkC,KAAKI,MAAvC,EAA+C,KAAKtC,OAApD;AACA,WAAKmF,WAAL,CAAiBlD,CAAjB,EAAoB,KAAKC,MAAzB,EAAiC,KAAKI,MAAtC,EAA8C,KAAKtC,OAAnD;AACA,WAAK0G,SAAL,GAAiB,IAAIF,IAAJ,GAAWC,OAAX,KAAuB,GAAxC;AACH;;AACD,QAAI,KAAKrB,iBAAT,EAA4B;AACxB,WAAKA,iBAAL,CAAuByB,YAAvB;AACH;;AACD,QAAI,CAAC,KAAK3Z,YAAN,IAAsB,KAAK4G,cAA/B,EAA+C;AAC3C,WAAKA,cAAL,CAAoBgT,eAApB,CAAoC,WAApC;AACH;;AACD,SAAKpE,MAAL,CAAYje,OAAO,CAAC6a,aAApB,EAAmC2C,CAAnC;AACA,WAAO,KAAP;AACH,GAjBD;AAkBA;AACJ;AACA;;;AACInZ,EAAAA,KAAK,CAAChG,SAAN,CAAgB4I,UAAhB,GAA6B,YAAY;AACrC,SAAKqb,IAAL,GAAY,IAAI9iB,oBAAJ,EAAZ;AACA,SAAK+iB,kBAAL;AACA,SAAKrY,YAAL,GAAoB,IAAIzK,IAAJ,CAAS,KAAKiG,aAAL,EAAT,EAA+B,KAAK8c,qBAApC,EAA2D,KAAKC,MAAhE,CAApB;AACH,GAJD;AAKA;AACJ;AACA;;;AACIpe,EAAAA,KAAK,CAAChG,SAAN,CAAgBqkB,kBAAhB,GAAqC,UAAUC,eAAV,EAA2BC,OAA3B,EAAoC;AACrE,QAAIC,UAAU,GAAGlf,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,yBAAnB,CAA3B;AACA,QAAImd,UAAU,GAAG,KAAKC,WAAL,CAAiBJ,eAAjB,CAAjB;AACA,QAAIpe,OAAJ;;AACA,QAAIqe,OAAO,KAAK,IAAhB,EAAsB;AAClBE,MAAAA,UAAU,CAACF,OAAX,GAAqBA,OAArB;;AACA,UAAIC,UAAJ,EAAgB;AACZpiB,QAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,cAAlB,GAAmCgd,eAApC,CAAb;AACApe,QAAAA,OAAO,GAAG,KAAKwL,aAAL,CAAmB,KAAnB,CAAV;AACA,aAAKoC,gBAAL,CAAsB6Q,iBAAtB,CAAwCF,UAAxC,EAAoDH,eAApD,EAAqEpe,OAArE;AACAse,QAAAA,UAAU,CAACrU,WAAX,CAAuBjK,OAAO,CAAC0e,QAAR,CAAiB,CAAjB,CAAvB;AACH,OALD,MAMK;AACD,aAAK9Q,gBAAL,CAAsBC,iBAAtB,CAAwCzO,UAAU,CAAC,KAAKY,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAAlD;AACH;AACJ;AACJ,GAhBD;AAiBA;AACJ;AACA;;;AACItB,EAAAA,KAAK,CAAChG,SAAN,CAAgBkkB,kBAAhB,GAAqC,YAAY;AAC7C,SAAKC,qBAAL,GAA6B;AACzBU,MAAAA,MAAM,EAAE,SADiB;AAEzBC,MAAAA,IAAI,EAAE,MAFmB;AAGzBC,MAAAA,OAAO,EAAE,UAHgB;AAIzBC,MAAAA,GAAG,EAAE,KAJoB;AAKzBC,MAAAA,KAAK,EAAE,OALkB;AAMzBC,MAAAA,SAAS,EAAE;AANc,KAA7B;AAQH,GATD;AAUA;AACJ;AACA;;;AACIlf,EAAAA,KAAK,CAAChG,SAAN,CAAgBmL,QAAhB,GAA2B,YAAY;AACnC;AACA,SAAKqO,UAAL,GAAkBtW,aAAa,CAAC,KAAKuH,KAAN,CAA/B;AACH,GAHD;AAIA;AACJ;AACA;AACA;AACA;AACA;;AACI;;;AACAzE,EAAAA,KAAK,CAAChG,SAAN,CAAgBmlB,eAAhB,GAAkC,YAAY;AAC1C,QAAIhf,KAAK,GAAG,IAAZ;;AACA,QAAIif,OAAO,GAAG,EAAd;AACA,QAAIlc,MAAM,GAAG,KAAKA,MAAlB;AACA,QAAImc,gBAAgB,GAAG,KAAvB;AACA,QAAIC,UAAJ;AACA,QAAIC,eAAe,GAAG,KAAtB;AACA,QAAIC,WAAW,GAAG,KAAlB;AACA,QAAIC,eAAe,GAAG,KAAtB;AACA,QAAInH,OAAO,GAAG,KAAKhL,YAAnB;AACA,SAAKzM,aAAL,GAAsBqC,MAAM,CAACzI,MAAP,GAAgB,CAAhB,KAAsByI,MAAM,CAAC,CAAD,CAAN,CAAUmE,IAAV,KAAmB,OAAnB,IAA8BnE,MAAM,CAAC,CAAD,CAAN,CAAUmE,IAAV,KAAmB,OAAvE,CAAD,GAAoF,YAApF,GAAmG,WAAxH;;AACA,QAAI,KAAKtE,OAAL,CAAawD,MAAjB,EAAyB;AACrB6Y,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,SADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACDzc,IAAAA,MAAM,CAAC0c,GAAP,CAAW,UAAUjX,KAAV,EAAiB;AACxBxI,MAAAA,KAAK,CAAC0f,QAAN,GAAkB1f,KAAK,CAACiG,cAAN,CAAqB1F,OAArB,KAAkCiI,KAAK,CAACjE,IAAN,KAAe,EAAhB,IAAuB,CAAC,CAACvE,KAAK,CAAC0f,QAAhE,CAAlB;AACAP,MAAAA,UAAU,GAAG3W,KAAK,CAACtB,IAAN,CAAWhF,OAAX,CAAmB,KAAnB,MAA8B,CAAC,CAA/B,GAAmCsG,KAAK,CAACtB,IAAN,CAAWqV,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,IAAgC,QAAnE,GAA8E/T,KAAK,CAACtB,IAAN,GAAa,QAAxG;AACAkY,MAAAA,eAAe,GAAG5W,KAAK,CAACmX,QAAN,CAAepf,OAAf,IAA0B6e,eAA5C;AACAE,MAAAA,eAAe,GAAG9W,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBnI,OAAvB,IAAkC+e,eAApD;AACAD,MAAAA,WAAW,GAAG7W,KAAK,CAACoX,YAAN,CAAmBxZ,MAAnB,IAA6BiZ,WAA3C;;AACA,UAAI,CAACJ,OAAO,CAACY,IAAR,CAAa,UAAUC,aAAV,EAAyB;AACvC,eAAOA,aAAa,CAACP,MAAd,KAAyBJ,UAAhC;AACH,OAFI,CAAL,EAEI;AACAF,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAEJ,UADC;AAETK,UAAAA,IAAI,EAAE,CAACxf,KAAD,EAAQ+C,MAAR;AAFG,SAAb;AAIH;;AACD,UAAI/C,KAAK,CAACU,aAAN,KAAwB,YAA5B,EAA0C;AACtCue,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE/W,KAAK,CAACrB,QAAN,GAAiB,QADhB;AAETqY,UAAAA,IAAI,EAAE,CAACxf,KAAD,EAAQ+C,MAAR;AAFG,SAAb;AAIH;;AACD,UAAIyF,KAAK,CAACtB,IAAN,KAAe,QAAnB,EAA6B;AACzB+X,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,cADC;AAETC,UAAAA,IAAI,EAAE,CAACxf,KAAD,EAAQ+C,MAAR;AAFG,SAAb;AAIAkc,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,YADC;AAETC,UAAAA,IAAI,EAAE,CAACxf,KAAD,EAAQ+C,MAAR;AAFG,SAAb;AAIH;AACJ,KA9BD;AA+BA,SAAKgd,oBAAL,CAA0Bd,OAA1B;AACA,SAAKe,oBAAL,CAA0Bf,OAA1B;AACAA,IAAAA,OAAO,GAAG,KAAKgB,cAAL,CAAoBhB,OAApB,CAAV;AACAC,IAAAA,gBAAgB,GAAG,KAAKX,WAAL,CAAiBsB,IAAjB,CAAsB,UAAUrX,KAAV,EAAiB;AACtD,aAAQA,KAAK,CAAC4V,OAAN,KAAkB,IAA1B;AACH,KAFkB,CAAnB;;AAGA,QAAIgB,eAAJ,EAAqB;AACjBH,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,UADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD,EAAOzc,MAAP;AAFG,OAAb;AAIH;;AACD,QAAI,KAAK2c,QAAT,EAAmB;AACfT,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,QADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI,KAAKU,YAAL,IAAqB,KAAKC,WAA9B,EAA2C;AACvClB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,QADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI,KAAK9e,aAAL,KAAuB,YAAvB,IAAuC,CAAC,KAAK+Q,oBAA7C,KAAsE0G,OAAO,CAACE,sBAAR,IACnEF,OAAO,CAACiI,uBAD2D,IAChCjI,OAAO,CAACG,kBADwB,IACFH,OAAO,CAAC3K,SADN,IACmB2K,OAAO,CAAC/K,eADjG,CAAJ,EACuH;AACnH6R,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD,EAAO,KAAKrS,YAAZ;AAFG,OAAb;;AAIA,UAAIgL,OAAO,CAAC/K,eAAZ,EAA6B;AACzB6R,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,WADC;AAETC,UAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,SAAb;AAIH;AACJ;;AACD,QAAI,KAAK7X,aAAL,KAAuB,MAAvB,IAAiC,EAAE,KAAKjH,aAAL,KAAuB,YAAvB,IACnC,KAAKiH,aAAL,CAAmBzF,OAAnB,CAA2B,MAA3B,IAAqC,CAAC,CADL,CAArC,EAC8C;AAC1C+c,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI,KAAKjH,aAAL,KAAuB,MAA3B,EAAmC;AAC/B0G,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIF,eAAJ,EAAqB;AACjBL,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD,EAAOzc,MAAP;AAFG,OAAb;AAIH;;AACD,QAAIsc,WAAJ,EAAiB;AACbJ,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,aADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIN,gBAAJ,EAAsB;AAClBD,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,YADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI,KAAK9e,aAAL,KAAuB,YAAvB,IAAuC,KAAKkX,SAAL,CAAexR,MAA1D,EAAkE;AAC9D6Y,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,WAAOP,OAAP;AACH,GA3HD;;AA4HApf,EAAAA,KAAK,CAAChG,SAAN,CAAgBomB,cAAhB,GAAiC,UAAUhB,OAAV,EAAmB;AAChD,QAAI9V,eAAe,GAAG,EAAtB;AACAA,IAAAA,eAAe,CAACuH,IAAhB,CAAqB,KAAKO,YAA1B;AACA9H,IAAAA,eAAe,CAACuH,IAAhB,CAAqB,KAAKQ,YAA1B;AACA/H,IAAAA,eAAe,GAAGA,eAAe,CAACgI,MAAhB,CAAuB,KAAKH,IAA5B,CAAlB;AACA,QAAIqP,eAAe,GAAG,KAAtB;AACA,QAAIC,eAAe,GAAG,KAAtB;AACA,QAAIC,kBAAkB,GAAG,KAAzB;AACA,QAAIC,gBAAgB,GAAG,KAAvB;AACA,QAAIC,uBAAuB,GAAG,KAA9B;AACA,QAAIC,iBAAiB,GAAG,KAAxB;;AACA,SAAK,IAAIjf,EAAE,GAAG,CAAT,EAAYkf,iBAAiB,GAAGxX,eAArC,EAAsD1H,EAAE,GAAGkf,iBAAiB,CAACrmB,MAA7E,EAAqFmH,EAAE,EAAvF,EAA2F;AACvF,UAAIsP,IAAI,GAAG4P,iBAAiB,CAAClf,EAAD,CAA5B;AACA4e,MAAAA,eAAe,GAAGtP,IAAI,CAAC6P,SAAL,KAAmB,UAAnB,IAAiCP,eAAnD;AACAC,MAAAA,eAAe,GAAGvP,IAAI,CAAC6P,SAAL,KAAmB,UAAnB,IAAiCN,eAAnD;AACAC,MAAAA,kBAAkB,GAAGxP,IAAI,CAAC6P,SAAL,KAAmB,aAAnB,IAAoCL,kBAAzD;AACAE,MAAAA,uBAAuB,GAAG1P,IAAI,CAAC6P,SAAL,KAAmB,kBAAnB,IAAyCH,uBAAnE;AACAD,MAAAA,gBAAgB,GAAG,KAAKK,uBAAL,CAA6B9P,IAAI,CAAC+P,UAAlC,KAAiDN,gBAApE;AACAE,MAAAA,iBAAiB,GAAG3P,IAAI,CAAC+L,gBAAL,CAAsBxiB,MAAtB,GAA+B,CAA/B,IAAoComB,iBAAxD;AACA,WAAKjP,oBAAL,GAA4BV,IAAI,CAACgQ,iBAAL,CAAuB3a,MAAvB,GAAgC,IAAhC,GAAuC,KAAKqL,oBAAxE;AACH;;AACD,QAAI4O,eAAJ,EAAqB;AACjBpB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,UADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIc,eAAJ,EAAqB;AACjBrB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,UADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIe,kBAAJ,EAAwB;AACpBtB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,aADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIgB,gBAAJ,EAAsB;AAClBvB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIkB,iBAAJ,EAAuB;AACnBzB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,iBADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAIiB,uBAAJ,EAA6B;AACzBxB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,kBADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI,KAAK/N,oBAAT,EAA+B;AAC3BwN,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,WAAOP,OAAP;AACH,GAhED;;AAiEApf,EAAAA,KAAK,CAAChG,SAAN,CAAgBkmB,oBAAhB,GAAuC,UAAUd,OAAV,EAAmB;AACtD,QAAI+B,UAAJ;AACA,QAAIC,UAAJ;AACA,QAAInW,UAAU,GAAG,KAAKA,UAAtB;;AACA,QAAI,KAAKA,UAAL,CAAgBxQ,MAApB,EAA4B;AACxB2kB,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,YADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIA1U,MAAAA,UAAU,CAAC2U,GAAX,CAAe,UAAU3S,SAAV,EAAqB;AAChCkU,QAAAA,UAAU,GAAGA,UAAU,IAAIlU,SAAS,CAAC5F,IAAV,KAAmB,MAA9C;AACA+Z,QAAAA,UAAU,GAAGA,UAAU,IAAInU,SAAS,CAAC5F,IAAV,KAAmB,gBAA9C;AACH,OAHD;;AAIA,UAAI8Z,UAAJ,EAAgB;AACZ/B,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,cADC;AAETC,UAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,SAAb;AAIH;;AACD,UAAIyB,UAAJ,EAAgB;AACZhC,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,iBADC;AAETC,UAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,SAAb;AAIH;;AACD,UAAIyB,UAAJ,EAAgB;AACZhC,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,uBADC;AAETC,UAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,SAAb;AAIH;;AACD,WAAK,IAAI/d,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKyD,UAA3B,EAAuCrJ,EAAE,GAAG4F,EAAE,CAAC/M,MAA/C,EAAuDmH,EAAE,EAAzD,EAA6D;AACzD,YAAIqL,SAAS,GAAGzF,EAAE,CAAC5F,EAAD,CAAlB;AACAwd,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAEzS,SAAS,CAAC5F,IAAV,GAAiB,WADhB;AAETsY,UAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,SAAb;AAIH;AACJ;AACJ,GAvCD;;AAwCA3f,EAAAA,KAAK,CAAChG,SAAN,CAAgBmmB,oBAAhB,GAAuC,UAAUf,OAAV,EAAmB;AACtD,QAAIiC,MAAJ;AACA,QAAIC,QAAJ;;AACA,QAAIC,OAAO,GAAG,UAAUre,MAAV,EAAkB;AAC5B,UAAIse,YAAJ;AACAte,MAAAA,MAAM,CAACqI,UAAP,CAAkBqU,GAAlB,CAAsB,UAAUrP,SAAV,EAAqB;AACvCiR,QAAAA,YAAY,GAAGA,YAAY,IAAIjR,SAAS,CAAC3H,MAAV,CAAiBlI,OAAhD;AACA2gB,QAAAA,MAAM,GAAGA,MAAM,IAAK9Q,SAAS,CAAClJ,IAAV,KAAmB,QAAnB,IAA+BkJ,SAAS,CAAClJ,IAAV,KAAmB,eAA7D,GAAgF,IAAhF,GAAuF,KAAhG;AACAia,QAAAA,QAAQ,GAAGA,QAAQ,IAAI,CAACD,MAAb,GAAsB,IAAtB,GAA6B,KAAxC;AACH,OAJD;;AAKA,UAAIG,YAAJ,EAAkB;AACdpC,QAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,UAAAA,MAAM,EAAE,QADC;AAETC,UAAAA,IAAI,EAAE,CAAC8B,MAAD,EAASve,MAAT;AAFG,SAAb;AAIH;AACJ,KAbD;;AAcA,QAAIue,MAAM,GAAG,IAAb;;AACA,SAAK,IAAI7f,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAKtE,MAA3B,EAAmCtB,EAAE,GAAG4F,EAAE,CAAC/M,MAA3C,EAAmDmH,EAAE,EAArD,EAAyD;AACrD,UAAIsB,MAAM,GAAGsE,EAAE,CAAC5F,EAAD,CAAf;;AACA2f,MAAAA,OAAO,CAACre,MAAD,CAAP;AACH;;AACD,QAAIme,MAAM,IAAIC,QAAd,EAAwB;AACpBlC,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,WADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI0B,MAAJ,EAAY;AACRjC,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,YADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;;AACD,QAAI2B,QAAJ,EAAc;AACVlC,MAAAA,OAAO,CAACvO,IAAR,CAAa;AACT6O,QAAAA,MAAM,EAAE,cADC;AAETC,QAAAA,IAAI,EAAE,CAAC,IAAD;AAFG,OAAb;AAIH;AACJ,GAxCD;;AAyCA3f,EAAAA,KAAK,CAAChG,SAAN,CAAgBgnB,uBAAhB,GAA0C,UAAUU,UAAV,EAAsB;AAC5D,QAAIhhB,OAAO,GAAG,KAAd;;AACA,SAAK,IAAIkB,EAAE,GAAG,CAAT,EAAY+f,YAAY,GAAGD,UAAhC,EAA4C9f,EAAE,GAAG+f,YAAY,CAAClnB,MAA9D,EAAsEmH,EAAE,EAAxE,EAA4E;AACxE,UAAIggB,SAAS,GAAGD,YAAY,CAAC/f,EAAD,CAA5B;;AACA,UAAIggB,SAAS,CAAClhB,OAAd,EAAuB;AACnBA,QAAAA,OAAO,GAAG,IAAV;AACA;AACH;AACJ;;AACD,WAAOA,OAAP;AACH,GAVD;AAWA;AACJ;AACA;AACA;AACA;;;AACIV,EAAAA,KAAK,CAAChG,SAAN,CAAgB+b,SAAhB,GAA4B,YAAY;AACpC,QAAI,KAAK9P,MAAT,EAAiB;AACb,aAAO,IAAP;AACH;;AACD3J,IAAAA,oBAAoB,CAAC,IAAD,CAApB;;AACA,QAAI,KAAK8H,YAAL,IAAqB,KAAKgG,SAA1B,IAAuC,KAAKA,SAAL,CAAeoB,OAAf,KAA2B,QAAtE,EAAgF;AAC5E,WAAKxC,QAAL,CAAc6Y,SAAd,CAAwB,IAAIhkB,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,KAAKmO,aAAL,CAAmBlM,KAAlC,EAAyC,KAAKkM,aAAL,CAAmBhC,MAA5D,CAAxB;;AACA,UAAI,KAAKI,SAAL,CAAeoU,UAAnB,EAA+B;AAC3B/iB,QAAAA,MAAM,CAAC,KAAK2O,SAAN,CAAN;AACH;;AACD,aAAO,IAAP;AACH;;AACDhO,IAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,oBAAnB,CAAb;;AACA,QAAI,KAAKuU,OAAT,EAAkB;AACd,WAAKC,aAAL;AACH;;AACD,QAAIgM,YAAY,GAAG,CAAnB;;AACA,QAAI,KAAKzU,UAAL,IAAmB,KAAKA,UAAL,CAAgB0U,WAAvC,EAAoD;AAChD,WAAK1U,UAAL,CAAgB0U,WAAhB,CAA4BzgB,EAA5B,GAAiC,EAAjC;AACA,WAAK+L,UAAL,CAAgB0U,WAAhB,CAA4B1e,YAA5B,CAAyC,SAAzC,EAAoD,GAApD;AACA,WAAK+G,SAAL,CAAeD,WAAf,CAA2B,KAAKkD,UAAL,CAAgB0U,WAA3C;AACAD,MAAAA,YAAY,GAAG,CAAf;AACH,KAtBmC,CAuBpC;;;AACA,QAAI,CAACxmB,iBAAiB,CAAC,KAAKmf,QAAN,CAAtB,EAAuC;AACnC,UAAI,KAAKA,QAAL,KAAkB,KAAKha,WAAvB,IAAsC,KAAK+B,QAA3C,IAAuD,KAAKtC,OAAL,CAAauN,iBAAxE,EAA2F;AACvF,YAAIuU,mBAAmB,GAAG/d,QAAQ,CAACge,gBAAT,CAA0B,UAA1B,CAA1B;;AACA,aAAK,IAAIvV,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGsV,mBAAmB,CAACvnB,MAAhD,EAAwDiS,KAAK,EAA7D,EAAiE;AAC7D,cAAIwV,SAAS,GAAGF,mBAAmB,CAACtV,KAAD,CAAnC;;AACA,iBAAOwV,SAAS,CAACC,UAAjB,EAA6B;AACzB1mB,YAAAA,MAAM,CAACymB,SAAS,CAACC,UAAX,CAAN;AACH;AACJ;AACJ;;AACD,WAAK1hB,WAAL,GAAmB,KAAKga,QAAxB;AACH;;AACD,QAAI,KAAKrQ,SAAT,EAAoB;AAChB,aAAO,KAAKA,SAAL,CAAegY,UAAf,CAA0B3nB,MAA1B,GAAmCqnB,YAA1C,EAAwD;AACpD,aAAK1X,SAAL,CAAeiY,WAAf,CAA2B,KAAKjY,SAAL,CAAe+X,UAA1C;AACH;;AACD,UAAI,CAAC,KAAK/X,SAAL,CAAekY,aAAf,EAAD,IAAmC,KAAKlY,SAAL,CAAeoU,UAAlD,IAAgE,CAAE,KAAK1b,UAA3E,EAAwF;AACpFrH,QAAAA,MAAM,CAAC,KAAK2O,SAAN,CAAN;AACH;AACJ;AACJ,GA5CD;;AA6CApK,EAAAA,KAAK,CAAChG,SAAN,CAAgB2J,iBAAhB,GAAoC,UAAU4e,WAAV,EAAuB;AACvD,SAAK,IAAI3gB,EAAE,GAAG,CAAT,EAAY4gB,aAAa,GAAGD,WAAjC,EAA8C3gB,EAAE,GAAG4gB,aAAa,CAAC/nB,MAAjE,EAAyEmH,EAAE,EAA3E,EAA+E;AAC3E,UAAI2K,IAAI,GAAGiW,aAAa,CAAC5gB,EAAD,CAAxB;AACA2K,MAAAA,IAAI,CAAC4E,IAAL,GAAY,EAAZ;AACH;AACJ,GALD;AAMA;AACJ;AACA;AACA;AACA;AACA;;;AACInR,EAAAA,KAAK,CAAChG,SAAN,CAAgB0J,WAAhB,GAA8B,YAAY;AACtC,QAAIwN,IAAI,GAAG,KAAKE,YAAhB;AACAF,IAAAA,IAAI,CAACrH,IAAL,GAAY,IAAIhM,IAAJ,CAASuJ,SAAT,EAAoBA,SAApB,EAA+B,CAA/B,EAAkC,CAAlC,CAAZ;AACA8J,IAAAA,IAAI,GAAG,KAAKG,YAAZ;AACAH,IAAAA,IAAI,CAACuR,UAAL,GAAkB,KAAlB;AACAvR,IAAAA,IAAI,CAACrH,IAAL,GAAY,IAAIhM,IAAJ,CAASuJ,SAAT,EAAoBA,SAApB,EAA+B,CAA/B,EAAkC,CAAlC,CAAZ;;AACA,SAAK,IAAIxF,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAG,KAAK2J,IAA3B,EAAiCvP,EAAE,GAAG4F,EAAE,CAAC/M,MAAzC,EAAiDmH,EAAE,EAAnD,EAAuD;AACnD,UAAI2K,IAAI,GAAG/E,EAAE,CAAC5F,EAAD,CAAb;AACAsP,MAAAA,IAAI,GAAG3E,IAAP;AACA2E,MAAAA,IAAI,CAACrH,IAAL,GAAY,IAAIhM,IAAJ,CAASuJ,SAAT,EAAoBA,SAApB,EAA+B,CAA/B,EAAkC,CAAlC,CAAZ;AACA8J,MAAAA,IAAI,CAACuR,UAAL,GAAkB,KAAlB;AACH;;AACD,QAAI,KAAKlR,kBAAL,IAA2B,KAAKrO,MAAL,CAAY,CAAZ,EAAemE,IAAf,KAAwB,QAAvD,EAAiE;AAC7D,WAAK,IAAII,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAK6J,kBAAL,CAAwBC,UAA9C,EAA0D/J,EAAE,GAAGC,EAAE,CAACjN,MAAlE,EAA0EgN,EAAE,EAA5E,EAAgF;AAC5E,YAAI8E,IAAI,GAAG7E,EAAE,CAACD,EAAD,CAAb;AACAyJ,QAAAA,IAAI,GAAG3E,IAAP;AACA2E,QAAAA,IAAI,CAACrH,IAAL,GAAY,IAAIhM,IAAJ,CAASuJ,SAAT,EAAoBA,SAApB,EAA+B,CAA/B,EAAkC,CAAlC,CAAZ;AACA8J,QAAAA,IAAI,CAACuR,UAAL,GAAkB,KAAlB;AACH;AACJ;AACJ,GApBD;;AAqBAziB,EAAAA,KAAK,CAAChG,SAAN,CAAgB0oB,UAAhB,GAA6B,UAAUxR,IAAV,EAAgB;AACzC,QAAI,CAACA,IAAI,CAACxM,IAAN,IAAc,CAACwM,IAAI,CAAC6P,SAAxB,EAAmC;AAC/B,aAAO,KAAP;AACH;;AACD,SAAKpd,iBAAL,CAAuB,KAAKE,OAA5B;AACA,SAAKF,iBAAL,CAAuB,KAAKC,IAA5B;AACA,SAAK6B,oBAAL;AACA,SAAKC,WAAL;AACA,WAAO,IAAP;AACH,GATD;AAUA;AACJ;AACA;;;AACI1F,EAAAA,KAAK,CAAChG,SAAN,CAAgB2oB,gBAAhB,GAAmC,UAAUrc,aAAV,EAAyBoG,KAAzB,EAAgC;AAC/D,SAAK,IAAI9K,EAAE,GAAG,CAAT,EAAYghB,eAAe,GAAGtc,aAAnC,EAAkD1E,EAAE,GAAGghB,eAAe,CAACnoB,MAAvE,EAA+EmH,EAAE,EAAjF,EAAqF;AACjF,UAAIsB,MAAM,GAAG0f,eAAe,CAAChhB,EAAD,CAA5B;;AACA,UAAI8K,KAAK,KAAKxJ,MAAM,CAACwJ,KAArB,EAA4B;AACxB,eAAOxJ,MAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GARD;AASA;AACJ;AACA;;;AACIlD,EAAAA,KAAK,CAAChG,SAAN,CAAgB6oB,eAAhB,GAAkC,YAAY;AAC1C,SAAKvd,sBAAL;AACA,SAAKC,uBAAL;AACA,SAAKC,cAAL;AACA,SAAK7B,iBAAL,CAAuB,KAAKE,OAA5B;AACA,SAAKF,iBAAL,CAAuB,KAAKC,IAA5B;AACA,SAAK6B,oBAAL;AACA,SAAKC,WAAL,CAAiB,KAAjB;;AACA,QAAI,CAAC,KAAKlD,QAAV,EAAoB;AAChB,WAAK4B,YAAL,GAAoB,KAAKc,cAAL,EAApB,GAA4C,KAAK6Q,SAAL,EAA5C;AACA,WAAKrS,WAAL;AACA,WAAKwC,YAAL;AACA,WAAKtB,OAAL,CAAa,QAAb,EAAuB;AAAEJ,QAAAA,KAAK,EAAE,KAAKhC,QAAL,GAAgB,EAAhB,GAAqB;AAA9B,OAAvB;AACH;AACJ,GAdD;AAeA;AACJ;AACA;;;AACIxC,EAAAA,KAAK,CAAChG,SAAN,CAAgB8oB,YAAhB,GAA+B,YAAY;AACvC1mB,IAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,sBAAnB,CAAb;AACAlF,IAAAA,aAAa,CAAC,KAAK8D,OAAL,CAAaoB,EAAb,GAAkB,sBAAnB,CAAb;AACH,GAHD;AAIA;AACJ;AACA;AACA;AACI;;;AACAtB,EAAAA,KAAK,CAAChG,SAAN,CAAgB+oB,iBAAhB,GAAoC,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AAC5D,QAAIja,QAAQ,GAAG,KAAf;AACA,QAAIka,aAAa,GAAG,KAApB;AACA,SAAK9f,aAAL,GAAqB,KAArB;AACA,QAAI8N,IAAJ;;AACA,QAAI,CAAC,KAAK3N,WAAV,EAAuB;AACnB,WAAK,IAAI3B,EAAE,GAAG,CAAT,EAAY4F,EAAE,GAAGhO,MAAM,CAACkI,IAAP,CAAYshB,OAAZ,CAAtB,EAA4CphB,EAAE,GAAG4F,EAAE,CAAC/M,MAApD,EAA4DmH,EAAE,EAA9D,EAAkE;AAC9D,YAAIuhB,IAAI,GAAG3b,EAAE,CAAC5F,EAAD,CAAb;;AACA,gBAAQuhB,IAAR;AACI,eAAK,cAAL;AACIjS,YAAAA,IAAI,GAAG8R,OAAO,CAAC5R,YAAf;AACA8R,YAAAA,aAAa,GAAG,KAAKR,UAAL,CAAgBxR,IAAhB,CAAhB;;AACA,gBAAI8R,OAAO,CAAC5R,YAAR,CAAqBgS,kBAAzB,EAA6C;AACzCpa,cAAAA,QAAQ,GAAG,IAAX;AACH;;AACD,gBAAI,CAACga,OAAO,CAAC5R,YAAR,CAAqBiS,gBAA1B,EAA4C;AACxCH,cAAAA,aAAa,GAAG,IAAhB;AACH;;AACD,gBAAI,CAAC5nB,iBAAiB,CAAC4V,IAAI,CAACoS,UAAN,CAAlB,IAAuC,CAAChoB,iBAAiB,CAAC4V,IAAI,CAACqS,eAAN,CAA7D,EAAqF;AACjF,mBAAKnS,YAAL,CAAkBoS,+BAAlB;AACH;;AACD;;AACJ,eAAK,cAAL;AACItS,YAAAA,IAAI,GAAG8R,OAAO,CAAC3R,YAAf;AACA6R,YAAAA,aAAa,GAAG,KAAKR,UAAL,CAAgBxR,IAAhB,CAAhB;;AACA,gBAAI8R,OAAO,CAAC3R,YAAR,CAAqB+R,kBAAzB,EAA6C;AACzCpa,cAAAA,QAAQ,GAAG,IAAX;AACH;;AACD,gBAAI,CAACga,OAAO,CAAC3R,YAAR,CAAqBgS,gBAA1B,EAA4C;AACxCH,cAAAA,aAAa,GAAG,IAAhB;AACH;;AACD,gBAAI,CAAC5nB,iBAAiB,CAAC4V,IAAI,CAACoS,UAAN,CAAlB,IAAuC,CAAChoB,iBAAiB,CAAC4V,IAAI,CAACqS,eAAN,CAA7D,EAAqF;AACjF,mBAAKlS,YAAL,CAAkBmS,+BAAlB;AACH;;AACD;;AACJ,eAAK,MAAL;AACI,iBAAK,IAAI/b,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGlO,MAAM,CAACkI,IAAP,CAAYshB,OAAO,CAAC7R,IAApB,CAAtB,EAAiD1J,EAAE,GAAGC,EAAE,CAACjN,MAAzD,EAAiEgN,EAAE,EAAnE,EAAuE;AACnE,kBAAIiF,KAAK,GAAGhF,EAAE,CAACD,EAAD,CAAd;AACAyJ,cAAAA,IAAI,GAAG8R,OAAO,CAAC7R,IAAR,CAAazE,KAAb,CAAP;AACAwW,cAAAA,aAAa,GAAGA,aAAa,IAAI,KAAKR,UAAL,CAAgBxR,IAAhB,CAAjC;;AACA,kBAAI,CAACA,IAAI,CAACmS,gBAAV,EAA4B;AACxBH,gBAAAA,aAAa,GAAG,IAAhB;AACH;;AACD,kBAAI,CAAC5nB,iBAAiB,CAAC4V,IAAI,CAACoS,UAAN,CAAlB,IAAuC,CAAChoB,iBAAiB,CAAC4V,IAAI,CAACqS,eAAN,CAA7D,EAAqF;AACjF,qBAAKpS,IAAL,CAAUzE,KAAV,EAAiB8W,+BAAjB;AACH;AACJ;;AACD;;AACJ,eAAK,QAAL;AACA,eAAK,OAAL;AACI,iBAAKte,cAAL;AACAge,YAAAA,aAAa,GAAG,IAAhB;AACA;;AACJ,eAAK,UAAL;AACA,eAAK,OAAL;AACIA,YAAAA,aAAa,GAAG,IAAhB;AACA;;AACJ,eAAK,YAAL;AACI,gBAAIF,OAAO,CAACvT,UAAR,KAAuBuT,OAAO,CAACvT,UAAR,CAAmBgU,IAAnB,IAA2BT,OAAO,CAACvT,UAAR,CAAmBiU,YAArE,CAAJ,EAAwF;AACpFR,cAAAA,aAAa,GAAG,IAAhB;AACH,aAFD,MAGK;AACDla,cAAAA,QAAQ,GAAG,IAAX;AACH;;AACD;;AACJ,eAAK,eAAL;AACI,gBAAIga,OAAO,CAACnT,aAAR,KAA0BmT,OAAO,CAACnT,aAAR,CAAsB4T,IAAtB,IAA8BT,OAAO,CAACnT,aAAR,CAAsB6T,YAA9E,CAAJ,EAAiG;AAC7FR,cAAAA,aAAa,GAAG,IAAhB;AACH,aAFD,MAGK;AACDla,cAAAA,QAAQ,GAAG,IAAX;AACH;;AACD;;AACJ,eAAK,QAAL;AACIA,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,YAAL;AACI,iBAAKtD,WAAL,CAAiB,KAAjB;AACAwd,YAAAA,aAAa,GAAG,IAAhB;AACA;;AACJ,eAAK,cAAL;AACI,iBAAKlO,OAAL;AACA;;AACJ,eAAK,QAAL;AACI,gBAAI/N,GAAG,GAAG,KAAK/D,MAAL,CAAYzI,MAAtB;AACA,gBAAIkpB,aAAa,GAAG,KAApB;AACA,gBAAIzgB,MAAM,GAAG,KAAK,CAAlB;AACA,gBAAI0gB,UAAU,GAAG,KAAK,CAAtB;;AACA,iBAAK,IAAI9oB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmM,GAApB,EAAyBnM,CAAC,EAA1B,EAA8B;AAC1BoI,cAAAA,MAAM,GAAG8f,OAAO,CAAC9f,MAAR,CAAepI,CAAf,CAAT,CAD0B,CAE1B;;AACA,kBAAI,KAAK0H,QAAL,IAAiBU,MAAjB,KAA6BA,MAAM,CAACxC,OAAP,KAAmBuiB,OAAO,CAAC/f,MAAR,CAAepI,CAAf,EAAkB4F,OAAtC,IAAkDwC,MAAM,CAAC2gB,QAAzD,IAC5B3gB,MAAM,CAAC0F,MADqB,IACX1F,MAAM,CAAC4gB,kBADI,IACkB5gB,MAAM,CAACmE,IADzB,IACiCnE,MAAM,CAAC6gB,WADxC,IACuD7gB,MAAM,CAAC8gB,QAD1F,CAAJ,EACyG;AACrGJ,gBAAAA,UAAU,GAAG,IAAb;AACH;;AACD,kBAAI1gB,MAAM,KAAKA,MAAM,CAACsL,UAAP,IAAqBtL,MAAM,CAAC4L,KAA5B,IAAqC5L,MAAM,CAAC4c,QAA5C,IAAwD5c,MAAM,CAAC+gB,KAA/D,IACX/gB,MAAM,CAACghB,KADI,IACKhhB,MAAM,CAACugB,IADZ,IACoBvgB,MAAM,CAACihB,IAD3B,IACmCjhB,MAAM,CAACkhB,GAD1C,IACiDlhB,MAAM,CAACmhB,IADxD,IACgEnhB,MAAM,CAACohB,KADvE,IAEXphB,MAAM,CAACiQ,IAFI,IAEIjQ,MAAM,CAACwB,IAFX,IAEmBxB,MAAM,CAAC0F,MAF1B,IAEoCgb,UAFzC,CAAV,EAEgE;AAC5DloB,gBAAAA,MAAM,CAAC,KAAKinB,gBAAL,CAAsB,KAAKrc,aAA3B,EAA0CxL,CAA1C,CAAD,EAA+CoI,MAA/C,EAAuD,IAAvD,EAA6D,IAA7D,CAAN;AACAygB,gBAAAA,aAAa,GAAG,IAAhB;AACH;AACJ;;AACD,gBAAIA,aAAJ,EAAmB;AACf,mBAAKre,sBAAL;AACA,mBAAKC,uBAAL;AACA,mBAAKC,cAAL;AACA,mBAAK7B,iBAAL,CAAuB,KAAKE,OAA5B;AACA,mBAAKF,iBAAL,CAAuB,KAAKC,IAA5B;AACA,mBAAK6B,oBAAL;AACA,mBAAKC,WAAL,CAAiB,KAAjB;AACAwd,cAAAA,aAAa,GAAG,IAAhB;AACH;;AACD;;AACJ,eAAK,YAAL;AACIA,YAAAA,aAAa,GAAG,IAAhB;AACA;;AACJ,eAAK,cAAL;AACI,gBAAIF,OAAO,CAAC1V,YAAR,CAAqBC,eAArB,IAAwC0V,OAAO,CAAC3V,YAAR,CAAqBC,eAAjE,EAAkF;AAC9E2V,cAAAA,aAAa,GAAG,IAAhB;AACH;;AACDla,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,YAAL;AACIA,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,WAAL;AACI,gBAAIga,OAAO,CAAClT,SAAR,CAAkBpG,MAAlB,IAA4BsZ,OAAO,CAAClT,SAAR,CAAkBpG,MAAlB,CAAyB5J,KAAzD,EAAgE;AAC5DojB,cAAAA,aAAa,GAAG,IAAhB;AACH;;AACDla,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,gBAAL;AACI,gBAAI,CAACga,OAAO,CAAC5c,cAAR,CAAuBiO,UAAxB,IAAsC,CAAC2O,OAAO,CAAC5c,cAAR,CAAuByO,OAAlE,EAA2E;AACvEqO,cAAAA,aAAa,GAAG,IAAhB;AACH;;AACDla,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,UAAL;AACI,iBAAK1D,sBAAL;AACA0D,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,qBAAL;AACI,gBAAI,KAAKjB,eAAT,EAA0B;AACtB,mBAAKA,eAAL,CAAqBwc,WAArB,GAAmC,KAAKzc,aAAxC;AACA,mBAAKC,eAAL,CAAqBiG,mBAArB,GAA2C,KAAKA,mBAAhD;AACA,mBAAKjG,eAAL,CAAqByc,OAArB,GAA+B,KAAKtkB,OAAL,CAAaoB,EAAb,GAAkB,sBAAjD;AACA,mBAAKyG,eAAL,CAAqBqG,eAArB,CAAqC,IAArC,EAA2C6U,OAAO,CAACnb,aAAnD,EAAkE,IAAlE;AACH;;AACD;;AACJ,eAAK,eAAL;AACI,gBAAI,KAAKC,eAAL,IAAwBib,OAAO,CAAClb,aAAhC,IAAiDkb,OAAO,CAAClb,aAAR,CAAsBzF,OAAtB,CAA8B,MAA9B,MAA0C,CAAC,CAAhG,EAAmG;AAC/F,mBAAK0F,eAAL,CAAqBwc,WAArB,GAAmC,KAAKzc,aAAxC;AACA,mBAAKC,eAAL,CAAqByc,OAArB,GAA+B,KAAKtkB,OAAL,CAAaoB,EAAb,GAAkB,sBAAjD;AACA,mBAAKyG,eAAL,CAAqBqG,eAArB,CAAqC,IAArC,EAA2C6U,OAAO,CAACnb,aAAnD,EAAkE,IAAlE;AACH;;AACD;;AACJ,eAAK,eAAL;AACI,gBAAI,KAAKC,eAAL,IAAwB,CAACib,OAAO,CAACyB,aAAjC,IAAkD,KAAK1c,eAAL,CAAqBiG,mBAArB,CAAyCvT,MAAzC,GAAkD,CAAxG,EAA2G;AACvG,mBAAKsN,eAAL,CAAqBwc,WAArB,GAAmC,KAAKzc,aAAxC;AACA,mBAAKC,eAAL,CAAqByc,OAArB,GAA+B,KAAKtkB,OAAL,CAAaoB,EAAb,GAAkB,sBAAjD;AACA,mBAAKyG,eAAL,CAAqBqG,eAArB,CAAqC,IAArC,EAA2C6U,OAAO,CAACnb,aAAnD;AACH;;AACD;;AACJ,eAAK,eAAL;AACA,eAAK,kBAAL;AACA,eAAK,kBAAL;AACI,iBAAKgb,YAAL;AACA9Z,YAAAA,QAAQ,GAAG,IAAX;AACA;;AACJ,eAAK,OAAL;AACI,iBAAK5F,aAAL,GAAqB,IAArB;AACA;;AACJ,eAAK,QAAL;AACA,eAAK,cAAL;AACI,gBAAI,KAAKZ,QAAT,EAAmB;AACf,mBAAKI,UAAL;AACAoG,cAAAA,QAAQ,GAAG,IAAX;AACH,aAHD,MAIK;AACD,mBAAKgM,OAAL;AACH;;AACD;;AACJ,eAAK,SAAL;AACI,gBAAI,KAAKlR,aAAT,EAAwB;AAAE;AACtB,mBAAKA,aAAL,CAAmBC,cAAnB,GAAoC,EAApC;;AACA,kBAAI,KAAKhB,OAAL,CAAa2hB,QAAjB,EAA2B;AACvB,qBAAK5gB,aAAL,CAAmB4gB,QAAnB,GAA8B,KAAK3hB,OAAL,CAAa2hB,QAA3C;AACH;AACJ;;AACD;AArLR;AAuLH;;AACD,UAAI,CAACxB,aAAD,IAAkBla,QAAtB,EAAgC;AAC5B,aAAK3I,2BAAL,GAAmC,EAAnC;AACA,aAAK0V,SAAL;AACA,aAAKlP,cAAL;AACA,aAAKjC,OAAL,CAAa,QAAb,EAAuB;AAAEJ,UAAAA,KAAK,EAAE,KAAKhC,QAAL,GAAgB,EAAhB,GAAqB;AAA9B,SAAvB;AACH;;AACD,UAAI0gB,aAAJ,EAAmB;AACf,aAAK9e,YAAL,GAAoB,KAAKc,cAAL,EAApB,GAA4C,KAAK6Q,SAAL,EAA5C;;AACA,YAAI,KAAKF,OAAT,EAAkB;AACd,eAAKC,aAAL;AACH;;AACD,aAAKpS,WAAL;AACA,aAAKwC,YAAL;AACA,aAAKtB,OAAL,CAAa,QAAb,EAAuB;AAAEJ,UAAAA,KAAK,EAAE,KAAKhC,QAAL,GAAgB,EAAhB,GAAqB;AAA9B,SAAvB;AACA,aAAKyD,MAAL,GAAc,KAAd;AACA,aAAK3F,QAAL,GAAgB,KAAhB;AACH;AACJ;AACJ,GAlND;;AAmNApG,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,OAFV,EAEmB,KAAK,CAFxB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,QAFV,EAEoB,KAAK,CAFzB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,OAFV,EAEmB,KAAK,CAFxB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,YAFV,EAEwB,KAAK,CAF7B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAACkB,KAAK,CAAC0nB,cAAP,EAAuBrnB,IAAvB,CADA,CAAD,EAEP0C,KAAK,CAAChG,SAFC,EAEU,YAFV,EAEwB,KAAK,CAF7B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,UAFV,EAEsB,KAAK,CAF3B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAACkB,KAAK,CAAC2nB,iBAAP,EAA0BtnB,IAA1B,CADA,CAAD,EAEP0C,KAAK,CAAChG,SAFC,EAEU,eAFV,EAE2B,KAAK,CAFhC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC,EAAD,EAAKoB,MAAL,CADA,CAAD,EAEP6C,KAAK,CAAChG,SAFC,EAEU,QAFV,EAEoB,KAAK,CAFzB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC;AAAE8D,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,KAAK,EAAE;AAA3B,GAAD,EAAiC1C,MAAjC,CADA,CAAD,EAEP4C,KAAK,CAAChG,SAFC,EAEU,QAFV,EAEoB,KAAK,CAFzB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,YAFV,EAEwB,KAAK,CAF7B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC;AAAE2N,IAAAA,MAAM,EAAE;AAAE7J,MAAAA,KAAK,EAAE,IAAT;AAAeC,MAAAA,KAAK,EAAE;AAAtB,KAAV;AAAuCuU,IAAAA,UAAU,EAAE;AAAnD,GAAD,EAAqEhX,SAArE,CADA,CAAD,EAEP2C,KAAK,CAAChG,SAFC,EAEU,WAFV,EAEuB,KAAK,CAF5B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC;AAAE2I,IAAAA,IAAI,EAAE;AAAR,GAAD,EAA2B/G,IAA3B,CADA,CAAD,EAEPqC,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC;AAAE2I,IAAAA,IAAI,EAAE;AAAR,GAAD,EAA2B/G,IAA3B,CADA,CAAD,EAEPqC,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,CAAC,EAAD,CAAD,EAAOyB,GAAP,CADH,CAAD,EAEPuC,KAAK,CAAChG,SAFC,EAEU,MAFV,EAEkB,KAAK,CAFvB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,CAAC,EAAD,CAAD,EAAO0B,MAAP,CADH,CAAD,EAEPsC,KAAK,CAAChG,SAFC,EAEU,SAFV,EAEqB,KAAK,CAF1B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,CAAC,EAAD,CAAD,EAAO2B,IAAP,CADH,CAAD,EAEPqC,KAAK,CAAChG,SAFC,EAEU,MAFV,EAEkB,KAAK,CAFvB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,CAAC,EAAD,CAAD,EAAOmC,MAAP,CADH,CAAD,EAEP6B,KAAK,CAAChG,SAFC,EAEU,QAFV,EAEoB,KAAK,CAFzB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,CAAC,EAAD,CAAD,EAAOqD,uBAAP,CADH,CAAD,EAEPW,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,UAFV,EAEsB,KAAK,CAF3B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,UAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,OAFV,EAEmB,KAAK,CAFxB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC,EAAD,EAAKyB,eAAL,CADA,CAAD,EAEPwC,KAAK,CAAChG,SAFC,EAEU,SAFV,EAEqB,KAAK,CAF1B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC,EAAD,EAAK6D,iBAAL,CADA,CAAD,EAEPI,KAAK,CAAChG,SAFC,EAEU,WAFV,EAEuB,KAAK,CAF5B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC,EAAD,EAAKuC,cAAL,CADA,CAAD,EAEP0B,KAAK,CAAChG,SAFC,EAEU,gBAFV,EAE4B,KAAK,CAFjC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,CAAC,EAAD,CAAD,EAAOyD,iBAAP,CADH,CAAD,EAEPO,KAAK,CAAChG,SAFC,EAEU,oBAFV,EAEgC,KAAK,CAFrC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP6B,OAAO,CAAC,EAAD,EAAKgE,YAAL,CADA,CAAD,EAEPC,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,EAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,gBAFV,EAE4B,KAAK,CAFjC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,eAFV,EAE2B,KAAK,CAFhC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,eAFV,EAE2B,KAAK,CAFhC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,kBAFV,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,MAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,kBAFV,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,eAFV,EAE2B,KAAK,CAFhC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,qBAFV,EAEiC,KAAK,CAFtC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,EAAD,EAAKuB,OAAL,CADH,CAAD,EAEPyC,KAAK,CAAChG,SAFC,EAEU,qBAFV,EAEiC,KAAK,CAFtC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,sBAFV,EAEkC,KAAK,CAFvC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,8BAFV,EAE0C,KAAK,CAF/C,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,iBAFV,EAE6B,KAAK,CAFlC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP8B,UAAU,CAAC,EAAD,EAAKuC,kBAAL,CADH,CAAD,EAEPyB,KAAK,CAAChG,SAFC,EAEU,YAFV,EAEwB,KAAK,CAF7B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,iBAFV,EAE6B,KAAK,CAFlC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,CAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,UAFV,EAEsB,KAAK,CAF3B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,IAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,2BAFV,EAEuC,KAAK,CAF5C,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,SAFV,EAEqB,KAAK,CAF1B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,kBAFV,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,QAFV,EAEoB,KAAK,CAFzB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,MAFV,EAEkB,KAAK,CAFvB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,mBAFV,EAE+B,KAAK,CAFpC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,YAFV,EAEwB,KAAK,CAF7B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,iBAFV,EAE6B,KAAK,CAFlC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,gBAFV,EAE4B,KAAK,CAFjC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,qBAFV,EAEiC,KAAK,CAFtC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,sBAFV,EAEkC,KAAK,CAFvC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,sBAFV,EAEkC,KAAK,CAFvC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,eAFV,EAE2B,KAAK,CAFhC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,qBAFV,EAEiC,KAAK,CAFtC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,gBAFV,EAE4B,KAAK,CAFjC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,iBAFV,EAE6B,KAAK,CAFlC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,kBAFV,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,YAFV,EAEwB,KAAK,CAF7B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,kBAFV,EAE8B,KAAK,CAFnC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,WAFV,EAEuB,KAAK,CAF5B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,iBAFV,EAE6B,KAAK,CAFlC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,gBAFV,EAE4B,KAAK,CAFjC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,mBAFV,EAE+B,KAAK,CAFpC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,WAFV,EAEuB,KAAK,CAF5B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,aAFV,EAEyB,KAAK,CAF9B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,WAFV,EAEuB,KAAK,CAF5B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,eAFV,EAE2B,KAAK,CAFhC,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,WAFV,EAEuB,KAAK,CAF5B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,MAFV,EAEkB,KAAK,CAFvB,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACP2B,KAAK,EADE,CAAD,EAEPmE,KAAK,CAAChG,SAFC,EAEU,SAFV,EAEqB,KAAK,CAF1B,CAAV;;AAGAE,EAAAA,UAAU,CAAC,CACPe,QAAQ,CAAC,KAAD,CADD,CAAD,EAEP+E,KAAK,CAAChG,SAFC,EAEU,cAFV,EAE0B,KAAK,CAF/B,CAAV;;AAGAgG,EAAAA,KAAK,GAAG9F,UAAU,CAAC,CACfgB,qBADe,CAAD,EAEf8E,KAFe,CAAlB;AAGA,SAAOA,KAAP;AACH,CA94E0B,CA84EzBhF,SA94EyB,CAA3B;;AA+4EA,SAASgF,KAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n/* eslint-disable jsdoc/require-returns */\r\n/* eslint-disable jsdoc/require-param */\r\n/* eslint-disable valid-jsdoc */\r\n/* eslint-disable @typescript-eslint/ban-types */\r\nimport { Component, Property, NotifyPropertyChanges, Internationalization } from '@syncfusion/ej2-base';\r\nimport { L10n, setValue, isNullOrUndefined, updateBlazorTemplate } from '@syncfusion/ej2-base';\r\nimport { ChildProperty } from '@syncfusion/ej2-base';\r\nimport { remove, extend } from '@syncfusion/ej2-base';\r\nimport { Browser, Touch } from '@syncfusion/ej2-base';\r\nimport { Event, EventHandler, Complex, Collection } from '@syncfusion/ej2-base';\r\nimport { findClipRect, showTooltip, ImageOption, removeElement, appendChildElement, blazorTemplatesReset } from '../common/utils/helper';\r\nimport { textElement, RectOption, createSvg, firstToLowerCase, titlePositionX, redrawElement, getTextAnchor } from '../common/utils/helper';\r\nimport { appendClipElement, ChartLocation } from '../common/utils/helper';\r\nimport { getSeriesColor, Theme, getThemeColor } from '../common/model/theme';\r\nimport { Margin, Border, ChartArea, Font, Indexes, TooltipSettings } from '../common/model/base';\r\nimport { Row, Column, Axis } from './axis/axis';\r\nimport { CartesianAxisLayoutPanel } from './axis/cartesian-panel';\r\nimport { Rect, measureText, TextOption, Size, SvgRenderer } from '@syncfusion/ej2-svg-base';\r\nimport { ChartData } from './utils/get-data';\r\nimport { Series } from './series/chart-series';\r\nimport { Data } from '../common/model/data';\r\nimport { Marker } from './series/marker';\r\nimport { LegendSettings } from '../common/legend/legend';\r\nimport { TechnicalIndicator } from './technical-indicators/technical-indicator';\r\nimport { chartMouseClick, chartDoubleClick, pointClick, pointDoubleClick, axisLabelClick, beforeResize } from '../common/model/constants';\r\nimport { chartMouseDown, chartMouseMove, chartMouseUp, load, pointMove, chartMouseLeave, resized } from '../common/model/constants';\r\nimport { ChartAnnotationSettings } from './model/chart-base';\r\nimport { getElement, getTitle } from '../common/utils/helper';\r\nimport { ExportUtils } from '../common/utils/export';\r\n/**\r\n * Configures the RangeColorSetting in the chart.\r\n */\r\nvar RangeColorSetting = /** @class */ (function (_super) {\r\n    __extends(RangeColorSetting, _super);\r\n    function RangeColorSetting() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property()\r\n    ], RangeColorSetting.prototype, \"start\", void 0);\r\n    __decorate([\r\n        Property()\r\n    ], RangeColorSetting.prototype, \"end\", void 0);\r\n    __decorate([\r\n        Property([])\r\n    ], RangeColorSetting.prototype, \"colors\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], RangeColorSetting.prototype, \"label\", void 0);\r\n    return RangeColorSetting;\r\n}(ChildProperty));\r\nexport { RangeColorSetting };\r\n/**\r\n * Configures the crosshair in the chart.\r\n */\r\nvar CrosshairSettings = /** @class */ (function (_super) {\r\n    __extends(CrosshairSettings, _super);\r\n    function CrosshairSettings() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property(false)\r\n    ], CrosshairSettings.prototype, \"enable\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], CrosshairSettings.prototype, \"dashArray\", void 0);\r\n    __decorate([\r\n        Complex({ color: null, width: 1 }, Border)\r\n    ], CrosshairSettings.prototype, \"line\", void 0);\r\n    __decorate([\r\n        Property('Both')\r\n    ], CrosshairSettings.prototype, \"lineType\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], CrosshairSettings.prototype, \"verticalLineColor\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], CrosshairSettings.prototype, \"horizontalLineColor\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], CrosshairSettings.prototype, \"opacity\", void 0);\r\n    return CrosshairSettings;\r\n}(ChildProperty));\r\nexport { CrosshairSettings };\r\n/**\r\n * Configures the zooming behavior for the chart.\r\n */\r\nvar ZoomSettings = /** @class */ (function (_super) {\r\n    __extends(ZoomSettings, _super);\r\n    function ZoomSettings() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    __decorate([\r\n        Property(false)\r\n    ], ZoomSettings.prototype, \"enableSelectionZooming\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], ZoomSettings.prototype, \"enablePinchZooming\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], ZoomSettings.prototype, \"enableMouseWheelZooming\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], ZoomSettings.prototype, \"enableDeferredZooming\", void 0);\r\n    __decorate([\r\n        Property('XY')\r\n    ], ZoomSettings.prototype, \"mode\", void 0);\r\n    __decorate([\r\n        Property(['Zoom', 'ZoomIn', 'ZoomOut', 'Pan', 'Reset'])\r\n    ], ZoomSettings.prototype, \"toolbarItems\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], ZoomSettings.prototype, \"enablePan\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], ZoomSettings.prototype, \"enableScrollbar\", void 0);\r\n    return ZoomSettings;\r\n}(ChildProperty));\r\nexport { ZoomSettings };\r\n/**\r\n * Represents the Chart control.\r\n * ```html\r\n * <div id=\"chart\"/>\r\n * <script>\r\n *   var chartObj = new Chart({ isResponsive : true });\r\n *   chartObj.appendTo(\"#chart\");\r\n * </script>\r\n * ```\r\n *\r\n * @public\r\n */\r\nvar Chart = /** @class */ (function (_super) {\r\n    __extends(Chart, _super);\r\n    /**\r\n     * Constructor for creating the widget\r\n     *\r\n     * @hidden\r\n     */\r\n    function Chart(options, element) {\r\n        var _this = _super.call(this, options, element) || this;\r\n        /** @private */\r\n        _this.rotatedDataLabelCollections = [];\r\n        /** @public */\r\n        _this.animated = false;\r\n        /** @private */\r\n        _this.isPointMouseDown = false;\r\n        /** @private */\r\n        _this.isScrolling = false;\r\n        /** @private */\r\n        _this.checkResize = 0;\r\n        /** @private */\r\n        _this.visible = 0;\r\n        /** @private */\r\n        _this.clickCount = 0;\r\n        /** @private */\r\n        _this.singleClickTimer = 0;\r\n        /** @private */\r\n        _this.chartAreaType = 'Cartesian';\r\n        /** @private */\r\n        _this.isRtlEnabled = false;\r\n        _this.chartid = 57723;\r\n        setValue('mergePersistData', _this.mergePersistChartData, _this);\r\n        return _this;\r\n    }\r\n    /**\r\n     * To manage persist chart data\r\n     */\r\n    Chart.prototype.mergePersistChartData = function () {\r\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\r\n        if (!(isNullOrUndefined(data) || (data === ''))) {\r\n            var dataObj = JSON.parse(data);\r\n            var keys = Object.keys(dataObj);\r\n            this.isProtectedOnChange = true;\r\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                var key = keys_1[_i];\r\n                if ((typeof this[key] === 'object') && !isNullOrUndefined(this[key])) {\r\n                    extend(this[key], dataObj[key]);\r\n                }\r\n                else {\r\n                    this[key] = dataObj[key];\r\n                }\r\n            }\r\n            this.isProtectedOnChange = false;\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param elementId\r\n     * Return the proper ID when the special character exist in the ID\r\n     */\r\n    Chart.prototype.isIdHasSpecialCharacter = function (elementId) {\r\n        var regex = /^[A-Za-z ]+$/;\r\n        var numberRegex = /^[0-9 ]+$/;\r\n        var childElementId = '';\r\n        if (!regex.test(elementId)) {\r\n            var start = 0;\r\n            if (numberRegex.test(elementId[0])) {\r\n                childElementId += ('\\\\3' + elementId[0]);\r\n                start = 1;\r\n            }\r\n            for (var i = start; i < elementId.length; i++) {\r\n                if (!regex.test(elementId[i]) && elementId.indexOf('-') === -1 &&\r\n                    elementId.indexOf('_') === -1 && elementId.indexOf('\\\\') === -1 && !numberRegex.test(elementId[i])) {\r\n                    childElementId += ('\\\\' + elementId[i]);\r\n                }\r\n                else {\r\n                    childElementId += elementId[i];\r\n                }\r\n            }\r\n            return childElementId;\r\n        }\r\n        else {\r\n            return elementId;\r\n        }\r\n    };\r\n    /**\r\n     * Initialize the event handler.\r\n     */\r\n    Chart.prototype.preRender = function () {\r\n        this.element.id = this.isIdHasSpecialCharacter(this.element.id);\r\n        // It is used for checking blazor framework or not.\r\n        var blazor = 'Blazor';\r\n        this.isBlazor = window[blazor];\r\n        this.allowServerDataBinding = false;\r\n        this.unWireEvents();\r\n        this.initPrivateVariable();\r\n        this.setCulture();\r\n        this.wireEvents();\r\n        if (this.stockChart) {\r\n            if (this.stockChart.tooltip.header === null) {\r\n                this.tooltip.header = '<b>${point.x}</b>';\r\n            }\r\n            if (this.stockChart.tooltip.format === null) {\r\n                this.tooltip.format = 'High : <b>${point.high}</b><br/>Low :' +\r\n                    ' <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>';\r\n                if (this.stockChart.series[0].volume !== '') {\r\n                    this.tooltip.format += '<br/>Volume : <b>${point.volume}</b>';\r\n                }\r\n            }\r\n            this.animateSeries = false;\r\n        }\r\n        this.element.setAttribute('dir', this.enableRtl ? 'rtl' : '');\r\n    };\r\n    Chart.prototype.initPrivateVariable = function () {\r\n        this.animateSeries = true;\r\n        this.delayRedraw = false;\r\n        this.horizontalAxes = [];\r\n        this.verticalAxes = [];\r\n        this.refreshAxis();\r\n        this.refreshDefinition(this.rows);\r\n        this.refreshDefinition(this.columns);\r\n        if (this.tooltipModule) {\r\n            this.tooltipModule.previousPoints = [];\r\n        }\r\n        if (this.element.id === '') {\r\n            var collection = document.getElementsByClassName('e-chart').length;\r\n            this.element.id = 'chart_' + this.chartid + '_' + collection;\r\n        }\r\n        //seperate ID to differentiate chart and stock chart\r\n        this.svgId = this.stockChart ? this.stockChart.element.id + '_stockChart_chart' :\r\n            this.element.id + (this.enableCanvas ? '_canvas' : '_svg');\r\n    };\r\n    /**\r\n     * To Initialize the control rendering.\r\n     */\r\n    Chart.prototype.render = function () {\r\n        var _this = this;\r\n        this.svgRenderer = new SvgRenderer(this.element.id);\r\n        var loadEventData = {\r\n            chart: this.isBlazor ? {} : this, theme: this.theme, name: load, cancel: false\r\n        };\r\n        if (!this.stockChart) {\r\n            /**\r\n             * Load event for the chart will be triggered only chart componet, if this is stock chart, load event did not triggered.\r\n             */\r\n            this.trigger(load, loadEventData, function () {\r\n                if (!loadEventData.cancel) {\r\n                    _this.cartesianChartRendering(loadEventData);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            // The fix is specific for nextjs app, as window is set as not defined for server side application like nextjs.\r\n            this.isRtlEnabled = (window.getComputedStyle(document.querySelector('body')).direction === 'rtl');\r\n            this.cartesianChartRendering(loadEventData);\r\n        }\r\n    };\r\n    Chart.prototype.cartesianChartRendering = function (beforeRenderData) {\r\n        this.theme = this.isBlazor ? beforeRenderData.theme : this.theme;\r\n        this.createChartSvg();\r\n        this.setTheme();\r\n        this.markerRender = new Marker(this);\r\n        this.calculateAreaType();\r\n        this.calculateVisibleSeries();\r\n        this.initTechnicalIndicators();\r\n        this.initTrendLines();\r\n        this.calculateVisibleAxis();\r\n        this.processData();\r\n        this.renderComplete();\r\n        this.allowServerDataBinding = true;\r\n    };\r\n    /**\r\n     * Gets the localized label by locale keyword.\r\n     *\r\n     * @param  {string} key key\r\n     * @returns {string} localized label\r\n     */\r\n    Chart.prototype.getLocalizedLabel = function (key) {\r\n        return this.localeObject.getConstant(key);\r\n    };\r\n    /**\r\n     * Animate the series bounds.\r\n     *\r\n     * @private\r\n     */\r\n    Chart.prototype.animate = function (duration) {\r\n        this.redraw = true;\r\n        this.animated = true; //used to set duration as 1000 for animation at default 300\r\n        this.duration = duration ? duration : 1000;\r\n    };\r\n    /**\r\n     * Refresh the chart bounds.\r\n     *\r\n     * @private\r\n     */\r\n    Chart.prototype.refreshBound = function () {\r\n        this.rotatedDataLabelCollections = [];\r\n        if (this.legendModule && this.legendSettings.visible) {\r\n            this.legendModule.getLegendOptions(this.visibleSeries, this);\r\n        }\r\n        /**\r\n         * I264230, EJ2-36761\r\n         * Issue: Tooltip doesnot appears after zooming and hovering on same point\r\n         * Root cause: While performing zoom, previous points in tooltip restore.\r\n         * Fix: previous points set to empty array\r\n         */\r\n        if (this.tooltip.enable && this.tooltipModule) {\r\n            this.tooltipModule.previousPoints = [];\r\n        }\r\n        this.calculateStackValues();\r\n        this.calculateBounds();\r\n        //this prevents the initial rendering of stock chart\r\n        if (this.stockChart && !this.stockChart.rangeFound) {\r\n            if (this.stockChart.enablePeriodSelector || this.stockChart.enableSelector) {\r\n                return null;\r\n            }\r\n        }\r\n        this.renderElements();\r\n        removeElement('chartmeasuretext');\r\n        this.removeSelection();\r\n        if (this.markerRender && !this.stockChart) {\r\n            this.markerRender.mergeXvalues(this.visibleSeries);\r\n        }\r\n    };\r\n    /**\r\n     * To calcualte the stack values\r\n     */\r\n    Chart.prototype.calculateStackValues = function () {\r\n        var series;\r\n        var isCalculateStacking = false;\r\n        for (var i = 0, len = this.visibleSeries.length; i < len; i++) {\r\n            series = this.visibleSeries[i];\r\n            series.position = series.rectCount = undefined;\r\n            if (((series.type.indexOf('Stacking') !== -1) || (series.drawType.indexOf('Stacking') !== -1\r\n                && this.chartAreaType === 'PolarRadar')) && !isCalculateStacking) {\r\n                series.calculateStackedValue(series.type.indexOf('100') > -1, this);\r\n                isCalculateStacking = true;\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.removeSelection = function () {\r\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            if (series.visible) {\r\n                for (var _b = 0, _c = series.points; _b < _c.length; _b++) {\r\n                    var point = _c[_b];\r\n                    point.isSelect = false;\r\n                }\r\n            }\r\n        }\r\n        if (getElement(this.element.id + '_ej2_drag_multi_group')) {\r\n            if (this.selectionMode.indexOf('Drag') > -1) {\r\n                this.selectionModule.filterArray = [];\r\n            }\r\n            removeElement(this.element.id + '_ej2_drag_multi_group');\r\n            this.selectionModule.calculateDragSelectedElements(this, new Rect(0, 0, 0, 0), true);\r\n        }\r\n        else if (getElement(this.element.id + '_ej2_drag_group')) {\r\n            if (this.selectionMode !== 'Lasso') {\r\n                this.selectionModule.filterArray = [];\r\n            }\r\n            removeElement(this.element.id + '_ej2_drag_group');\r\n            this.selectionModule.calculateDragSelectedElements(this, new Rect(0, 0, 0, 0), true);\r\n        }\r\n    };\r\n    Chart.prototype.renderElements = function () {\r\n        this.renderBorder();\r\n        this.renderTitle();\r\n        this.renderAreaBorder();\r\n        this.renderSeriesElements(this.renderAxes());\r\n        this.renderLegend();\r\n        this.applyZoomkit();\r\n        this.performSelection();\r\n        this.setSecondaryElementPosition();\r\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n            var value = _a[_i];\r\n            updateBlazorTemplate(this.element.id + '_DataLabel', 'Template', value.marker.dataLabel);\r\n        }\r\n        this.renderAnnotation();\r\n    };\r\n    /**\r\n     * To render the legend\r\n     *\r\n     * @private\r\n     */\r\n    Chart.prototype.renderAxes = function () {\r\n        this.yAxisElements = this.renderer.createGroup({ id: this.element.id + 'yAxisCollection' });\r\n        var axisElement;\r\n        if (this.rows.length > 0 && this.columns.length > 0) {\r\n            axisElement = this.chartAxisLayoutPanel.renderAxes();\r\n        }\r\n        if (this.stripLineModule) {\r\n            this.stripLineModule.renderStripLine(this, 'Behind', this.axisCollections);\r\n        }\r\n        return axisElement;\r\n    };\r\n    /**\r\n     * To render the legend\r\n     */\r\n    Chart.prototype.renderLegend = function () {\r\n        if (this.legendModule && this.legendModule.legendCollections.length && this.legendSettings.visible) {\r\n            this.legendModule.calTotalPage = true;\r\n            var borderWidth = this.legendSettings.border.width;\r\n            var bounds = this.legendModule.legendBounds;\r\n            var rect = new Rect(bounds.x, bounds.y, bounds.width, bounds.height);\r\n            if (this.enableCanvas) {\r\n                rect = new Rect(rect.x - borderWidth / 2, rect.y - borderWidth / 2, rect.width + borderWidth, rect.height + borderWidth);\r\n                this.renderer.canvasClip(rect);\r\n            }\r\n            this.legendModule.renderLegend(this, this.legendSettings, bounds);\r\n            if (this.enableCanvas) {\r\n                this.renderer.canvasRestore();\r\n            }\r\n        }\r\n        if (!this.redraw) {\r\n            if (!this.stockChart) {\r\n                this.element.appendChild(this.svgObject);\r\n            }\r\n            else {\r\n                if (!getElement(this.stockChart.chartObject.id)) {\r\n                    this.stockChart.mainObject.appendChild(this.svgObject);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To set the left and top position for data label template for center aligned chart\r\n     */\r\n    Chart.prototype.setSecondaryElementPosition = function () {\r\n        var element = getElement(this.element.id + '_Secondary_Element');\r\n        if (!element) {\r\n            return;\r\n        }\r\n        var rect = this.element.getBoundingClientRect();\r\n        var svgRect = getElement(this.svgId).getBoundingClientRect();\r\n        element.style.left = Math.max(svgRect.left - rect.left, 0) + 'px';\r\n        element.style.top = Math.max(svgRect.top - rect.top, 0) + 'px';\r\n    };\r\n    Chart.prototype.initializeModuleElements = function () {\r\n        this.dataLabelCollections = [];\r\n        var elementId = this.element.id;\r\n        if (this.series.length) {\r\n            this.seriesElements = (this.series[0].type === 'Scatter' || this.series[0].type === 'Bubble') ?\r\n                this.svgRenderer.createGroup({ id: elementId + 'SeriesCollection' }) :\r\n                this.renderer.createGroup({ id: elementId + 'SeriesCollection' });\r\n        }\r\n        if (this.indicators.length) {\r\n            this.indicatorElements = this.renderer.createGroup({ id: elementId + 'IndicatorCollection' });\r\n        }\r\n        if (this.hasTrendlines()) {\r\n            this.trendLineElements = this.renderer.createGroup({ id: elementId + 'TrendLineCollection' });\r\n        }\r\n        this.dataLabelElements = this.renderer.createGroup({ id: elementId + 'DataLabelCollection' });\r\n    };\r\n    Chart.prototype.hasTrendlines = function () {\r\n        var isTrendline;\r\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            isTrendline = series.trendlines.length ? true : false;\r\n            if (isTrendline) {\r\n                break;\r\n            }\r\n        }\r\n        return isTrendline;\r\n    };\r\n    Chart.prototype.renderSeriesElements = function (axisElement) {\r\n        // Initialize the series elements values\r\n        this.initializeModuleElements();\r\n        var elementId = this.element.id;\r\n        if (this.element.tagName !== 'g') {\r\n            var tooltipDiv = redrawElement(this.redraw, elementId + '_Secondary_Element') ||\r\n                this.createElement('div');\r\n            tooltipDiv.id = elementId + '_Secondary_Element';\r\n            tooltipDiv.style.cssText = 'position: relative';\r\n            appendChildElement(false, this.element, tooltipDiv, this.redraw);\r\n        }\r\n        // For canvas\r\n        if (this.enableCanvas) {\r\n            var tooltipdiv = document.getElementById(elementId + '_Secondary_Element');\r\n            tooltipdiv = !tooltipdiv ? this.createElement('div', { id: elementId + '_Secondary_Element',\r\n                attrs: { 'style': 'position: relative; left:0px; top:0px' } }) : tooltipdiv;\r\n            var svg = this.svgRenderer.createSvg({\r\n                id: elementId + '_tooltip_svg',\r\n                width: this.availableSize.width,\r\n                height: this.availableSize.height\r\n            });\r\n            svg.style.cssText = 'position: absolute; pointer-events: none';\r\n            tooltipdiv.appendChild(svg);\r\n        }\r\n        // For userInteraction\r\n        if (this.tooltip.enable) {\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.renderer.createGroup({ id: elementId + '_UserInteraction', style: 'pointer-events:none;' }), this.redraw);\r\n        }\r\n        if (this.rows.length > 0 && this.columns.length > 0) {\r\n            this.initializeIndicator();\r\n            this.initializeTrendLine();\r\n            this.renderSeries();\r\n            // Trendline is append to DOM after the series\r\n            if (this.trendLineElements) {\r\n                appendChildElement(this.enableCanvas, this.svgObject, this.trendLineElements, this.redraw);\r\n            }\r\n            this.appendElementsAfterSeries(axisElement);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     */\r\n    Chart.prototype.renderSeries = function () {\r\n        var visibility;\r\n        if (this.enableCanvas) {\r\n            // To clip the series rect for canvas\r\n            this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);\r\n        }\r\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.category === 'TrendLine') {\r\n                visibility = this.series[item.sourceIndex].trendlines[item.index].visible;\r\n            }\r\n            else {\r\n                visibility = item.visible;\r\n            }\r\n            if (visibility) {\r\n                this.visible++;\r\n                findClipRect(item);\r\n                if (this.enableCanvas) {\r\n                    // To render scatter and bubble series in canvas\r\n                    this.renderCanvasSeries(item);\r\n                }\r\n                item.renderSeries(this);\r\n            }\r\n        }\r\n        if (this.enableCanvas) {\r\n            this.renderer.canvasRestore();\r\n        }\r\n        this.visible = 0;\r\n        var options = {\r\n            'id': this.element.id + '_ChartAreaClipRect_',\r\n            'x': this.chartAxisLayoutPanel.seriesClipRect.x,\r\n            'y': this.chartAxisLayoutPanel.seriesClipRect.y,\r\n            'width': this.chartAxisLayoutPanel.seriesClipRect.width,\r\n            'height': this.chartAxisLayoutPanel.seriesClipRect.height,\r\n            'fill': 'transparent',\r\n            'stroke-width': 1,\r\n            'stroke': 'Gray'\r\n        };\r\n        if (!this.seriesElements) {\r\n            return;\r\n        }\r\n        if (!this.enableCanvas) {\r\n            this.seriesElements.appendChild(appendClipElement(this.redraw, options, this.renderer));\r\n        }\r\n        var seriesSvg = document.getElementById(this.element.id + '_series_svg');\r\n        if (seriesSvg) {\r\n            appendChildElement(false, seriesSvg, this.seriesElements, this.redraw);\r\n        }\r\n        else {\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.seriesElements, this.redraw);\r\n        }\r\n    };\r\n    Chart.prototype.renderCanvasSeries = function (item) {\r\n        var svgElement;\r\n        var divElement;\r\n        if ((item.type === 'Bubble' || item.type === 'Scatter')) {\r\n            svgElement = !svgElement ? this.svgRenderer.createSvg({ id: this.element.id + '_series_svg',\r\n                width: this.availableSize.width, height: this.availableSize.height }) : svgElement;\r\n            divElement = !divElement ? this.createElement('div', { id: this.element.id + '_series' }) : divElement;\r\n            divElement.style.cssText = 'position: absolute';\r\n            var mainElement = document.getElementById(this.element.id + '_Secondary_Element');\r\n            divElement.appendChild(svgElement);\r\n            mainElement.appendChild(divElement);\r\n        }\r\n        svgElement = (this.enableCanvas && (item.type === 'Bubble' || item.type === 'Scatter')) ?\r\n            svgElement : this.svgObject;\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        var canvas = (this.enableCanvas && (item.type === 'Bubble' || item.type === 'Scatter')) ?\r\n            false : this.enableCanvas;\r\n    };\r\n    Chart.prototype.initializeIndicator = function () {\r\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\r\n            var indicator = _a[_i];\r\n            if (this[firstToLowerCase(indicator.type) + 'IndicatorModule']) {\r\n                this[firstToLowerCase(indicator.type) + 'IndicatorModule'].createIndicatorElements(this, indicator, indicator.index);\r\n            }\r\n        }\r\n        if (this.indicatorElements) {\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.indicatorElements, this.redraw);\r\n        }\r\n    };\r\n    Chart.prototype.initializeTrendLine = function () {\r\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            if (series.trendlines.length) {\r\n                this.trendLineModule.getTrendLineElements(series, this);\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.appendElementsAfterSeries = function (axisElement) {\r\n        if (this.chartAreaType === 'PolarRadar') {\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.yAxisElements, this.redraw);\r\n        }\r\n        appendChildElement(this.enableCanvas, this.svgObject, axisElement, this.redraw);\r\n        if ((this.zoomModule && this.zoomSettings.enableScrollbar && this.scrollElement.childElementCount) ||\r\n            (this.scrollElement && this.scrollElement.childElementCount)) {\r\n            appendChildElement(false, getElement(this.element.id + '_Secondary_Element'), this.scrollElement, this.redraw);\r\n        }\r\n        if (this.stripLineModule) {\r\n            this.stripLineModule.renderStripLine(this, 'Over', this.axisCollections);\r\n        }\r\n        if (!this.tooltip.enable) {\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.renderer.createGroup({ id: this.element.id + '_UserInteraction', style: 'pointer-events:none;' }), this.redraw);\r\n        }\r\n        if (this.stockChart) {\r\n            this.stockChart.calculateStockEvents();\r\n        }\r\n    };\r\n    Chart.prototype.applyZoomkit = function () {\r\n        /**\r\n         * Issue: Zoomkit not visible after performing refresh()\r\n         * Fix: this method called without checking `zoomModule.isZoomed`\r\n         */\r\n        if (this.chartAreaType === 'PolarRadar') {\r\n            return;\r\n        }\r\n        if (!this.redraw && this.zoomModule && (!this.zoomSettings.enablePan || this.zoomModule.performedUI)) {\r\n            this.zoomModule.applyZoomToolkit(this, this.axisCollections);\r\n        }\r\n    };\r\n    /**\r\n     * Render annotation perform here\r\n     *\r\n     * @private\r\n     */\r\n    Chart.prototype.renderAnnotation = function () {\r\n        if (this.annotationModule) {\r\n            //for stock chart, stock chart's id is added to render the annotations\r\n            this.annotationModule.renderAnnotations(getElement((this.stockChart ? this.stockChart.element.id : this.element.id) + '_Secondary_Element'));\r\n        }\r\n    };\r\n    Chart.prototype.performSelection = function () {\r\n        var selectedDataIndexes = [];\r\n        if (this.selectionModule) {\r\n            selectedDataIndexes = extend([], this.selectionModule.selectedDataIndexes, null, true);\r\n            this.selectionModule.invokeSelection(this);\r\n        }\r\n        if (this.highlightModule) {\r\n            this.highlightModule.invokeHighlight(this);\r\n        }\r\n        if (selectedDataIndexes.length > 0) {\r\n            this.selectionModule.selectedDataIndexes = selectedDataIndexes;\r\n            this.selectionModule.redrawSelection(this, this.selectionMode);\r\n        }\r\n    };\r\n    Chart.prototype.processData = function (render) {\r\n        if (render === void 0) { render = true; }\r\n        this.visibleSeriesCount = 0;\r\n        var check = true;\r\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            if (!series.visible && !this.legendSettings.visible) {\r\n                this.visibleSeriesCount++;\r\n                continue;\r\n            }\r\n            if (series.category !== 'Indicator' && series.category !== 'TrendLine') {\r\n                this.initializeDataModule(series);\r\n            }\r\n        }\r\n        for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\r\n            var indicator = _c[_b];\r\n            if (indicator.dataSource) {\r\n                var techIndicator = indicator;\r\n                this.initializeDataModule(techIndicator);\r\n                check = false;\r\n            }\r\n        }\r\n        if (render && (!this.visibleSeries.length || this.visibleSeriesCount === this.visibleSeries.length && check)) {\r\n            this.refreshBound();\r\n            this.trigger('loaded', { chart: this.isBlazor ? {} : this });\r\n        }\r\n    };\r\n    Chart.prototype.initializeDataModule = function (series) {\r\n        series.xData = [];\r\n        series.yData = [];\r\n        var dataSource;\r\n        var isAngular = 'isAngular';\r\n        if (this[isAngular]) {\r\n            dataSource = Object.keys(series.dataSource).length ? series.dataSource : this.dataSource;\r\n        }\r\n        else {\r\n            dataSource = series.dataSource || this.dataSource;\r\n        }\r\n        series.dataModule = new Data(dataSource, series.query);\r\n        series.points = [];\r\n        series.refreshDataManager(this);\r\n    };\r\n    Chart.prototype.calculateBounds = function () {\r\n        var margin = this.margin;\r\n        // Title Height;\r\n        var titleHeight = 0;\r\n        var subTitleHeight = 0;\r\n        var titleWidth = 0;\r\n        var padding = 15;\r\n        var left = margin.left;\r\n        var width = this.availableSize.width - left - margin.right - this.border.width;\r\n        this.titleCollection = [];\r\n        this.subTitleCollection = [];\r\n        if (this.title) {\r\n            this.titleCollection = getTitle(this.title, this.titleStyle, width);\r\n            titleHeight = (measureText(this.title, this.titleStyle).height * this.titleCollection.length) + padding;\r\n            if (this.subTitle) {\r\n                var maxWidth = 0;\r\n                for (var _i = 0, _a = this.titleCollection; _i < _a.length; _i++) {\r\n                    var titleText = _a[_i];\r\n                    titleWidth = measureText(titleText, this.titleStyle).width;\r\n                    maxWidth = titleWidth > maxWidth ? titleWidth : maxWidth;\r\n                }\r\n                this.subTitleCollection = getTitle(this.subTitle, this.subTitleStyle, maxWidth);\r\n                subTitleHeight = (measureText(this.subTitle, this.subTitleStyle).height * this.subTitleCollection.length) +\r\n                    padding;\r\n            }\r\n        }\r\n        var top = margin.top + subTitleHeight + titleHeight + this.chartArea.border.width * 0.5;\r\n        var height = this.availableSize.height - top - this.border.width - margin.bottom;\r\n        if (this.stockChart && this.stockChart.legendSettings.visible && this.stockChart.stockLegendModule) {\r\n            if (this.stockChart.legendSettings.position === \"Top\") {\r\n                top += this.stockChart.stockLegendModule.legendBounds.height;\r\n            }\r\n            else if (this.stockChart.legendSettings.position === \"Left\") {\r\n                left += this.stockChart.stockLegendModule.legendBounds.width;\r\n            }\r\n        }\r\n        this.initialClipRect = new Rect(left, top, width, height);\r\n        if (this.legendModule && this.legendSettings.visible) {\r\n            this.legendModule.calculateLegendBounds(this.initialClipRect, this.availableSize, null);\r\n        }\r\n        this.chartAxisLayoutPanel.measureAxis(this.initialClipRect);\r\n    };\r\n    /**\r\n     * Handles the print method for chart control.\r\n     */\r\n    Chart.prototype.print = function (id) {\r\n        var exportChart = new ExportUtils(this);\r\n        exportChart.print(id);\r\n    };\r\n    /**\r\n     * Defines the trendline initialization\r\n     */\r\n    Chart.prototype.initTrendLines = function () {\r\n        this.isProtectedOnChange = true;\r\n        for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            var trendIndex = 0;\r\n            for (var _b = 0, _c = series.trendlines; _b < _c.length; _b++) {\r\n                var trendline = _c[_b];\r\n                var trendLine = trendline;\r\n                if (this.trendLineModule) {\r\n                    trendLine.index = trendIndex;\r\n                    trendLine.sourceIndex = series.index;\r\n                    this.trendLineModule.initSeriesCollection(trendLine, this);\r\n                    if (trendLine.targetSeries) {\r\n                        trendLine.targetSeries.xAxisName = series.xAxisName;\r\n                        trendLine.targetSeries.yAxisName = series.yAxisName;\r\n                        this.visibleSeries.push(trendLine.targetSeries);\r\n                    }\r\n                }\r\n                trendIndex++;\r\n            }\r\n        }\r\n        this.isProtectedOnChange = false;\r\n    };\r\n    Chart.prototype.calculateAreaType = function () {\r\n        var series = this.series[0];\r\n        this.chartArea.border.width = this.stockChart ? 0 : this.chartArea.border.width;\r\n        if (series) {\r\n            this.requireInvertedAxis = ((series.type.indexOf('Bar') !== -1) && !this.isTransposed) ||\r\n                ((series.type.indexOf('Bar') === -1) && this.isTransposed && this.chartAreaType !== 'PolarRadar');\r\n        }\r\n        this.chartAxisLayoutPanel = this.chartAreaType === 'PolarRadar' ? (this.polarSeriesModule || this.radarSeriesModule)\r\n            : new CartesianAxisLayoutPanel(this);\r\n    };\r\n    /**\r\n     * Calculate the visible axis\r\n     *\r\n     * @private\r\n     */\r\n    Chart.prototype.calculateVisibleAxis = function () {\r\n        var axis;\r\n        var axes = [this.primaryXAxis, this.primaryYAxis];\r\n        axes = this.chartAreaType === 'Cartesian' ? axes.concat(this.axes) : axes;\r\n        if (this.paretoSeriesModule && this.series[0].type === 'Pareto') {\r\n            axes = axes.concat(this.paretoSeriesModule.paretoAxes);\r\n        }\r\n        this.axisCollections = [];\r\n        if (this.zoomModule) {\r\n            this.zoomModule.isPanning = this.zoomModule.isAxisZoomed(axes) && this.zoomSettings.enablePan;\r\n            this.svgObject.setAttribute('cursor', this.zoomModule.isPanning ? 'pointer' : 'auto');\r\n            if (this.scrollBarModule) {\r\n                this.scrollBarModule.axes = axes;\r\n            }\r\n        }\r\n        if (this.scrollSettingEnabled) {\r\n            if (this.scrollBarModule) {\r\n                this.scrollBarModule.axes = axes;\r\n            }\r\n        }\r\n        for (var i = 0, len = axes.length; i < len; i++) {\r\n            axis = axes[i];\r\n            axis.series = [];\r\n            axis.labels = [];\r\n            axis.indexLabels = {};\r\n            for (var _i = 0, _a = this.visibleSeries; _i < _a.length; _i++) {\r\n                var series = _a[_i];\r\n                this.initAxis(series, axis, true);\r\n            }\r\n            for (var _b = 0, _c = this.indicators; _b < _c.length; _b++) {\r\n                var indicator = _c[_b];\r\n                this.initAxis(indicator, axis, false);\r\n            }\r\n            if (this.scrollBarModule && !axis.zoomingScrollBar) {\r\n                this.scrollBarModule.injectTo(axis, this);\r\n            }\r\n            if (axis.orientation != null) {\r\n                this.axisCollections.push(axis);\r\n            }\r\n        }\r\n        if (this.rows.length > 0 && this.columns.length > 0) {\r\n            this.chartAxisLayoutPanel.measure();\r\n        }\r\n    };\r\n    Chart.prototype.initAxis = function (series, axis, isSeries) {\r\n        if (series.xAxisName === axis.name || (series.xAxisName == null && axis.name === 'primaryXAxis')) {\r\n            axis.orientation = this.requireInvertedAxis ? 'Vertical' : 'Horizontal';\r\n            series.xAxis = axis;\r\n            if (isSeries) {\r\n                axis.series.push(series);\r\n            }\r\n        }\r\n        else if (series.yAxisName === axis.name || (series.yAxisName == null && axis.name === 'primaryYAxis')) {\r\n            axis.orientation = this.requireInvertedAxis ? 'Horizontal' : 'Vertical';\r\n            series.yAxis = axis;\r\n            if (isSeries) {\r\n                axis.series.push(series);\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.initTechnicalIndicators = function () {\r\n        var i = 0;\r\n        for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\r\n            var indicator = _a[_i];\r\n            var techIndicator = indicator;\r\n            var type = firstToLowerCase(techIndicator.type);\r\n            if (this[type + 'IndicatorModule']) {\r\n                techIndicator.index = i;\r\n                this[type + 'IndicatorModule'].initSeriesCollection(techIndicator, this);\r\n                for (var _b = 0, _c = techIndicator.targetSeries; _b < _c.length; _b++) {\r\n                    var targetSeries = _c[_b];\r\n                    if (indicator.seriesName || indicator.dataSource) {\r\n                        this.visibleSeries.push(targetSeries);\r\n                    }\r\n                }\r\n            }\r\n            i++;\r\n        }\r\n    };\r\n    /** @private */\r\n    Chart.prototype.refreshTechnicalIndicator = function (series) {\r\n        if (this.indicators.length) {\r\n            var targetIndicator = null;\r\n            if (series instanceof Series && series.category !== 'Indicator') {\r\n                for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\r\n                    var indicator = _a[_i];\r\n                    if (indicator.seriesName === series.name && !indicator.dataSource) {\r\n                        targetIndicator = indicator;\r\n                        targetIndicator.setDataSource(series, this);\r\n                    }\r\n                }\r\n            }\r\n            else if (series instanceof TechnicalIndicator) {\r\n                targetIndicator = series;\r\n                targetIndicator.setDataSource(series instanceof Series ? series : null, this);\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.calculateVisibleSeries = function () {\r\n        var series;\r\n        this.visibleSeries = [];\r\n        var colors = this.palettes.length ? this.palettes : getSeriesColor(this.theme);\r\n        var count = colors.length;\r\n        var seriesCollection = this.series.sort(function (a, b) { return a.zOrder - b.zOrder; });\r\n        for (var i = 0, len = seriesCollection.length; i < len; i++) {\r\n            series = seriesCollection[i];\r\n            // for y axis label issue during chart navigation\r\n            series.category = seriesCollection[0].type === 'Pareto' ? 'Pareto' : 'Series';\r\n            series.index = i;\r\n            series.interior = series.fill || colors[i % count];\r\n            switch (series.type) {\r\n                case 'Bar':\r\n                case 'StackingBar':\r\n                case 'StackingBar100':\r\n                    if (seriesCollection[0].type.indexOf('Bar') === -1) {\r\n                        continue;\r\n                    }\r\n                    break;\r\n                case 'Polar':\r\n                case 'Radar':\r\n                    if (this.chartAreaType !== 'PolarRadar') {\r\n                        continue;\r\n                    }\r\n                    if (this.chartAreaType === 'PolarRadar' && ((series.xAxisName === null && series.yAxisName !== null) ||\r\n                        (series.xAxisName !== null && series.yAxisName === null) ||\r\n                        (series.xAxisName !== null && series.yAxisName !== null))) {\r\n                        continue;\r\n                    }\r\n                    break;\r\n                case 'Pareto':\r\n                    this.visibleSeries.push(series);\r\n                    this.paretoSeriesModule.initSeries(series, this);\r\n                    continue;\r\n                default:\r\n                    if (this.chartAreaType === 'PolarRadar' || seriesCollection[0].type.indexOf('Bar') > -1) {\r\n                        continue;\r\n                    }\r\n                    break;\r\n            }\r\n            this.visibleSeries.push(series);\r\n            seriesCollection[i] = series;\r\n        }\r\n    };\r\n    Chart.prototype.renderTitle = function () {\r\n        var rect;\r\n        var margin = this.margin;\r\n        if (this.title) {\r\n            var getAnchor = getTextAnchor(this.titleStyle.textAlignment, this.enableRtl);\r\n            var elementSize = measureText(this.title, this.titleStyle);\r\n            rect = new Rect(margin.left, 0, this.availableSize.width - margin.left - margin.right, 0);\r\n            var options = new TextOption(this.element.id + '_ChartTitle', titlePositionX(rect, this.titleStyle), this.margin.top + ((elementSize.height) * 3 / 4), getAnchor, this.titleCollection, '', 'auto');\r\n            var element = redrawElement(this.redraw, this.element.id + '_ChartTitle', options, this.renderer) ||\r\n                textElement(this.renderer, options, this.titleStyle, this.titleStyle.color || this.themeStyle.chartTitle, this.svgObject, null, null, null, null, null, null, null, null, this.enableCanvas);\r\n            if (element) {\r\n                element.setAttribute('aria-label', this.description || this.title);\r\n                element.setAttribute('tabindex', this.tabIndex.toString());\r\n            }\r\n            if (this.subTitle) {\r\n                this.renderSubTitle(options);\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.renderSubTitle = function (options) {\r\n        var maxWidth = 0;\r\n        var titleWidth = 0;\r\n        var padding = 10;\r\n        var alignment = this.titleStyle.textAlignment;\r\n        for (var _i = 0, _a = this.titleCollection; _i < _a.length; _i++) {\r\n            var titleText = _a[_i];\r\n            titleWidth = measureText(titleText, this.titleStyle).width;\r\n            maxWidth = titleWidth > maxWidth ? titleWidth : maxWidth;\r\n        }\r\n        var subTitleElementSize = measureText(this.subTitle, this.subTitleStyle);\r\n        var rect = new Rect(alignment === 'Center' ? (options.x - maxWidth * 0.5) : alignment === 'Far' ? options.x - maxWidth : options.x, 0, maxWidth, 0);\r\n        var subTitleOptions = new TextOption(this.element.id + '_ChartSubTitle', titlePositionX(rect, this.subTitleStyle), options.y * options.text.length + ((subTitleElementSize.height) * 3 / 4) + padding, getTextAnchor(this.subTitleStyle.textAlignment, this.enableRtl), this.subTitleCollection, '', 'auto');\r\n        var element = redrawElement(this.redraw, this.element.id + '_ChartSubTitle', subTitleOptions, this.renderer) ||\r\n            textElement(this.renderer, subTitleOptions, this.subTitleStyle, this.subTitleStyle.color || this.themeStyle.chartTitle, this.svgObject, null, null, null, null, null, null, null, null, this.enableCanvas);\r\n        if (element) {\r\n            element.setAttribute('aria-label', this.description || this.subTitle);\r\n            element.setAttribute('tabindex', this.tabIndex.toString());\r\n        }\r\n    };\r\n    Chart.prototype.renderBorder = function () {\r\n        var x = 0;\r\n        var y = 0;\r\n        var width = this.border.width;\r\n        var backGroundImage = this.backgroundImage;\r\n        var fillColor = backGroundImage ? 'transparent' : (this.background || this.themeStyle.background);\r\n        if (this.stockChart && this.stockChart.legendSettings.visible && this.stockChart.stockLegendModule) {\r\n            if (this.stockChart.legendSettings.position === \"Top\") {\r\n                y += this.stockChart.stockLegendModule.legendBounds.height;\r\n            }\r\n            else if (this.stockChart.legendSettings.position === \"Left\") {\r\n                x += this.stockChart.stockLegendModule.legendBounds.width;\r\n            }\r\n        }\r\n        var rect = new RectOption(this.element.id + '_ChartBorder', fillColor, this.border, 1, new Rect(width * 0.5 + x, width * 0.5 + y, this.availableSize.width - width, this.availableSize.height - width));\r\n        this.htmlObject = redrawElement(this.redraw, this.element.id + '_ChartBorder', rect, this.renderer)\r\n            || this.renderer.drawRectangle(rect);\r\n        appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw);\r\n        // to draw back ground image for chart\r\n        if (backGroundImage) {\r\n            var image = new ImageOption(this.availableSize.height - width, this.availableSize.width - width, backGroundImage, 0, 0, this.element.id + '_ChartBackground', 'visible', 'none');\r\n            this.htmlObject = redrawElement(this.redraw, this.element.id + '_ChartBackground', image, this.renderer)\r\n                || this.renderer.drawImage(image);\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw);\r\n        }\r\n    };\r\n    /**\r\n     * @private\r\n     */\r\n    Chart.prototype.renderAreaBorder = function () {\r\n        if (this.chartAreaType === 'PolarRadar') {\r\n            return null;\r\n        }\r\n        else {\r\n            var element = getElement(this.element.id + '_ChartAreaBorder');\r\n            var previousRect = element ?\r\n                new Rect(+element.getAttribute('x'), +element.getAttribute('y'), +element.getAttribute('width'), +element.getAttribute('height')) : null;\r\n            var rect = new RectOption(this.element.id + '_ChartAreaBorder', this.chartArea.background, { width: this.chartArea.border.width, color: this.chartArea.border.color || this.themeStyle.areaBorder }, this.chartArea.opacity, this.chartAxisLayoutPanel.seriesClipRect);\r\n            this.htmlObject = this.renderer.drawRectangle(rect);\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw, true, 'x', 'y', null, null, true, true, previousRect);\r\n            this.htmlObject = null;\r\n        }\r\n        // to draw back ground image for chart area\r\n        var backGroundImage = this.chartArea.backgroundImage;\r\n        if (backGroundImage) {\r\n            var width = this.chartArea.border.width;\r\n            var image = new ImageOption(this.initialClipRect.height - width, this.initialClipRect.width - width, backGroundImage, this.initialClipRect.x, this.initialClipRect.y, this.element.id + '_ChartAreaBackground', 'visible', 'none');\r\n            this.htmlObject = this.renderer.drawImage(image);\r\n            appendChildElement(this.enableCanvas, this.svgObject, this.htmlObject, this.redraw, true, 'x', 'y', null, null, true, true);\r\n        }\r\n    };\r\n    /**\r\n     * To add series for the chart\r\n     *\r\n     * @param {SeriesModel[]} seriesCollection - Defines the series collection to be added in chart.\r\n     * @returns {void}.\r\n     */\r\n    Chart.prototype.addSeries = function (seriesCollection) {\r\n        for (var _i = 0, seriesCollection_1 = seriesCollection; _i < seriesCollection_1.length; _i++) {\r\n            var series = seriesCollection_1[_i];\r\n            series = new Series(this, 'series', series);\r\n            this.series.push(series);\r\n        }\r\n        this.refresh();\r\n    };\r\n    /**\r\n     * To Remove series for the chart\r\n     *\r\n     * @param {number} index - Defines the series index to be remove in chart series\r\n     * @returns {void}\r\n     */\r\n    Chart.prototype.removeSeries = function (index) {\r\n        this.redraw = false; //fix for remove svg not working when use animatemethod.\r\n        this.series.splice(index, 1);\r\n        this.refresh();\r\n    };\r\n    /**\r\n     * To Clear all series for the chart\r\n     *\r\n     * @returns {void}.\r\n     */\r\n    Chart.prototype.clearSeries = function () {\r\n        this.series = [];\r\n        this.refresh();\r\n    };\r\n    /**\r\n     * To add secondary axis for the chart\r\n     *\r\n     * @param {AxisModel[]} axisCollection - Defines the axis collection to be added in chart.\r\n     * @returns {void}.\r\n     */\r\n    Chart.prototype.addAxes = function (axisCollection) {\r\n        for (var _i = 0, axisCollection_1 = axisCollection; _i < axisCollection_1.length; _i++) {\r\n            var axis = axisCollection_1[_i];\r\n            axis = new Axis(this, 'axes', axis);\r\n            if (this.isBlazor) {\r\n                axis.interval = isNaN(axis.interval) ? null : axis.interval;\r\n                axis.desiredIntervals = isNaN(axis.desiredIntervals) ? null : axis.desiredIntervals;\r\n            }\r\n            this.axes.push(axis);\r\n        }\r\n        this.refresh();\r\n    };\r\n    /**\r\n     * To remove secondary axis for the chart\r\n     *\r\n     * @param {number} index - Defines the axis collection to be removed in chart.\r\n     * @returns {void}\r\n     */\r\n    Chart.prototype.removeAxis = function (index) {\r\n        this.redraw = false;\r\n        this.axes.splice(index, 1);\r\n        this.refresh();\r\n    };\r\n    /**\r\n     * To destroy the widget\r\n     *\r\n     * @function destroy\r\n     * @returns {void}.\r\n     * @member of Chart\r\n     */\r\n    Chart.prototype.destroy = function () {\r\n        if (this.scrollBarModule) {\r\n            this.scrollBarModule.destroy();\r\n        }\r\n        if (this.markerRender) {\r\n            this.markerRender.removeEventListener();\r\n            this.markerRender = null;\r\n        }\r\n        this.horizontalAxes = [];\r\n        this.verticalAxes = [];\r\n        this.visibleSeries = [];\r\n        this.axisCollections = [];\r\n        this.rotatedDataLabelCollections = [];\r\n        this.seriesElements = null;\r\n        this.chartAxisLayoutPanel = null;\r\n        this.dataLabelCollections = null;\r\n        this.dataLabelElements = null;\r\n        this.yAxisElements = null;\r\n        /**\r\n         * To fix react timeout destroy issue.\r\n         */\r\n        if (this.element) {\r\n            this.unWireEvents();\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (this.isReact) {\r\n                this.clearTemplate();\r\n            }\r\n            _super.prototype.destroy.call(this);\r\n            if (!this.enableCanvas) {\r\n                this.removeSvg();\r\n                this.svgObject = null;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get component name\r\n     */\r\n    Chart.prototype.getModuleName = function () {\r\n        return 'chart';\r\n    };\r\n    /**\r\n     * Get the properties to be maintained in the persisted state.\r\n     *\r\n     * @private\r\n     */\r\n    Chart.prototype.getPersistData = function () {\r\n        var keyEntity = ['loaded', 'animationComplete', 'primaryXAxis', 'primaryYAxis'];\r\n        return this.addOnPersist(keyEntity);\r\n    };\r\n    /**\r\n     * Method to create SVG element.\r\n     */\r\n    Chart.prototype.createChartSvg = function () {\r\n        this.removeSvg();\r\n        createSvg(this);\r\n    };\r\n    /**\r\n     * Method to bind events for chart\r\n     */\r\n    Chart.prototype.unWireEvents = function () {\r\n        var startEvent = Browser.touchStartEvent;\r\n        var moveEvent = Browser.touchMoveEvent;\r\n        var stopEvent = Browser.touchEndEvent;\r\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\r\n        /*! UnBind the Event handler */\r\n        EventHandler.remove(this.element, startEvent, this.chartOnMouseDown);\r\n        EventHandler.remove(this.element, moveEvent, this.mouseMove);\r\n        EventHandler.remove(this.element, stopEvent, this.mouseEnd);\r\n        EventHandler.remove(this.element, 'click', this.chartOnMouseClick);\r\n        EventHandler.remove(this.element, 'dblclick', this.chartOnDoubleClick);\r\n        EventHandler.remove(this.element, 'contextmenu', this.chartRightClick);\r\n        EventHandler.remove(this.element, cancelEvent, this.mouseLeave);\r\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeBound);\r\n        /**\r\n         * To fix memory issue\r\n         */\r\n        if (this.touchObject) {\r\n            this.touchObject.destroy();\r\n            this.touchObject = null;\r\n        }\r\n    };\r\n    Chart.prototype.wireEvents = function () {\r\n        /**\r\n         * To fix react timeout destroy issue.\r\n         */\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n        /*! Find the Events type */\r\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\r\n        /*! Bind the Event handler */\r\n        EventHandler.add(this.element, Browser.touchStartEvent, this.chartOnMouseDown, this);\r\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMove, this);\r\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEnd, this);\r\n        EventHandler.add(this.element, 'click', this.chartOnMouseClick, this);\r\n        EventHandler.add(this.element, 'dblclick', this.chartOnDoubleClick, this);\r\n        EventHandler.add(this.element, 'contextmenu', this.chartRightClick, this);\r\n        EventHandler.add(this.element, cancelEvent, this.mouseLeave, this);\r\n        this.resizeBound = this.chartResize.bind(this);\r\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.resizeBound);\r\n        this.longPressBound = this.longPress.bind(this);\r\n        this.touchObject = new Touch(this.element, { tapHold: this.longPressBound, tapHoldThreshold: 500 });\r\n        /*! Apply the style for chart */\r\n        this.setStyle(this.element);\r\n    };\r\n    Chart.prototype.chartRightClick = function (event) {\r\n        if (this.crosshair.enable && this.crosshairModule &&\r\n            (event.buttons === 2 || event.which === 0 || event.pointerType === 'touch')) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Chart.prototype.setStyle = function (element) {\r\n        var zooming = this.zoomSettings;\r\n        var disableScroll = zooming.enableSelectionZooming || zooming.enablePinchZooming ||\r\n            this.selectionMode !== 'None' || this.crosshair.enable || this.highlightMode !== 'None';\r\n        element.style.touchAction = disableScroll ? 'none' : 'element';\r\n        element.style.msTouchAction = disableScroll ? 'none' : 'element';\r\n        element.style.msContentZooming = 'none';\r\n        element.style.msUserSelect = 'none';\r\n        element.style.webkitUserSelect = 'none';\r\n        element.style.position = 'relative';\r\n        element.style.display = 'block';\r\n        // To fix angular and react tooltip div scrollbar issue\r\n        element.style.overflow = 'hidden';\r\n    };\r\n    /**\r\n     * Finds the orientation.\r\n     *\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    Chart.prototype.isOrientation = function () {\r\n        return ('orientation' in window && 'onorientationchange' in window);\r\n    };\r\n    /**\r\n     * Handles the long press on chart.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.longPress = function (e) {\r\n        this.mouseX = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientX) : 0;\r\n        this.mouseY = (e && e.originalEvent.changedTouches) ? (e.originalEvent.changedTouches[0].clientY) : 0;\r\n        this.startMove = true;\r\n        this.setMouseXY(this.mouseX, this.mouseY);\r\n        this.notify('tapHold', e);\r\n        return false;\r\n    };\r\n    /**\r\n     * To find mouse x, y for aligned chart element svg position\r\n     */\r\n    Chart.prototype.setMouseXY = function (pageX, pageY) {\r\n        if (getElement(this.svgId)) {\r\n            var svgRect = getElement(this.svgId).getBoundingClientRect();\r\n            var rect = this.element.getBoundingClientRect();\r\n            this.mouseY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\r\n            this.mouseX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\r\n        }\r\n    };\r\n    /**\r\n     * Export method for the chart.\r\n     */\r\n    Chart.prototype.export = function (type, fileName) {\r\n        if (this.exportModule) {\r\n            this.exportModule.export(type, fileName);\r\n            if (this.afterExport) {\r\n                this.exportModule.getDataUrl(this);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles the chart resize.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.chartResize = function () {\r\n        var _this = this;\r\n        this.animateSeries = false;\r\n        var arg = {\r\n            chart: this.isBlazor ? {} : this,\r\n            name: resized,\r\n            currentSize: new Size(0, 0),\r\n            previousSize: new Size(this.availableSize.width, this.availableSize.height)\r\n        };\r\n        var beforeResizeArgs = { name: 'beforeResize', cancelResizedEvent: false };\r\n        if (this.resizeTo) {\r\n            clearTimeout(this.resizeTo);\r\n        }\r\n        this.trigger(beforeResize, beforeResizeArgs);\r\n        if (!beforeResizeArgs.cancelResizedEvent) {\r\n            this.resizeTo = +setTimeout(function () {\r\n                if (_this.isDestroyed || _this.stockChart) {\r\n                    clearTimeout(_this.resizeTo);\r\n                    return;\r\n                }\r\n                _this.createChartSvg();\r\n                arg.currentSize = _this.availableSize;\r\n                _this.trigger(resized, arg);\r\n                _this.refreshAxis();\r\n                _this.refreshBound();\r\n                _this.trigger('loaded', { chart: _this.isBlazor ? {} : _this });\r\n            }, 500);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse move.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.mouseMove = function (e) {\r\n        var pageX;\r\n        var pageY;\r\n        var touchArg;\r\n        if (e.type === 'touchmove') {\r\n            this.isTouch = true;\r\n            touchArg = e;\r\n            pageX = touchArg.changedTouches[0].clientX;\r\n            pageY = touchArg.changedTouches[0].clientY;\r\n        }\r\n        else {\r\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2' || this.isTouch;\r\n            pageX = e.clientX;\r\n            pageY = e.clientY;\r\n        }\r\n        if (getElement(this.svgId)) {\r\n            this.setMouseXY(pageX, pageY);\r\n            this.chartOnMouseMove(e);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse leave.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.mouseLeave = function (e) {\r\n        var pageX;\r\n        var pageY;\r\n        var touchArg;\r\n        if (e.type === 'touchleave') {\r\n            this.isTouch = true;\r\n            touchArg = e;\r\n            pageX = touchArg.changedTouches[0].clientX;\r\n            pageY = touchArg.changedTouches[0].clientY;\r\n        }\r\n        else {\r\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\r\n            pageX = e.clientX;\r\n            pageY = e.clientY;\r\n        }\r\n        this.setMouseXY(pageX, pageY);\r\n        this.chartOnMouseLeave(e);\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse leave on chart.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.chartOnMouseLeave = function (e) {\r\n        var element = e.target;\r\n        var cancelEvent = Browser.isPointer ? 'pointerleave' : 'mouseleave';\r\n        this.trigger(chartMouseLeave, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\r\n        this.isChartDrag = this.isPointMouseDown = false;\r\n        this.notify(cancelEvent, e);\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse double click on chart.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.chartOnDoubleClick = function (e) {\r\n        var element = e.target;\r\n        this.trigger(chartDoubleClick, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse click on chart.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.chartOnMouseClick = function (e) {\r\n        var _this = this;\r\n        var element = e.target;\r\n        this.trigger(chartMouseClick, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        this.clickCount++;\r\n        var timeInterval = 0;\r\n        var isAngular = 'isAngular';\r\n        if (this[isAngular]) {\r\n            var observers = 'observers';\r\n            timeInterval = this.pointDoubleClick[observers].length > 0 ? 400 : 0;\r\n        }\r\n        else {\r\n            timeInterval = this.pointDoubleClick ? 400 : 0;\r\n        }\r\n        if (this.clickCount === 1 && this.pointClick) {\r\n            this.singleClickTimer = +setTimeout(function () {\r\n                _this.clickCount = 0;\r\n                _this.triggerPointEvent(pointClick, e);\r\n            }, timeInterval);\r\n        }\r\n        else if (this.clickCount === 2 && this.pointDoubleClick) {\r\n            clearTimeout(this.singleClickTimer);\r\n            this.clickCount = 0;\r\n            this.triggerPointEvent(pointDoubleClick, e);\r\n        }\r\n        if (this.axisLabelClick) {\r\n            this.triggerAxisLabelClickEvent(axisLabelClick, e);\r\n        }\r\n        this.notify('click', e);\r\n        return false;\r\n    };\r\n    Chart.prototype.triggerPointEvent = function (event, e) {\r\n        var evt = e;\r\n        var data = new ChartData(this);\r\n        var pointData = data.getData();\r\n        if (pointData.series && pointData.point) {\r\n            this.trigger(event, {\r\n                series: this.isBlazor ? {} : pointData.series,\r\n                point: pointData.point,\r\n                seriesIndex: pointData.series.index, pointIndex: pointData.point.index,\r\n                x: this.mouseX, y: this.mouseY, pageX: evt.pageX, pageY: evt.pageY\r\n            });\r\n        }\r\n    };\r\n    Chart.prototype.triggerAxisLabelClickEvent = function (event, e) {\r\n        var targetElement = e.target;\r\n        var clickEvt = e;\r\n        if (targetElement.id.indexOf('_AxisLabel_') !== -1) {\r\n            var index = targetElement.id.split('_AxisLabel_');\r\n            var axisIndex = +index[0].slice(-1);\r\n            var labelIndex = +index[1];\r\n            var currentAxis = this.axisCollections[axisIndex];\r\n            if (currentAxis.visible && (axisIndex === 0 || axisIndex === 1)) {\r\n                this.trigger(event, {\r\n                    chart: this,\r\n                    axis: currentAxis,\r\n                    text: currentAxis.visibleLabels[labelIndex].text,\r\n                    labelID: targetElement.id,\r\n                    index: labelIndex,\r\n                    location: new ChartLocation(clickEvt.pageX, clickEvt.pageY),\r\n                    value: currentAxis.visibleLabels[labelIndex].value\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Handles the mouse move on chart.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.chartOnMouseMove = function (e) {\r\n        var element = e.target;\r\n        this.trigger(chartMouseMove, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        if (this.pointMove) {\r\n            this.triggerPointEvent(pointMove, e);\r\n        }\r\n        // Tooltip for chart series.\r\n        if (!this.isTouch) {\r\n            this.titleTooltip(e, this.mouseX, this.mouseY);\r\n            this.axisTooltip(e, this.mouseX, this.mouseY);\r\n        }\r\n        if (this.dataEditingModule) {\r\n            this.dataEditingModule.pointMouseMove(e);\r\n        }\r\n        this.notify(Browser.touchMoveEvent, e);\r\n        this.isTouch = false;\r\n        return false;\r\n    };\r\n    Chart.prototype.titleTooltip = function (event, x, y, isTouch) {\r\n        var targetId = event.target.id;\r\n        var id = (targetId === (this.element.id + '_ChartTitle') || targetId === (this.element.id + '_ChartSubTitle') ||\r\n            targetId.indexOf('_AxisTitle') > -1 || targetId.indexOf('_legend_title') > -1);\r\n        var index = 0;\r\n        if (targetId.indexOf('_AxisTitle') > -1) {\r\n            index = parseInt(((targetId.replace(this.element.id, '')).replace('AxisLabel_', '')).split('_')[2], 10);\r\n        }\r\n        if (id && (event.target.textContent.indexOf('...') > -1)) {\r\n            var title = (targetId === (this.element.id + '_ChartTitle')) ? this.title :\r\n                targetId.indexOf('_AxisTitle') > -1 ? this.axisCollections[index].title :\r\n                    targetId.indexOf('_ChartSubTitle') > -1 ? this.subTitle : this.legendSettings.title;\r\n            showTooltip(title, x, y, this.element.offsetWidth, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\r\n        }\r\n        else {\r\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\r\n        }\r\n    };\r\n    Chart.prototype.axisTooltip = function (event, x, y, isTouch) {\r\n        var targetId = event.target.id;\r\n        if (((targetId.indexOf('AxisLabel') > -1) || targetId.indexOf('Axis_MultiLevelLabel') > -1) &&\r\n            (event.target.textContent.indexOf('...') > -1)) {\r\n            var isTitleOrLegendEnabled = (this.legendSettings.visible || this.primaryXAxis.title === '');\r\n            showTooltip(this.findAxisLabel(targetId), x, y, this.element.offsetWidth, this.element.id + '_EJ2_AxisLabel_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, isTitleOrLegendEnabled);\r\n        }\r\n        else {\r\n            removeElement(this.element.id + '_EJ2_AxisLabel_Tooltip');\r\n        }\r\n    };\r\n    Chart.prototype.findAxisLabel = function (text) {\r\n        var texts;\r\n        if (text.indexOf('AxisLabel') > -1) {\r\n            texts = ((text.replace(this.element.id, '')).replace('AxisLabel_', '')).split('_');\r\n            return this.axisCollections[parseInt(texts[0], 10)].visibleLabels[parseInt(texts[1], 10)].originalText;\r\n        }\r\n        else {\r\n            texts = ((text.replace(this.element.id, '')).replace('Axis_MultiLevelLabel_Level_', '').replace('Text_', '')).split('_');\r\n            return (this.axisCollections[parseInt(texts[0], 10)].multiLevelLabels[parseInt(texts[1], 10)]\r\n                .categories[parseInt(texts[2], 10)].text);\r\n        }\r\n    };\r\n    /**\r\n     * Handles the mouse down on chart.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.chartOnMouseDown = function (e) {\r\n        var pageX;\r\n        var pageY;\r\n        var target;\r\n        var touchArg;\r\n        var offset = Browser.isDevice ? 20 : 30;\r\n        var rect = this.element.getBoundingClientRect();\r\n        var element = e.target;\r\n        this.trigger(chartMouseDown, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        if (e.type === 'touchstart') {\r\n            this.isTouch = true;\r\n            touchArg = e;\r\n            pageX = touchArg.changedTouches[0].clientX;\r\n            pageY = touchArg.changedTouches[0].clientY;\r\n            target = touchArg.target;\r\n        }\r\n        else {\r\n            this.isTouch = e.pointerType === 'touch';\r\n            pageX = e.clientX;\r\n            pageY = e.clientY;\r\n            target = e.target;\r\n        }\r\n        var svgRect = getElement(this.svgId).getBoundingClientRect();\r\n        this.mouseDownX = this.previousMouseMoveX = (pageX - rect.left) - Math.max(svgRect.left - rect.left, 0);\r\n        this.mouseDownY = this.previousMouseMoveY = (pageY - rect.top) - Math.max(svgRect.top - rect.top, 0);\r\n        if (this.isTouch) {\r\n            this.isDoubleTap = (new Date().getTime() < this.threshold && target.id.indexOf(this.element.id + '_Zooming_') === -1 &&\r\n                (this.mouseDownX - offset >= this.mouseX || this.mouseDownX + offset >= this.mouseX) &&\r\n                (this.mouseDownY - offset >= this.mouseY || this.mouseDownY + offset >= this.mouseY) &&\r\n                (this.mouseX - offset >= this.mouseDownX || this.mouseX + offset >= this.mouseDownX) &&\r\n                (this.mouseY - offset >= this.mouseDownY || this.mouseY + offset >= this.mouseDownY));\r\n        }\r\n        if (this.dataEditingModule) {\r\n            this.dataEditingModule.pointMouseDown();\r\n        }\r\n        this.notify(Browser.touchStartEvent, e);\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse up.\r\n     *\r\n     * @returns {boolean} false\r\n     * @private\r\n     */\r\n    Chart.prototype.mouseEnd = function (e) {\r\n        var pageY;\r\n        var pageX;\r\n        var touchArg;\r\n        if (e.type === 'touchend') {\r\n            touchArg = e;\r\n            pageX = touchArg.changedTouches[0].clientX;\r\n            this.isTouch = true;\r\n            pageY = touchArg.changedTouches[0].clientY;\r\n        }\r\n        else {\r\n            pageY = e.clientY;\r\n            pageX = e.clientX;\r\n            this.isTouch = e.pointerType === 'touch' || e.pointerType === '2';\r\n        }\r\n        this.setMouseXY(pageX, pageY);\r\n        this.chartOnMouseUp(e);\r\n        return false;\r\n    };\r\n    /**\r\n     * Handles the mouse up.\r\n     *\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    Chart.prototype.chartOnMouseUp = function (e) {\r\n        var element = e.target;\r\n        this.trigger(chartMouseUp, { target: element.id, x: this.mouseX, y: this.mouseY });\r\n        this.isChartDrag = false;\r\n        if (this.isTouch) {\r\n            this.titleTooltip(e, this.mouseX, this.mouseY, this.isTouch);\r\n            this.axisTooltip(e, this.mouseX, this.mouseY, this.isTouch);\r\n            this.threshold = new Date().getTime() + 300;\r\n        }\r\n        if (this.dataEditingModule) {\r\n            this.dataEditingModule.pointMouseUp();\r\n        }\r\n        if (!this.enableCanvas && this.seriesElements) {\r\n            this.seriesElements.removeAttribute('clip-path');\r\n        }\r\n        this.notify(Browser.touchEndEvent, e);\r\n        return false;\r\n    };\r\n    /**\r\n     * Method to set culture for chart\r\n     */\r\n    Chart.prototype.setCulture = function () {\r\n        this.intl = new Internationalization();\r\n        this.setLocaleConstants();\r\n        this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\r\n    };\r\n    /**\r\n     * Method to set the annotation content dynamically for chart.\r\n     */\r\n    Chart.prototype.setAnnotationValue = function (annotationIndex, content) {\r\n        var parentNode = getElement(this.element.id + '_Annotation_Collections');\r\n        var annotation = this.annotations[annotationIndex];\r\n        var element;\r\n        if (content !== null) {\r\n            annotation.content = content;\r\n            if (parentNode) {\r\n                removeElement(this.element.id + '_Annotation_' + annotationIndex);\r\n                element = this.createElement('div');\r\n                this.annotationModule.processAnnotation(annotation, annotationIndex, element);\r\n                parentNode.appendChild(element.children[0]);\r\n            }\r\n            else {\r\n                this.annotationModule.renderAnnotations(getElement(this.element.id + '_Secondary_Element'));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Method to set locale constants\r\n     */\r\n    Chart.prototype.setLocaleConstants = function () {\r\n        this.defaultLocalConstants = {\r\n            ZoomIn: 'Zoom in',\r\n            Zoom: 'Zoom',\r\n            ZoomOut: 'Zoom out',\r\n            Pan: 'Pan',\r\n            Reset: 'Reset',\r\n            ResetZoom: 'Reset Zoom'\r\n        };\r\n    };\r\n    /**\r\n     * Theming for chart\r\n     */\r\n    Chart.prototype.setTheme = function () {\r\n        /*! Set theme */\r\n        this.themeStyle = getThemeColor(this.theme);\r\n    };\r\n    /**\r\n     * To provide the array of modules needed for control rendering\r\n     *\r\n     * @returns {ModuleDeclaration[]}\r\n     * @private\r\n     */\r\n    /* eslint-disable  */\r\n    Chart.prototype.requiredModules = function () {\r\n        var _this = this;\r\n        var modules = [];\r\n        var series = this.series;\r\n        var enableAnnotation = false;\r\n        var moduleName;\r\n        var errorBarVisible = false;\r\n        var isPointDrag = false;\r\n        var dataLabelEnable = false;\r\n        var zooming = this.zoomSettings;\r\n        this.chartAreaType = (series.length > 0 && (series[0].type === 'Polar' || series[0].type === 'Radar')) ? 'PolarRadar' : 'Cartesian';\r\n        if (this.tooltip.enable) {\r\n            modules.push({\r\n                member: 'Tooltip',\r\n                args: [this]\r\n            });\r\n        }\r\n        series.map(function (value) {\r\n            _this.isLegend = (_this.legendSettings.visible && ((value.name !== '') || !!_this.isLegend));\r\n            moduleName = value.type.indexOf('100') !== -1 ? value.type.replace('100', '') + 'Series' : value.type + 'Series';\r\n            errorBarVisible = value.errorBar.visible || errorBarVisible;\r\n            dataLabelEnable = value.marker.dataLabel.visible || dataLabelEnable;\r\n            isPointDrag = value.dragSettings.enable || isPointDrag;\r\n            if (!modules.some(function (currentModule) {\r\n                return currentModule.member === moduleName;\r\n            })) {\r\n                modules.push({\r\n                    member: moduleName,\r\n                    args: [_this, series]\r\n                });\r\n            }\r\n            if (_this.chartAreaType === 'PolarRadar') {\r\n                modules.push({\r\n                    member: value.drawType + 'Series',\r\n                    args: [_this, series]\r\n                });\r\n            }\r\n            if (value.type === 'Pareto') {\r\n                modules.push({\r\n                    member: 'ColumnSeries',\r\n                    args: [_this, series]\r\n                });\r\n                modules.push({\r\n                    member: 'LineSeries',\r\n                    args: [_this, series]\r\n                });\r\n            }\r\n        });\r\n        this.findIndicatorModules(modules);\r\n        this.findTrendLineModules(modules);\r\n        modules = this.findAxisModule(modules);\r\n        enableAnnotation = this.annotations.some(function (value) {\r\n            return (value.content !== null);\r\n        });\r\n        if (errorBarVisible) {\r\n            modules.push({\r\n                member: 'ErrorBar',\r\n                args: [this, series]\r\n            });\r\n        }\r\n        if (this.isLegend) {\r\n            modules.push({\r\n                member: 'Legend',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (this.enableExport || this.allowExport) {\r\n            modules.push({\r\n                member: 'Export',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (this.chartAreaType !== 'PolarRadar' && !this.scrollSettingEnabled && (zooming.enableSelectionZooming\r\n            || zooming.enableMouseWheelZooming || zooming.enablePinchZooming || zooming.enablePan || zooming.enableScrollbar)) {\r\n            modules.push({\r\n                member: 'Zoom',\r\n                args: [this, this.zoomSettings]\r\n            });\r\n            if (zooming.enableScrollbar) {\r\n                modules.push({\r\n                    member: 'ScrollBar',\r\n                    args: [this]\r\n                });\r\n            }\r\n        }\r\n        if (this.selectionMode !== 'None' && !(this.chartAreaType === 'PolarRadar' &&\r\n            this.selectionMode.indexOf('Drag') > -1)) {\r\n            modules.push({\r\n                member: 'Selection',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (this.highlightMode !== 'None') {\r\n            modules.push({\r\n                member: 'Highlight',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (dataLabelEnable) {\r\n            modules.push({\r\n                member: 'DataLabel',\r\n                args: [this, series]\r\n            });\r\n        }\r\n        if (isPointDrag) {\r\n            modules.push({\r\n                member: 'DataEditing',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (enableAnnotation) {\r\n            modules.push({\r\n                member: 'Annotation',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (this.chartAreaType !== 'PolarRadar' && this.crosshair.enable) {\r\n            modules.push({\r\n                member: 'Crosshair',\r\n                args: [this]\r\n            });\r\n        }\r\n        return modules;\r\n    };\r\n    Chart.prototype.findAxisModule = function (modules) {\r\n        var axisCollections = [];\r\n        axisCollections.push(this.primaryXAxis);\r\n        axisCollections.push(this.primaryYAxis);\r\n        axisCollections = axisCollections.concat(this.axes);\r\n        var datetimeEnabled = false;\r\n        var categoryEnabled = false;\r\n        var logarithmicEnabled = false;\r\n        var striplineEnabled = false;\r\n        var dateTimeCategoryEnabled = false;\r\n        var multiLevelEnabled = false;\r\n        for (var _i = 0, axisCollections_1 = axisCollections; _i < axisCollections_1.length; _i++) {\r\n            var axis = axisCollections_1[_i];\r\n            datetimeEnabled = axis.valueType === 'DateTime' || datetimeEnabled;\r\n            categoryEnabled = axis.valueType === 'Category' || categoryEnabled;\r\n            logarithmicEnabled = axis.valueType === 'Logarithmic' || logarithmicEnabled;\r\n            dateTimeCategoryEnabled = axis.valueType === 'DateTimeCategory' || dateTimeCategoryEnabled;\r\n            striplineEnabled = this.findStriplineVisibility(axis.stripLines) || striplineEnabled;\r\n            multiLevelEnabled = axis.multiLevelLabels.length > 0 || multiLevelEnabled;\r\n            this.scrollSettingEnabled = axis.scrollbarSettings.enable ? true : this.scrollSettingEnabled;\r\n        }\r\n        if (datetimeEnabled) {\r\n            modules.push({\r\n                member: 'DateTime',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (categoryEnabled) {\r\n            modules.push({\r\n                member: 'Category',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (logarithmicEnabled) {\r\n            modules.push({\r\n                member: 'Logarithmic',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (striplineEnabled) {\r\n            modules.push({\r\n                member: 'StripLine',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (multiLevelEnabled) {\r\n            modules.push({\r\n                member: 'MultiLevelLabel',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (dateTimeCategoryEnabled) {\r\n            modules.push({\r\n                member: 'DateTimeCategory',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (this.scrollSettingEnabled) {\r\n            modules.push({\r\n                member: 'ScrollBar',\r\n                args: [this]\r\n            });\r\n        }\r\n        return modules;\r\n    };\r\n    Chart.prototype.findIndicatorModules = function (modules) {\r\n        var macdEnable;\r\n        var bandEnable;\r\n        var indicators = this.indicators;\r\n        if (this.indicators.length) {\r\n            modules.push({\r\n                member: 'LineSeries',\r\n                args: [this]\r\n            });\r\n            indicators.map(function (indicator) {\r\n                macdEnable = macdEnable || indicator.type === 'Macd';\r\n                bandEnable = bandEnable || indicator.type === 'BollingerBands';\r\n            });\r\n            if (macdEnable) {\r\n                modules.push({\r\n                    member: 'ColumnSeries',\r\n                    args: [this]\r\n                });\r\n            }\r\n            if (bandEnable) {\r\n                modules.push({\r\n                    member: 'RangeAreaSeries',\r\n                    args: [this]\r\n                });\r\n            }\r\n            if (bandEnable) {\r\n                modules.push({\r\n                    member: 'SplineRangeAreaSeries',\r\n                    args: [this]\r\n                });\r\n            }\r\n            for (var _i = 0, _a = this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                modules.push({\r\n                    member: indicator.type + 'Indicator',\r\n                    args: [this]\r\n                });\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.findTrendLineModules = function (modules) {\r\n        var isLine;\r\n        var isSpline;\r\n        var _loop_1 = function (series) {\r\n            var markerEnable;\r\n            series.trendlines.map(function (trendline) {\r\n                markerEnable = markerEnable || trendline.marker.visible;\r\n                isLine = isLine || (trendline.type === 'Linear' || trendline.type === 'MovingAverage') ? true : false;\r\n                isSpline = isSpline || !isLine ? true : false;\r\n            });\r\n            if (markerEnable) {\r\n                modules.push({\r\n                    member: 'Marker',\r\n                    args: [this_1, series]\r\n                });\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            _loop_1(series);\r\n        }\r\n        if (isLine || isSpline) {\r\n            modules.push({\r\n                member: 'TrendLine',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (isLine) {\r\n            modules.push({\r\n                member: 'LineSeries',\r\n                args: [this]\r\n            });\r\n        }\r\n        if (isSpline) {\r\n            modules.push({\r\n                member: 'SplineSeries',\r\n                args: [this]\r\n            });\r\n        }\r\n    };\r\n    Chart.prototype.findStriplineVisibility = function (striplines) {\r\n        var visible = false;\r\n        for (var _i = 0, striplines_1 = striplines; _i < striplines_1.length; _i++) {\r\n            var stripline = striplines_1[_i];\r\n            if (stripline.visible) {\r\n                visible = true;\r\n                break;\r\n            }\r\n        }\r\n        return visible;\r\n    };\r\n    /**\r\n     * To Remove the SVG.\r\n     * @return {boolean}\r\n     * @private\r\n     */\r\n    Chart.prototype.removeSvg = function () {\r\n        if (this.redraw) {\r\n            return null;\r\n        }\r\n        blazorTemplatesReset(this);\r\n        if (this.enableCanvas && this.svgObject && this.svgObject.tagName === 'CANVAS') {\r\n            this.renderer.clearRect(new Rect(0, 0, this.availableSize.width, this.availableSize.height));\r\n            if (this.svgObject.parentNode) {\r\n                remove(this.svgObject);\r\n            }\r\n            return null;\r\n        }\r\n        removeElement(this.element.id + '_Secondary_Element');\r\n        if (this.isReact) {\r\n            this.clearTemplate();\r\n        }\r\n        var removeLength = 0;\r\n        if (this.zoomModule && this.zoomModule.pinchTarget) {\r\n            this.zoomModule.pinchTarget.id = '';\r\n            this.zoomModule.pinchTarget.setAttribute('opacity', '0');\r\n            this.svgObject.appendChild(this.zoomModule.pinchTarget);\r\n            removeLength = 1;\r\n        }\r\n        // Fix for blazor resize issue\r\n        if (!isNullOrUndefined(this.resizeTo)) {\r\n            if (this.resizeTo !== this.checkResize && this.isBlazor && this.element.childElementCount) {\r\n                var containerCollection = document.querySelectorAll('.e-chart');\r\n                for (var index = 0; index < containerCollection.length; index++) {\r\n                    var container = containerCollection[index];\r\n                    while (container.firstChild) {\r\n                        remove(container.firstChild);\r\n                    }\r\n                }\r\n            }\r\n            this.checkResize = this.resizeTo;\r\n        }\r\n        if (this.svgObject) {\r\n            while (this.svgObject.childNodes.length > removeLength) {\r\n                this.svgObject.removeChild(this.svgObject.firstChild);\r\n            }\r\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode && !(this.stockChart)) {\r\n                remove(this.svgObject);\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.refreshDefinition = function (definitions) {\r\n        for (var _i = 0, definitions_1 = definitions; _i < definitions_1.length; _i++) {\r\n            var item = definitions_1[_i];\r\n            item.axes = [];\r\n        }\r\n    };\r\n    /**\r\n     * Refresh the axis default value.\r\n     *\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    Chart.prototype.refreshAxis = function () {\r\n        var axis = this.primaryXAxis;\r\n        axis.rect = new Rect(undefined, undefined, 0, 0);\r\n        axis = this.primaryYAxis;\r\n        axis.isStack100 = false;\r\n        axis.rect = new Rect(undefined, undefined, 0, 0);\r\n        for (var _i = 0, _a = this.axes; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            axis = item;\r\n            axis.rect = new Rect(undefined, undefined, 0, 0);\r\n            axis.isStack100 = false;\r\n        }\r\n        if (this.paretoSeriesModule && this.series[0].type === 'Pareto') {\r\n            for (var _b = 0, _c = this.paretoSeriesModule.paretoAxes; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                axis = item;\r\n                axis.rect = new Rect(undefined, undefined, 0, 0);\r\n                axis.isStack100 = false;\r\n            }\r\n        }\r\n    };\r\n    Chart.prototype.axisChange = function (axis) {\r\n        if (!axis.name && !axis.valueType) {\r\n            return false;\r\n        }\r\n        this.refreshDefinition(this.columns);\r\n        this.refreshDefinition(this.rows);\r\n        this.calculateVisibleAxis();\r\n        this.processData();\r\n        return true;\r\n    };\r\n    /**\r\n     * Get visible series by index\r\n     */\r\n    Chart.prototype.getVisibleSeries = function (visibleSeries, index) {\r\n        for (var _i = 0, visibleSeries_1 = visibleSeries; _i < visibleSeries_1.length; _i++) {\r\n            var series = visibleSeries_1[_i];\r\n            if (index === series.index) {\r\n                return series;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Fix for live data update flicker issue\r\n     */\r\n    Chart.prototype.refreshLiveData = function () {\r\n        this.calculateVisibleSeries();\r\n        this.initTechnicalIndicators();\r\n        this.initTrendLines();\r\n        this.refreshDefinition(this.columns);\r\n        this.refreshDefinition(this.rows);\r\n        this.calculateVisibleAxis();\r\n        this.processData(false);\r\n        if (!this.isBlazor) {\r\n            this.enableCanvas ? this.createChartSvg() : this.removeSvg();\r\n            this.refreshAxis();\r\n            this.refreshBound();\r\n            this.trigger('loaded', { chart: this.isBlazor ? {} : this });\r\n        }\r\n    };\r\n    /**\r\n     * To remove style element\r\n     */\r\n    Chart.prototype.removeStyles = function () {\r\n        removeElement(this.element.id + '_ej2_chart_selection');\r\n        removeElement(this.element.id + '_ej2_chart_highlight');\r\n    };\r\n    /**\r\n     * Called internally if any of the property value changed.\r\n     * @private\r\n     */\r\n    // tslint:disable-next-line:max-func-body-length\r\n    Chart.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        var renderer = false;\r\n        var refreshBounds = false;\r\n        this.animateSeries = false;\r\n        var axis;\r\n        if (!this.delayRedraw) {\r\n            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n                var prop = _a[_i];\r\n                switch (prop) {\r\n                    case 'primaryXAxis':\r\n                        axis = newProp.primaryXAxis;\r\n                        refreshBounds = this.axisChange(axis);\r\n                        if (newProp.primaryXAxis.edgeLabelPlacement) {\r\n                            renderer = true;\r\n                        }\r\n                        if (!newProp.primaryXAxis.crosshairTooltip) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        if (!isNullOrUndefined(axis.isInversed) || !isNullOrUndefined(axis.opposedPosition)) {\r\n                            this.primaryXAxis.setIsInversedAndOpposedPosition();\r\n                        }\r\n                        break;\r\n                    case 'primaryYAxis':\r\n                        axis = newProp.primaryYAxis;\r\n                        refreshBounds = this.axisChange(axis);\r\n                        if (newProp.primaryYAxis.edgeLabelPlacement) {\r\n                            renderer = true;\r\n                        }\r\n                        if (!newProp.primaryYAxis.crosshairTooltip) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        if (!isNullOrUndefined(axis.isInversed) || !isNullOrUndefined(axis.opposedPosition)) {\r\n                            this.primaryYAxis.setIsInversedAndOpposedPosition();\r\n                        }\r\n                        break;\r\n                    case 'axes':\r\n                        for (var _b = 0, _c = Object.keys(newProp.axes); _b < _c.length; _b++) {\r\n                            var index = _c[_b];\r\n                            axis = newProp.axes[index];\r\n                            refreshBounds = refreshBounds || this.axisChange(axis);\r\n                            if (!axis.crosshairTooltip) {\r\n                                refreshBounds = true;\r\n                            }\r\n                            if (!isNullOrUndefined(axis.isInversed) || !isNullOrUndefined(axis.opposedPosition)) {\r\n                                this.axes[index].setIsInversedAndOpposedPosition();\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'height':\r\n                    case 'width':\r\n                        this.createChartSvg();\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'subTitle':\r\n                    case 'title':\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'titleStyle':\r\n                        if (newProp.titleStyle && (newProp.titleStyle.size || newProp.titleStyle.textOverflow)) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        else {\r\n                            renderer = true;\r\n                        }\r\n                        break;\r\n                    case 'subTitleStyle':\r\n                        if (newProp.subTitleStyle && (newProp.subTitleStyle.size || newProp.subTitleStyle.textOverflow)) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        else {\r\n                            renderer = true;\r\n                        }\r\n                        break;\r\n                    case 'border':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'dataSource':\r\n                        this.processData(false);\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'enableCanvas':\r\n                        this.refresh();\r\n                        break;\r\n                    case 'series':\r\n                        var len = this.series.length;\r\n                        var seriesRefresh = false;\r\n                        var series = void 0;\r\n                        var blazorProp = void 0;\r\n                        for (var i = 0; i < len; i++) {\r\n                            series = newProp.series[i];\r\n                            // I264774 blazor series visible property binding not working issue fixed.\r\n                            if (this.isBlazor && series && ((series.visible !== oldProp.series[i].visible) || series.isClosed ||\r\n                                series.marker || series.emptyPointSettings || series.type || series.boxPlotMode || series.showMean)) {\r\n                                blazorProp = true;\r\n                            }\r\n                            if (series && (series.dataSource || series.query || series.errorBar || series.xName ||\r\n                                series.yName || series.size || series.high || series.low || series.open || series.close ||\r\n                                series.fill || series.name || series.marker || blazorProp)) {\r\n                                extend(this.getVisibleSeries(this.visibleSeries, i), series, null, true);\r\n                                seriesRefresh = true;\r\n                            }\r\n                        }\r\n                        if (seriesRefresh) {\r\n                            this.calculateVisibleSeries();\r\n                            this.initTechnicalIndicators();\r\n                            this.initTrendLines();\r\n                            this.refreshDefinition(this.columns);\r\n                            this.refreshDefinition(this.rows);\r\n                            this.calculateVisibleAxis();\r\n                            this.processData(false);\r\n                            refreshBounds = true;\r\n                        }\r\n                        break;\r\n                    case 'indicators':\r\n                        refreshBounds = true;\r\n                        break;\r\n                    case 'zoomSettings':\r\n                        if (newProp.zoomSettings.enableScrollbar || oldProp.zoomSettings.enableScrollbar) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        renderer = true;\r\n                        break;\r\n                    case 'background':\r\n                        renderer = true;\r\n                        break;\r\n                    case 'chartArea':\r\n                        if (newProp.chartArea.border && newProp.chartArea.border.width) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        renderer = true;\r\n                        break;\r\n                    case 'legendSettings':\r\n                        if (!newProp.legendSettings.background || !newProp.legendSettings.opacity) {\r\n                            refreshBounds = true;\r\n                        }\r\n                        renderer = true;\r\n                        break;\r\n                    case 'palettes':\r\n                        this.calculateVisibleSeries();\r\n                        renderer = true;\r\n                        break;\r\n                    case 'selectedDataIndexes':\r\n                        if (this.selectionModule) {\r\n                            this.selectionModule.currentMode = this.selectionMode;\r\n                            this.selectionModule.selectedDataIndexes = this.selectedDataIndexes;\r\n                            this.selectionModule.styleId = this.element.id + '_ej2_chart_selection';\r\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode, true);\r\n                        }\r\n                        break;\r\n                    case 'selectionMode':\r\n                        if (this.selectionModule && newProp.selectionMode && newProp.selectionMode.indexOf('Drag') === -1) {\r\n                            this.selectionModule.currentMode = this.selectionMode;\r\n                            this.selectionModule.styleId = this.element.id + '_ej2_chart_selection';\r\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode, true);\r\n                        }\r\n                        break;\r\n                    case 'isMultiSelect':\r\n                        if (this.selectionModule && !newProp.isMultiSelect && this.selectionModule.selectedDataIndexes.length > 1) {\r\n                            this.selectionModule.currentMode = this.selectionMode;\r\n                            this.selectionModule.styleId = this.element.id + '_ej2_chart_selection';\r\n                            this.selectionModule.redrawSelection(this, oldProp.selectionMode);\r\n                        }\r\n                        break;\r\n                    case 'highlightMode':\r\n                    case 'selectionPattern':\r\n                    case 'highlightPattern':\r\n                        this.removeStyles();\r\n                        renderer = true;\r\n                        break;\r\n                    case 'theme':\r\n                        this.animateSeries = true;\r\n                        break;\r\n                    case 'locale':\r\n                    case 'currencyCode':\r\n                        if (this.isBlazor) {\r\n                            this.setCulture();\r\n                            renderer = true;\r\n                        }\r\n                        else {\r\n                            this.refresh();\r\n                        }\r\n                        break;\r\n                    case 'tooltip':\r\n                        if (this.tooltipModule) { // To check the tooltip enable is true.\r\n                            this.tooltipModule.previousPoints = [];\r\n                            if (this.tooltip.template) {\r\n                                this.tooltipModule.template = this.tooltip.template;\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            if (!refreshBounds && renderer) {\r\n                this.rotatedDataLabelCollections = [];\r\n                this.removeSvg();\r\n                this.renderElements();\r\n                this.trigger('loaded', { chart: this.isBlazor ? {} : this });\r\n            }\r\n            if (refreshBounds) {\r\n                this.enableCanvas ? this.createChartSvg() : this.removeSvg();\r\n                if (this.isReact) {\r\n                    this.clearTemplate();\r\n                }\r\n                this.refreshAxis();\r\n                this.refreshBound();\r\n                this.trigger('loaded', { chart: this.isBlazor ? {} : this });\r\n                this.redraw = false;\r\n                this.animated = false;\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        Property(null)\r\n    ], Chart.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Chart.prototype, \"height\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Chart.prototype, \"title\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Chart.prototype, \"dataSource\", void 0);\r\n    __decorate([\r\n        Complex(Theme.chartTitleFont, Font)\r\n    ], Chart.prototype, \"titleStyle\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Chart.prototype, \"subTitle\", void 0);\r\n    __decorate([\r\n        Complex(Theme.chartSubTitleFont, Font)\r\n    ], Chart.prototype, \"subTitleStyle\", void 0);\r\n    __decorate([\r\n        Complex({}, Margin)\r\n    ], Chart.prototype, \"margin\", void 0);\r\n    __decorate([\r\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\r\n    ], Chart.prototype, \"border\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Chart.prototype, \"background\", void 0);\r\n    __decorate([\r\n        Complex({ border: { color: null, width: 0.5 }, background: 'transparent' }, ChartArea)\r\n    ], Chart.prototype, \"chartArea\", void 0);\r\n    __decorate([\r\n        Complex({ name: 'primaryXAxis' }, Axis)\r\n    ], Chart.prototype, \"primaryXAxis\", void 0);\r\n    __decorate([\r\n        Complex({ name: 'primaryYAxis' }, Axis)\r\n    ], Chart.prototype, \"primaryYAxis\", void 0);\r\n    __decorate([\r\n        Collection([{}], Row)\r\n    ], Chart.prototype, \"rows\", void 0);\r\n    __decorate([\r\n        Collection([{}], Column)\r\n    ], Chart.prototype, \"columns\", void 0);\r\n    __decorate([\r\n        Collection([{}], Axis)\r\n    ], Chart.prototype, \"axes\", void 0);\r\n    __decorate([\r\n        Collection([{}], Series)\r\n    ], Chart.prototype, \"series\", void 0);\r\n    __decorate([\r\n        Collection([{}], ChartAnnotationSettings)\r\n    ], Chart.prototype, \"annotations\", void 0);\r\n    __decorate([\r\n        Property([])\r\n    ], Chart.prototype, \"palettes\", void 0);\r\n    __decorate([\r\n        Property('Material')\r\n    ], Chart.prototype, \"theme\", void 0);\r\n    __decorate([\r\n        Complex({}, TooltipSettings)\r\n    ], Chart.prototype, \"tooltip\", void 0);\r\n    __decorate([\r\n        Complex({}, CrosshairSettings)\r\n    ], Chart.prototype, \"crosshair\", void 0);\r\n    __decorate([\r\n        Complex({}, LegendSettings)\r\n    ], Chart.prototype, \"legendSettings\", void 0);\r\n    __decorate([\r\n        Collection([{}], RangeColorSetting)\r\n    ], Chart.prototype, \"rangeColorSettings\", void 0);\r\n    __decorate([\r\n        Complex({}, ZoomSettings)\r\n    ], Chart.prototype, \"zoomSettings\", void 0);\r\n    __decorate([\r\n        Property('')\r\n    ], Chart.prototype, \"highlightColor\", void 0);\r\n    __decorate([\r\n        Property('None')\r\n    ], Chart.prototype, \"selectionMode\", void 0);\r\n    __decorate([\r\n        Property('None')\r\n    ], Chart.prototype, \"highlightMode\", void 0);\r\n    __decorate([\r\n        Property('None')\r\n    ], Chart.prototype, \"selectionPattern\", void 0);\r\n    __decorate([\r\n        Property('None')\r\n    ], Chart.prototype, \"highlightPattern\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"isMultiSelect\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"allowMultiSelection\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Chart.prototype, \"enableExport\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"allowExport\", void 0);\r\n    __decorate([\r\n        Collection([], Indexes)\r\n    ], Chart.prototype, \"selectedDataIndexes\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"useGroupingSeparator\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"enableAutoIntervalOnBothAxis\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"isTransposed\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], Chart.prototype, \"enableCanvas\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Chart.prototype, \"backgroundImage\", void 0);\r\n    __decorate([\r\n        Collection([], TechnicalIndicator)\r\n    ], Chart.prototype, \"indicators\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Chart.prototype, \"enableAnimation\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], Chart.prototype, \"description\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], Chart.prototype, \"tabIndex\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], Chart.prototype, \"enableSideBySidePlacement\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"resized\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"beforeResize\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"annotationRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"beforePrint\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"loaded\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"beforeExport\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"afterExport\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"load\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"animationComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"legendRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"textRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"pointRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"seriesRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"axisLabelRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"axisLabelClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"axisRangeCalculated\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"axisMultiLabelRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"legendClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"multiLevelLabelClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"tooltipRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"sharedTooltipRender\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"chartMouseMove\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"chartMouseClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"chartDoubleClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"pointClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"pointDoubleClick\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"pointMove\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"chartMouseLeave\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"chartMouseDown\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"chartMouseUp\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"dragComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"selectionComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"zoomComplete\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"onZooming\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"scrollStart\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"scrollEnd\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"scrollChanged\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"dragStart\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"drag\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], Chart.prototype, \"dragEnd\", void 0);\r\n    __decorate([\r\n        Property('USD')\r\n    ], Chart.prototype, \"currencyCode\", void 0);\r\n    Chart = __decorate([\r\n        NotifyPropertyChanges\r\n    ], Chart);\r\n    return Chart;\r\n}(Component));\r\nexport { Chart };\r\n"]},"metadata":{},"sourceType":"module"}