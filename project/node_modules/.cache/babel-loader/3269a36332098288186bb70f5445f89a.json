{"ast":null,"code":"import { factory } from '../../utils/factory.js';\nimport { isInteger } from '../../utils/number.js';\nimport { isMatrix } from '../../utils/is.js';\nvar name = 'diff';\nvar dependencies = ['typed', 'matrix', 'subtract', 'number'];\nexport var createDiff = /* #__PURE__ */factory(name, dependencies, _ref => {\n  var {\n    typed,\n    matrix,\n    subtract,\n    number\n  } = _ref;\n  /**\r\n   * Create a new matrix or array of the difference between elements of the given array\r\n   * The optional dim parameter lets you specify the dimension to evaluate the difference of\r\n   * If no dimension parameter is passed it is assumed as dimension 0\r\n   *\r\n   * Dimension is zero-based in javascript and one-based in the parser and can be a number or bignumber\r\n   * Arrays must be 'rectangular' meaning arrays like [1, 2]\r\n   * If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays\r\n   *\r\n   * Syntax:\r\n   *\r\n   *     math.diff(arr)\r\n   *     math.diff(arr, dim)\r\n   *\r\n   * Examples:\r\n   *\r\n   *     const arr = [1, 2, 4, 7, 0]\r\n   *     math.diff(arr) // returns [1, 2, 3, -7] (no dimension passed so 0 is assumed)\r\n   *     math.diff(math.matrix(arr)) // returns Matrix [1, 2, 3, -7]\r\n   *\r\n   *     const arr = [[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [9, 8, 7, 6, 4]]\r\n   *     math.diff(arr) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\r\n   *     math.diff(arr, 0) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\r\n   *     math.diff(arr, 1) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\r\n   *     math.diff(arr, math.bignumber(1)) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\r\n   *\r\n   *     math.diff(arr, 2) // throws RangeError as arr is 2 dimensional not 3\r\n   *     math.diff(arr, -1) // throws RangeError as negative dimensions are not allowed\r\n   *\r\n   *     // These will all produce the same result\r\n   *     math.diff([[1, 2], [3, 4]])\r\n   *     math.diff([math.matrix([1, 2]), math.matrix([3, 4])])\r\n   *     math.diff([[1, 2], math.matrix([3, 4])])\r\n   *     math.diff([math.matrix([1, 2]), [3, 4]])\r\n   *     // They do not produce the same result as  math.diff(math.matrix([[1, 2], [3, 4]])) as this returns a matrix\r\n   *\r\n   * See Also:\r\n   *\r\n   *      sum\r\n   *      subtract\r\n   *      partitionSelect\r\n   *\r\n   * @param {Array | Matrix} arr    An array or matrix\r\n   * @param {number} dim            Dimension\r\n   * @return {Array | Matrix}       Difference between array elements in given dimension\r\n   */\n\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(arr) {\n      // No dimension specified => assume dimension 0\n      if (isMatrix(arr)) {\n        return matrix(_diff(arr.toArray()));\n      } else {\n        return _diff(arr);\n      }\n    },\n    'Array | Matrix, number': function ArrayMatrixNumber(arr, dim) {\n      if (!isInteger(dim)) throw new RangeError('Dimension must be a whole number');\n\n      if (isMatrix(arr)) {\n        return matrix(_recursive(arr.toArray(), dim));\n      } else {\n        return _recursive(arr, dim);\n      }\n    },\n    'Array, BigNumber': typed.referTo('Array,number', selfAn => (arr, dim) => selfAn(arr, number(dim))),\n    'Matrix, BigNumber': typed.referTo('Matrix,number', selfMn => (arr, dim) => selfMn(arr, number(dim)))\n  });\n  /**\r\n   * Recursively find the correct dimension in the array/matrix\r\n   * Then Apply _diff to that dimension\r\n   *\r\n   * @param {Array} arr      The array\r\n   * @param {number} dim     Dimension\r\n   * @return {Array}         resulting array\r\n   */\n\n  function _recursive(arr, dim) {\n    if (isMatrix(arr)) {\n      arr = arr.toArray(); // Makes sure arrays like [ matrix([0, 1]), matrix([1, 0]) ] are processed properly\n    }\n\n    if (!Array.isArray(arr)) {\n      throw RangeError('Array/Matrix does not have that many dimensions');\n    }\n\n    if (dim > 0) {\n      var result = [];\n      arr.forEach(element => {\n        result.push(_recursive(element, dim - 1));\n      });\n      return result;\n    } else if (dim === 0) {\n      return _diff(arr);\n    } else {\n      throw RangeError('Cannot have negative dimension');\n    }\n  }\n  /**\r\n   * Difference between elements in the array\r\n   *\r\n   * @param {Array} arr      An array\r\n   * @return {Array}         resulting array\r\n   */\n\n\n  function _diff(arr) {\n    var result = [];\n    var size = arr.length;\n\n    for (var i = 1; i < size; i++) {\n      result.push(_ElementDiff(arr[i - 1], arr[i]));\n    }\n\n    return result;\n  }\n  /**\r\n   * Difference between 2 objects\r\n   *\r\n   * @param {Object} obj1    First object\r\n   * @param {Object} obj2    Second object\r\n   * @return {Array}         resulting array\r\n   */\n\n\n  function _ElementDiff(obj1, obj2) {\n    // Convert matrices to arrays\n    if (isMatrix(obj1)) obj1 = obj1.toArray();\n    if (isMatrix(obj2)) obj2 = obj2.toArray();\n    var obj1IsArray = Array.isArray(obj1);\n    var obj2IsArray = Array.isArray(obj2);\n\n    if (obj1IsArray && obj2IsArray) {\n      return _ArrayDiff(obj1, obj2);\n    }\n\n    if (!obj1IsArray && !obj2IsArray) {\n      return subtract(obj2, obj1); // Difference is (second - first) NOT (first - second)\n    }\n\n    throw TypeError('Cannot calculate difference between 1 array and 1 non-array');\n  }\n  /**\r\n   * Difference of elements in 2 arrays\r\n   *\r\n   * @param {Array} arr1     Array 1\r\n   * @param {Array} arr2     Array 2\r\n   * @return {Array}         resulting array\r\n   */\n\n\n  function _ArrayDiff(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n      throw RangeError('Not all sub-arrays have the same length');\n    }\n\n    var result = [];\n    var size = arr1.length;\n\n    for (var i = 0; i < size; i++) {\n      result.push(_ElementDiff(arr1[i], arr2[i]));\n    }\n\n    return result;\n  }\n});","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/mathjs/lib/esm/function/matrix/diff.js"],"names":["factory","isInteger","isMatrix","name","dependencies","createDiff","_ref","typed","matrix","subtract","number","ArrayMatrix","arr","_diff","toArray","ArrayMatrixNumber","dim","RangeError","_recursive","referTo","selfAn","selfMn","Array","isArray","result","forEach","element","push","size","length","i","_ElementDiff","obj1","obj2","obj1IsArray","obj2IsArray","_ArrayDiff","TypeError","arr1","arr2"],"mappings":"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","sourcesContent":["import { factory } from '../../utils/factory.js';\r\nimport { isInteger } from '../../utils/number.js';\r\nimport { isMatrix } from '../../utils/is.js';\r\nvar name = 'diff';\r\nvar dependencies = ['typed', 'matrix', 'subtract', 'number'];\r\nexport var createDiff = /* #__PURE__ */factory(name, dependencies, _ref => {\r\n  var {\r\n    typed,\r\n    matrix,\r\n    subtract,\r\n    number\r\n  } = _ref;\r\n  /**\r\n   * Create a new matrix or array of the difference between elements of the given array\r\n   * The optional dim parameter lets you specify the dimension to evaluate the difference of\r\n   * If no dimension parameter is passed it is assumed as dimension 0\r\n   *\r\n   * Dimension is zero-based in javascript and one-based in the parser and can be a number or bignumber\r\n   * Arrays must be 'rectangular' meaning arrays like [1, 2]\r\n   * If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays\r\n   *\r\n   * Syntax:\r\n   *\r\n   *     math.diff(arr)\r\n   *     math.diff(arr, dim)\r\n   *\r\n   * Examples:\r\n   *\r\n   *     const arr = [1, 2, 4, 7, 0]\r\n   *     math.diff(arr) // returns [1, 2, 3, -7] (no dimension passed so 0 is assumed)\r\n   *     math.diff(math.matrix(arr)) // returns Matrix [1, 2, 3, -7]\r\n   *\r\n   *     const arr = [[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [9, 8, 7, 6, 4]]\r\n   *     math.diff(arr) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\r\n   *     math.diff(arr, 0) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\r\n   *     math.diff(arr, 1) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\r\n   *     math.diff(arr, math.bignumber(1)) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\r\n   *\r\n   *     math.diff(arr, 2) // throws RangeError as arr is 2 dimensional not 3\r\n   *     math.diff(arr, -1) // throws RangeError as negative dimensions are not allowed\r\n   *\r\n   *     // These will all produce the same result\r\n   *     math.diff([[1, 2], [3, 4]])\r\n   *     math.diff([math.matrix([1, 2]), math.matrix([3, 4])])\r\n   *     math.diff([[1, 2], math.matrix([3, 4])])\r\n   *     math.diff([math.matrix([1, 2]), [3, 4]])\r\n   *     // They do not produce the same result as  math.diff(math.matrix([[1, 2], [3, 4]])) as this returns a matrix\r\n   *\r\n   * See Also:\r\n   *\r\n   *      sum\r\n   *      subtract\r\n   *      partitionSelect\r\n   *\r\n   * @param {Array | Matrix} arr    An array or matrix\r\n   * @param {number} dim            Dimension\r\n   * @return {Array | Matrix}       Difference between array elements in given dimension\r\n   */\r\n  return typed(name, {\r\n    'Array | Matrix': function ArrayMatrix(arr) {\r\n      // No dimension specified => assume dimension 0\r\n      if (isMatrix(arr)) {\r\n        return matrix(_diff(arr.toArray()));\r\n      } else {\r\n        return _diff(arr);\r\n      }\r\n    },\r\n    'Array | Matrix, number': function ArrayMatrixNumber(arr, dim) {\r\n      if (!isInteger(dim)) throw new RangeError('Dimension must be a whole number');\r\n      if (isMatrix(arr)) {\r\n        return matrix(_recursive(arr.toArray(), dim));\r\n      } else {\r\n        return _recursive(arr, dim);\r\n      }\r\n    },\r\n    'Array, BigNumber': typed.referTo('Array,number', selfAn => (arr, dim) => selfAn(arr, number(dim))),\r\n    'Matrix, BigNumber': typed.referTo('Matrix,number', selfMn => (arr, dim) => selfMn(arr, number(dim)))\r\n  });\r\n\r\n  /**\r\n   * Recursively find the correct dimension in the array/matrix\r\n   * Then Apply _diff to that dimension\r\n   *\r\n   * @param {Array} arr      The array\r\n   * @param {number} dim     Dimension\r\n   * @return {Array}         resulting array\r\n   */\r\n  function _recursive(arr, dim) {\r\n    if (isMatrix(arr)) {\r\n      arr = arr.toArray(); // Makes sure arrays like [ matrix([0, 1]), matrix([1, 0]) ] are processed properly\r\n    }\r\n\r\n    if (!Array.isArray(arr)) {\r\n      throw RangeError('Array/Matrix does not have that many dimensions');\r\n    }\r\n    if (dim > 0) {\r\n      var result = [];\r\n      arr.forEach(element => {\r\n        result.push(_recursive(element, dim - 1));\r\n      });\r\n      return result;\r\n    } else if (dim === 0) {\r\n      return _diff(arr);\r\n    } else {\r\n      throw RangeError('Cannot have negative dimension');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Difference between elements in the array\r\n   *\r\n   * @param {Array} arr      An array\r\n   * @return {Array}         resulting array\r\n   */\r\n  function _diff(arr) {\r\n    var result = [];\r\n    var size = arr.length;\r\n    for (var i = 1; i < size; i++) {\r\n      result.push(_ElementDiff(arr[i - 1], arr[i]));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Difference between 2 objects\r\n   *\r\n   * @param {Object} obj1    First object\r\n   * @param {Object} obj2    Second object\r\n   * @return {Array}         resulting array\r\n   */\r\n  function _ElementDiff(obj1, obj2) {\r\n    // Convert matrices to arrays\r\n    if (isMatrix(obj1)) obj1 = obj1.toArray();\r\n    if (isMatrix(obj2)) obj2 = obj2.toArray();\r\n    var obj1IsArray = Array.isArray(obj1);\r\n    var obj2IsArray = Array.isArray(obj2);\r\n    if (obj1IsArray && obj2IsArray) {\r\n      return _ArrayDiff(obj1, obj2);\r\n    }\r\n    if (!obj1IsArray && !obj2IsArray) {\r\n      return subtract(obj2, obj1); // Difference is (second - first) NOT (first - second)\r\n    }\r\n\r\n    throw TypeError('Cannot calculate difference between 1 array and 1 non-array');\r\n  }\r\n\r\n  /**\r\n   * Difference of elements in 2 arrays\r\n   *\r\n   * @param {Array} arr1     Array 1\r\n   * @param {Array} arr2     Array 2\r\n   * @return {Array}         resulting array\r\n   */\r\n  function _ArrayDiff(arr1, arr2) {\r\n    if (arr1.length !== arr2.length) {\r\n      throw RangeError('Not all sub-arrays have the same length');\r\n    }\r\n    var result = [];\r\n    var size = arr1.length;\r\n    for (var i = 0; i < size; i++) {\r\n      result.push(_ElementDiff(arr1[i], arr2[i]));\r\n    }\r\n    return result;\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}