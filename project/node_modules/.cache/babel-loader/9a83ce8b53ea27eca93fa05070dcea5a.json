{"ast":null,"code":"/**\r\n * Module loading operations\r\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\n\nvar ModuleLoader =\n/** @class */\nfunction () {\n  function ModuleLoader(parent) {\n    this.loadedModules = [];\n    this.parent = parent;\n  }\n  /**\r\n   * Inject required modules in component library\r\n   *\r\n   * @returns {void} ?\r\n   * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\r\n   * @param {Function[]} moduleList - Array of modules to be injected from sample side\r\n   */\n\n\n  ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n    var reqLength = requiredModules.length;\n\n    if (reqLength === 0) {\n      this.clean();\n      return;\n    }\n\n    if (this.loadedModules.length) {\n      this.clearUnusedModule(requiredModules);\n    }\n\n    for (var i = 0; i < reqLength; i++) {\n      var modl = requiredModules[i];\n\n      for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n        var module = moduleList_1[_i];\n        var modName = modl.member;\n\n        if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n          var moduleObject = createInstance(module, modl.args);\n          var memberName = this.getMemberName(modName);\n\n          if (modl.isProperty) {\n            setValue(memberName, module, this.parent);\n          } else {\n            setValue(memberName, moduleObject, this.parent);\n          }\n\n          var loadedModule = modl;\n          loadedModule.member = memberName;\n          this.loadedModules.push(loadedModule);\n        }\n      }\n    }\n  };\n  /**\r\n   * To remove the created object while destroying the control\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ModuleLoader.prototype.clean = function () {\n    for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n      var modules = _a[_i];\n\n      if (!modules.isProperty) {\n        getValue(modules.member, this.parent).destroy();\n      }\n    }\n\n    this.loadedModules = [];\n  };\n  /**\r\n   * Removes all unused modules\r\n   *\r\n   * @param {ModuleDeclaration[]} moduleList ?\r\n   * @returns {void} ?\r\n   */\n\n\n  ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n    var _this = this;\n\n    var usedModules = moduleList.map(function (arg) {\n      return _this.getMemberName(arg.member);\n    });\n    var removableModule = this.loadedModules.filter(function (module) {\n      return usedModules.indexOf(module.member) === -1;\n    });\n\n    for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n      var mod = removableModule_1[_i];\n\n      if (!mod.isProperty) {\n        getValue(mod.member, this.parent).destroy();\n      }\n\n      this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n      deleteObject(this.parent, mod.member);\n    }\n  };\n  /**\r\n   * To get the name of the member.\r\n   *\r\n   * @param {string} name ?\r\n   * @returns {string} ?\r\n   */\n\n\n  ModuleLoader.prototype.getMemberName = function (name) {\n    return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n  };\n  /**\r\n   * Returns boolean based on whether the module specified is loaded or not\r\n   *\r\n   * @param {string} modName ?\r\n   * @returns {boolean} ?\r\n   */\n\n\n  ModuleLoader.prototype.isModuleLoaded = function (modName) {\n    for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n      var mod = _a[_i];\n\n      if (mod.member === this.getMemberName(modName)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return ModuleLoader;\n}();\n\nexport { ModuleLoader };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-base/src/module-loader.js"],"names":["createInstance","setValue","getValue","deleteObject","MODULE_SUFFIX","ModuleLoader","parent","loadedModules","prototype","inject","requiredModules","moduleList","reqLength","length","clean","clearUnusedModule","i","modl","_i","moduleList_1","module","modName","member","getModuleName","isModuleLoaded","moduleObject","args","memberName","getMemberName","isProperty","loadedModule","push","_a","modules","destroy","_this","usedModules","map","arg","removableModule","filter","indexOf","removableModule_1","mod","splice","name","toLowerCase","substring"],"mappings":"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","sourcesContent":["/**\r\n * Module loading operations\r\n */\r\nimport { createInstance, setValue, getValue, deleteObject } from './util';\r\nvar MODULE_SUFFIX = 'Module';\r\nvar ModuleLoader = /** @class */ (function () {\r\n    function ModuleLoader(parent) {\r\n        this.loadedModules = [];\r\n        this.parent = parent;\r\n    }\r\n    /**\r\n     * Inject required modules in component library\r\n     *\r\n     * @returns {void} ?\r\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\r\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\r\n     */\r\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\r\n        var reqLength = requiredModules.length;\r\n        if (reqLength === 0) {\r\n            this.clean();\r\n            return;\r\n        }\r\n        if (this.loadedModules.length) {\r\n            this.clearUnusedModule(requiredModules);\r\n        }\r\n        for (var i = 0; i < reqLength; i++) {\r\n            var modl = requiredModules[i];\r\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\r\n                var module = moduleList_1[_i];\r\n                var modName = modl.member;\r\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\r\n                    var moduleObject = createInstance(module, modl.args);\r\n                    var memberName = this.getMemberName(modName);\r\n                    if (modl.isProperty) {\r\n                        setValue(memberName, module, this.parent);\r\n                    }\r\n                    else {\r\n                        setValue(memberName, moduleObject, this.parent);\r\n                    }\r\n                    var loadedModule = modl;\r\n                    loadedModule.member = memberName;\r\n                    this.loadedModules.push(loadedModule);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * To remove the created object while destroying the control\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ModuleLoader.prototype.clean = function () {\r\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\r\n            var modules = _a[_i];\r\n            if (!modules.isProperty) {\r\n                getValue(modules.member, this.parent).destroy();\r\n            }\r\n        }\r\n        this.loadedModules = [];\r\n    };\r\n    /**\r\n     * Removes all unused modules\r\n     *\r\n     * @param {ModuleDeclaration[]} moduleList ?\r\n     * @returns {void} ?\r\n     */\r\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\r\n        var _this = this;\r\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\r\n        var removableModule = this.loadedModules.filter(function (module) {\r\n            return usedModules.indexOf(module.member) === -1;\r\n        });\r\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\r\n            var mod = removableModule_1[_i];\r\n            if (!mod.isProperty) {\r\n                getValue(mod.member, this.parent).destroy();\r\n            }\r\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\r\n            deleteObject(this.parent, mod.member);\r\n        }\r\n    };\r\n    /**\r\n     * To get the name of the member.\r\n     *\r\n     * @param {string} name ?\r\n     * @returns {string} ?\r\n     */\r\n    ModuleLoader.prototype.getMemberName = function (name) {\r\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\r\n    };\r\n    /**\r\n     * Returns boolean based on whether the module specified is loaded or not\r\n     *\r\n     * @param {string} modName ?\r\n     * @returns {boolean} ?\r\n     */\r\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\r\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\r\n            var mod = _a[_i];\r\n            if (mod.member === this.getMemberName(modName)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return ModuleLoader;\r\n}());\r\nexport { ModuleLoader };\r\n"]},"metadata":{},"sourceType":"module"}