{"ast":null,"code":"import { Operators } from './pdf-operators';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PointF, RectangleF } from './../drawing/pdf-drawing';\nimport { PdfString } from './../primitives/pdf-string';\nimport { PdfName } from './../primitives/pdf-name';\n/**\r\n * Helper class to `write PDF graphic streams` easily.\r\n * @private\r\n */\n\nvar PdfStreamWriter =\n/** @class */\nfunction () {\n  /**\r\n   * Initialize an instance of `PdfStreamWriter` class.\r\n   * @private\r\n   */\n  function PdfStreamWriter(stream) {\n    if (stream == null) {\n      throw new Error('ArgumentNullException:stream');\n    }\n\n    this.stream = stream;\n  } //Implementation\n\n  /**\r\n   * `Clear` the stream.\r\n   * @public\r\n   */\n\n\n  PdfStreamWriter.prototype.clear = function () {\n    this.stream.clearStream();\n  };\n\n  PdfStreamWriter.prototype.setGraphicsState = function (dictionaryName) {\n    if (dictionaryName instanceof PdfName) {\n      this.stream.write(dictionaryName.toString());\n      this.stream.write(Operators.whiteSpace);\n      this.writeOperator(Operators.setGraphicsState);\n    } else {\n      this.stream.write(Operators.slash);\n      this.stream.write(dictionaryName);\n      this.stream.write(Operators.whiteSpace);\n      this.writeOperator(Operators.setGraphicsState);\n    }\n  };\n  /**\r\n   * `Executes the XObject`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.executeObject = function (name) {\n    this.stream.write(name.toString());\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.paintXObject);\n    this.stream.write(Operators.newLine);\n  };\n  /**\r\n   * `Closes path object`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.closePath = function () {\n    this.writeOperator(Operators.closePath);\n  };\n  /**\r\n   * `Clips the path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.clipPath = function (useEvenOddRule) {\n    this.stream.write(Operators.clipPath);\n\n    if (useEvenOddRule) {\n      this.stream.write(Operators.evenOdd);\n    }\n\n    this.stream.write(Operators.whiteSpace);\n    this.stream.write(Operators.endPath);\n    this.stream.write(Operators.newLine);\n  };\n  /**\r\n   * `Closes, then fills and strokes the path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.closeFillStrokePath = function (useEvenOddRule) {\n    this.stream.write(Operators.closeFillStrokePath);\n\n    if (useEvenOddRule) {\n      this.stream.write(Operators.evenOdd);\n      this.stream.write(Operators.newLine);\n    } else {\n      this.stream.write(Operators.newLine);\n    }\n  };\n  /**\r\n   * `Fills and strokes path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.fillStrokePath = function (useEvenOddRule) {\n    this.stream.write(Operators.fillStroke);\n\n    if (useEvenOddRule) {\n      this.stream.write(Operators.evenOdd);\n      this.stream.write(Operators.newLine);\n    } else {\n      this.stream.write(Operators.newLine);\n    }\n  };\n  /**\r\n   * `Fills path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.fillPath = function (useEvenOddRule) {\n    this.stream.write(Operators.fill);\n\n    if (useEvenOddRule) {\n      this.stream.write(Operators.evenOdd);\n      this.stream.write(Operators.newLine);\n    } else {\n      this.stream.write(Operators.newLine);\n    }\n  };\n  /**\r\n   * `Ends the path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.endPath = function () {\n    this.writeOperator(Operators.n);\n  };\n  /**\r\n   * `Closes and fills the path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.closeFillPath = function (useEvenOddRule) {\n    this.writeOperator(Operators.closePath);\n    this.stream.write(Operators.fill);\n\n    if (useEvenOddRule) {\n      this.stream.write(Operators.evenOdd);\n      this.stream.write(Operators.newLine);\n    } else {\n      this.stream.write(Operators.newLine);\n    }\n  };\n  /**\r\n   * `Closes and strokes the path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.closeStrokePath = function () {\n    this.writeOperator(Operators.closeStrokePath);\n  };\n  /**\r\n   * `Sets the text scaling`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setTextScaling = function (textScaling) {\n    this.stream.write(PdfNumber.floatToString(textScaling));\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setTextScaling);\n  };\n  /**\r\n   * `Strokes path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.strokePath = function () {\n    this.writeOperator(Operators.stroke);\n  };\n  /**\r\n   * `Restores` the graphics state.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.restoreGraphicsState = function () {\n    this.writeOperator(Operators.restoreState);\n  };\n  /**\r\n   * `Saves` the graphics state.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.saveGraphicsState = function () {\n    this.writeOperator(Operators.saveState);\n  };\n\n  PdfStreamWriter.prototype.startNextLine = function (arg1, arg2) {\n    if (typeof arg1 === 'undefined') {\n      this.writeOperator(Operators.goToNextLine);\n    } else if (arg1 instanceof PointF) {\n      this.writePoint(arg1);\n      this.writeOperator(Operators.setCoords);\n    } else {\n      this.writePoint(arg1, arg2);\n      this.writeOperator(Operators.setCoords);\n    }\n  };\n  /**\r\n   * Shows the `text`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.showText = function (text) {\n    this.checkTextParam(text);\n    this.writeText(text);\n    this.writeOperator(Operators.setText);\n  };\n  /**\r\n   * Sets `text leading`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setLeading = function (leading) {\n    this.stream.write(PdfNumber.floatToString(leading));\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setTextLeading);\n  };\n  /**\r\n   * `Begins the path`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.beginPath = function (x, y) {\n    this.writePoint(x, y);\n    this.writeOperator(Operators.beginPath);\n  };\n  /**\r\n   * `Begins text`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.beginText = function () {\n    this.writeOperator(Operators.beginText);\n  };\n  /**\r\n   * `Ends text`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.endText = function () {\n    this.writeOperator(Operators.endText);\n  };\n\n  PdfStreamWriter.prototype.appendRectangle = function (arg1, arg2, arg3, arg4) {\n    if (arg1 instanceof RectangleF) {\n      this.appendRectangle(arg1.x, arg1.y, arg1.width, arg1.height);\n    } else {\n      this.writePoint(arg1, arg2);\n      this.writePoint(arg3, arg4);\n      this.writeOperator(Operators.appendRectangle);\n    }\n  };\n\n  PdfStreamWriter.prototype.appendLineSegment = function (arg1, arg2) {\n    if (arg1 instanceof PointF) {\n      this.appendLineSegment(arg1.x, arg1.y);\n    } else {\n      this.writePoint(arg1, arg2);\n      this.writeOperator(Operators.appendLineSegment);\n    }\n  };\n  /**\r\n   * Sets the `text rendering mode`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setTextRenderingMode = function (renderingMode) {\n    this.stream.write(renderingMode.toString());\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setRenderingMode);\n  };\n  /**\r\n   * Sets the `character spacing`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setCharacterSpacing = function (charSpacing) {\n    this.stream.write(PdfNumber.floatToString(charSpacing));\n    this.stream.write(Operators.whiteSpace);\n    this.stream.write(Operators.setCharacterSpace);\n    this.stream.write(Operators.newLine);\n  };\n  /**\r\n   * Sets the `word spacing`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setWordSpacing = function (wordSpacing) {\n    this.stream.write(PdfNumber.floatToString(wordSpacing));\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setWordSpace);\n  };\n\n  PdfStreamWriter.prototype.showNextLineText = function (arg1, arg2) {\n    if (arg1 instanceof PdfString) {\n      this.checkTextParam(arg1);\n      this.writeText(arg1);\n      this.writeOperator(Operators.setTextOnNewLine);\n    } else {\n      this.checkTextParam(arg1);\n      this.writeText(arg1, arg2);\n      this.writeOperator(Operators.setTextOnNewLine);\n    }\n  };\n\n  PdfStreamWriter.prototype.setColorSpace = function (arg1, arg2) {\n    if (arg1 instanceof PdfName && typeof arg2 === 'boolean') {\n      var temparg1 = arg1;\n      var temparg2 = arg2; // if (temparg1 == null) {\n      //     throw new Error('ArgumentNullException:name');\n      // }\n\n      var op = temparg2 ? Operators.selectcolorspaceforstroking : Operators.selectcolorspacefornonstroking;\n      this.stream.write(temparg1.toString());\n      this.stream.write(Operators.whiteSpace);\n      this.stream.write(op);\n      this.stream.write(Operators.newLine);\n    } else {\n      var temparg1 = arg1;\n      var temparg2 = arg2;\n      this.setColorSpace(new PdfName(temparg1), temparg2);\n    }\n  };\n  /**\r\n   * Modifies current `transformation matrix`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.modifyCtm = function (matrix) {\n    if (matrix == null) {\n      throw new Error('ArgumentNullException:matrix');\n    }\n\n    this.stream.write(matrix.toString());\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.modifyCtm);\n  };\n\n  PdfStreamWriter.prototype.setFont = function (font, name, size) {\n    if (typeof name === 'string') {\n      this.setFont(font, new PdfName(name), size);\n    } else {\n      if (font == null) {\n        throw new Error('ArgumentNullException:font');\n      }\n\n      this.stream.write(name.toString());\n      this.stream.write(Operators.whiteSpace);\n      this.stream.write(PdfNumber.floatToString(size));\n      this.stream.write(Operators.whiteSpace);\n      this.writeOperator(Operators.setFont);\n    }\n  };\n  /**\r\n   * `Writes the operator`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.writeOperator = function (opcode) {\n    this.stream.write(opcode);\n    this.stream.write(Operators.newLine);\n  };\n\n  PdfStreamWriter.prototype.checkTextParam = function (text) {\n    if (text == null) {\n      throw new Error('ArgumentNullException:text');\n    }\n\n    if (typeof text === 'string' && text === '') {\n      throw new Error('ArgumentException:The text can not be an empty string, text');\n    }\n  };\n\n  PdfStreamWriter.prototype.writeText = function (arg1, arg2) {\n    if (arg1 instanceof PdfString && typeof arg2 === 'undefined') {\n      this.stream.write(arg1.pdfEncode());\n    } else {\n      var start = void 0;\n      var end = void 0;\n\n      if (arg2) {\n        start = PdfString.hexStringMark[0];\n        end = PdfString.hexStringMark[1];\n      } else {\n        start = PdfString.stringMark[0];\n        end = PdfString.stringMark[1];\n      }\n\n      this.stream.write(start);\n      this.stream.write(arg1);\n      this.stream.write(end);\n    }\n  };\n\n  PdfStreamWriter.prototype.writePoint = function (arg1, arg2) {\n    if (arg1 instanceof PointF && typeof arg2 === 'undefined') {\n      this.writePoint(arg1.x, arg1.y);\n    } else {\n      var temparg1 = arg1;\n      this.stream.write(PdfNumber.floatToString(temparg1));\n      this.stream.write(Operators.whiteSpace); // NOTE: Change Y co-ordinate because we shifted co-ordinate system only.\n\n      arg2 = this.updateY(arg2);\n      this.stream.write(PdfNumber.floatToString(arg2));\n      this.stream.write(Operators.whiteSpace);\n    }\n  };\n  /**\r\n   * `Updates y` co-ordinate.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.updateY = function (arg) {\n    return -arg;\n  };\n  /**\r\n   * `Writes string` to the file.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.write = function (string) {\n    var builder = '';\n    builder += string;\n    builder += Operators.newLine;\n    this.writeOperator(builder);\n  };\n  /**\r\n   * `Writes comment` to the file.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.writeComment = function (comment) {\n    if (comment != null && comment.length > 0) {\n      var builder = '';\n      builder += Operators.comment;\n      builder += Operators.whiteSpace;\n      builder += comment; //builder.Append( Operators.NewLine );\n\n      this.writeOperator(builder);\n    } else {\n      throw new Error('Invalid comment');\n    }\n  };\n  /**\r\n   * Sets the `color and space`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setColorAndSpace = function (color, colorSpace, forStroking) {\n    if (!color.isEmpty) {\n      // bool test = color is PdfExtendedColor;\n      this.stream.write(color.toString(colorSpace, forStroking));\n      this.stream.write(Operators.newLine);\n    }\n  }; // public setLineDashPattern(pattern : number[], patternOffset : number) : void\n  // {\n  //     let pat : PdfArray = new PdfArray(pattern);\n  //     let off : PdfNumber = new PdfNumber(patternOffset);\n  //     this.setLineDashPatternHelper(pat, off);\n  // }\n  // private setLineDashPatternHelper(pattern : PdfArray, patternOffset : PdfNumber) : void\n  // {\n  //     pattern.Save(this);\n  //     this.m_stream.write(Operators.whiteSpace);\n  //     patternOffset.Save(this);\n  //     this.m_stream.write(Operators.whiteSpace);\n  //     this.writeOperator(Operators.setDashPattern);\n  // }\n\n  /**\r\n   * Sets the `line dash pattern`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setLineDashPattern = function (pattern, patternOffset) {\n    // let pat : PdfArray = new PdfArray(pattern);\n    // let off : PdfNumber = new PdfNumber(patternOffset);\n    // this.setLineDashPatternHelper(pat, off);\n    this.setLineDashPatternHelper(pattern, patternOffset);\n  };\n  /**\r\n   * Sets the `line dash pattern`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setLineDashPatternHelper = function (pattern, patternOffset) {\n    var tempPattern = '[';\n\n    if (pattern.length > 1) {\n      for (var index = 0; index < pattern.length; index++) {\n        if (index === pattern.length - 1) {\n          tempPattern += pattern[index].toString();\n        } else {\n          tempPattern += pattern[index].toString() + ' ';\n        }\n      }\n    }\n\n    tempPattern += '] ';\n    tempPattern += patternOffset.toString();\n    tempPattern += ' ' + Operators.setDashPattern;\n    this.stream.write(tempPattern);\n    this.stream.write(Operators.newLine);\n  };\n  /**\r\n   * Sets the `miter limit`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setMiterLimit = function (miterLimit) {\n    this.stream.write(PdfNumber.floatToString(miterLimit));\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setMiterLimit);\n  };\n  /**\r\n   * Sets the `width of the line`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setLineWidth = function (width) {\n    this.stream.write(PdfNumber.floatToString(width));\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setLineWidth);\n  };\n  /**\r\n   * Sets the `line cap`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setLineCap = function (lineCapStyle) {\n    this.stream.write(lineCapStyle.toString());\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setLineCapStyle);\n  };\n  /**\r\n   * Sets the `line join`.\r\n   * @private\r\n   */\n\n\n  PdfStreamWriter.prototype.setLineJoin = function (lineJoinStyle) {\n    this.stream.write(lineJoinStyle.toString());\n    this.stream.write(Operators.whiteSpace);\n    this.writeOperator(Operators.setLineJoinStyle);\n  };\n\n  Object.defineProperty(PdfStreamWriter.prototype, \"position\", {\n    //IPdfWriter members\n\n    /**\r\n     * Gets or sets the current `position` within the stream.\r\n     * @private\r\n     */\n    get: function () {\n      return this.stream.position;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfStreamWriter.prototype, \"length\", {\n    /**\r\n     * Gets `stream length`.\r\n     * @private\r\n     */\n    get: function () {\n      var returnValue = 0;\n\n      if (this.stream.data.length !== 0 && this.stream.data.length !== -1) {\n        for (var index = 0; index < this.stream.data.length; index++) {\n          returnValue += this.stream.data[index].length;\n        }\n      }\n\n      return returnValue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfStreamWriter.prototype, \"document\", {\n    /**\r\n     * Gets and Sets the `current document`.\r\n     * @private\r\n     */\n    get: function () {\n      return null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /* tslint:disable-next-line:max-line-length */\n\n  PdfStreamWriter.prototype.appendBezierSegment = function (arg1, arg2, arg3, arg4, arg5, arg6) {\n    if (arg1 instanceof PointF && arg2 instanceof PointF && arg3 instanceof PointF) {\n      this.writePoint(arg1.x, arg1.y);\n      this.writePoint(arg2.x, arg2.y);\n      this.writePoint(arg3.x, arg3.y);\n    } else {\n      this.writePoint(arg1, arg2);\n      this.writePoint(arg3, arg4);\n      this.writePoint(arg5, arg6);\n    }\n\n    this.writeOperator(Operators.appendbeziercurve);\n  };\n\n  PdfStreamWriter.prototype.setColourWithPattern = function (colours, patternName, forStroking) {\n    if (colours != null) {\n      var count = colours.length;\n      var i = 0;\n\n      for (i = 0; i < count; ++i) {\n        this.stream.write(colours[i].toString());\n        this.stream.write(Operators.whiteSpace);\n      }\n    }\n\n    if (patternName != null) {\n      this.stream.write(patternName.toString());\n      this.stream.write(Operators.whiteSpace);\n    }\n\n    if (forStroking) {\n      this.writeOperator(Operators.setColorAndPatternStroking);\n    } else {\n      this.writeOperator(Operators.setColorAndPattern);\n    }\n  };\n\n  return PdfStreamWriter;\n}();\n\nexport { PdfStreamWriter };","map":{"version":3,"sources":["C:/Users/x/Desktop/openDSA/openDSA_dashboard/project/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-pdf-export/src/implementation/input-output/pdf-stream-writer.js"],"names":["Operators","PdfNumber","PointF","RectangleF","PdfString","PdfName","PdfStreamWriter","stream","Error","prototype","clear","clearStream","setGraphicsState","dictionaryName","write","toString","whiteSpace","writeOperator","slash","executeObject","name","paintXObject","newLine","closePath","clipPath","useEvenOddRule","evenOdd","endPath","closeFillStrokePath","fillStrokePath","fillStroke","fillPath","fill","n","closeFillPath","closeStrokePath","setTextScaling","textScaling","floatToString","strokePath","stroke","restoreGraphicsState","restoreState","saveGraphicsState","saveState","startNextLine","arg1","arg2","goToNextLine","writePoint","setCoords","showText","text","checkTextParam","writeText","setText","setLeading","leading","setTextLeading","beginPath","x","y","beginText","endText","appendRectangle","arg3","arg4","width","height","appendLineSegment","setTextRenderingMode","renderingMode","setRenderingMode","setCharacterSpacing","charSpacing","setCharacterSpace","setWordSpacing","wordSpacing","setWordSpace","showNextLineText","setTextOnNewLine","setColorSpace","temparg1","temparg2","op","selectcolorspaceforstroking","selectcolorspacefornonstroking","modifyCtm","matrix","setFont","font","size","opcode","pdfEncode","start","end","hexStringMark","stringMark","updateY","arg","string","builder","writeComment","comment","length","setColorAndSpace","color","colorSpace","forStroking","isEmpty","setLineDashPattern","pattern","patternOffset","setLineDashPatternHelper","tempPattern","index","setDashPattern","setMiterLimit","miterLimit","setLineWidth","setLineCap","lineCapStyle","setLineCapStyle","setLineJoin","lineJoinStyle","setLineJoinStyle","Object","defineProperty","get","position","enumerable","configurable","returnValue","data","appendBezierSegment","arg5","arg6","appendbeziercurve","setColourWithPattern","colours","patternName","count","i","setColorAndPatternStroking","setColorAndPattern"],"mappings":"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","sourcesContent":["import { Operators } from './pdf-operators';\r\nimport { PdfNumber } from './../primitives/pdf-number';\r\nimport { PointF, RectangleF } from './../drawing/pdf-drawing';\r\nimport { PdfString } from './../primitives/pdf-string';\r\nimport { PdfName } from './../primitives/pdf-name';\r\n/**\r\n * Helper class to `write PDF graphic streams` easily.\r\n * @private\r\n */\r\nvar PdfStreamWriter = /** @class */ (function () {\r\n    /**\r\n     * Initialize an instance of `PdfStreamWriter` class.\r\n     * @private\r\n     */\r\n    function PdfStreamWriter(stream) {\r\n        if (stream == null) {\r\n            throw new Error('ArgumentNullException:stream');\r\n        }\r\n        this.stream = stream;\r\n    }\r\n    //Implementation\r\n    /**\r\n     * `Clear` the stream.\r\n     * @public\r\n     */\r\n    PdfStreamWriter.prototype.clear = function () {\r\n        this.stream.clearStream();\r\n    };\r\n    PdfStreamWriter.prototype.setGraphicsState = function (dictionaryName) {\r\n        if (dictionaryName instanceof PdfName) {\r\n            this.stream.write(dictionaryName.toString());\r\n            this.stream.write(Operators.whiteSpace);\r\n            this.writeOperator(Operators.setGraphicsState);\r\n        }\r\n        else {\r\n            this.stream.write(Operators.slash);\r\n            this.stream.write(dictionaryName);\r\n            this.stream.write(Operators.whiteSpace);\r\n            this.writeOperator(Operators.setGraphicsState);\r\n        }\r\n    };\r\n    /**\r\n     * `Executes the XObject`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.executeObject = function (name) {\r\n        this.stream.write(name.toString());\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.paintXObject);\r\n        this.stream.write(Operators.newLine);\r\n    };\r\n    /**\r\n     * `Closes path object`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.closePath = function () {\r\n        this.writeOperator(Operators.closePath);\r\n    };\r\n    /**\r\n     * `Clips the path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.clipPath = function (useEvenOddRule) {\r\n        this.stream.write(Operators.clipPath);\r\n        if (useEvenOddRule) {\r\n            this.stream.write(Operators.evenOdd);\r\n        }\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.stream.write(Operators.endPath);\r\n        this.stream.write(Operators.newLine);\r\n    };\r\n    /**\r\n     * `Closes, then fills and strokes the path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.closeFillStrokePath = function (useEvenOddRule) {\r\n        this.stream.write(Operators.closeFillStrokePath);\r\n        if (useEvenOddRule) {\r\n            this.stream.write(Operators.evenOdd);\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n        else {\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n    };\r\n    /**\r\n     * `Fills and strokes path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.fillStrokePath = function (useEvenOddRule) {\r\n        this.stream.write(Operators.fillStroke);\r\n        if (useEvenOddRule) {\r\n            this.stream.write(Operators.evenOdd);\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n        else {\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n    };\r\n    /**\r\n     * `Fills path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.fillPath = function (useEvenOddRule) {\r\n        this.stream.write(Operators.fill);\r\n        if (useEvenOddRule) {\r\n            this.stream.write(Operators.evenOdd);\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n        else {\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n    };\r\n    /**\r\n     * `Ends the path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.endPath = function () {\r\n        this.writeOperator(Operators.n);\r\n    };\r\n    /**\r\n     * `Closes and fills the path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.closeFillPath = function (useEvenOddRule) {\r\n        this.writeOperator(Operators.closePath);\r\n        this.stream.write(Operators.fill);\r\n        if (useEvenOddRule) {\r\n            this.stream.write(Operators.evenOdd);\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n        else {\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n    };\r\n    /**\r\n     * `Closes and strokes the path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.closeStrokePath = function () {\r\n        this.writeOperator(Operators.closeStrokePath);\r\n    };\r\n    /**\r\n     * `Sets the text scaling`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setTextScaling = function (textScaling) {\r\n        this.stream.write(PdfNumber.floatToString(textScaling));\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setTextScaling);\r\n    };\r\n    /**\r\n     * `Strokes path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.strokePath = function () {\r\n        this.writeOperator(Operators.stroke);\r\n    };\r\n    /**\r\n     * `Restores` the graphics state.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.restoreGraphicsState = function () {\r\n        this.writeOperator(Operators.restoreState);\r\n    };\r\n    /**\r\n     * `Saves` the graphics state.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.saveGraphicsState = function () {\r\n        this.writeOperator(Operators.saveState);\r\n    };\r\n    PdfStreamWriter.prototype.startNextLine = function (arg1, arg2) {\r\n        if (typeof arg1 === 'undefined') {\r\n            this.writeOperator(Operators.goToNextLine);\r\n        }\r\n        else if (arg1 instanceof PointF) {\r\n            this.writePoint(arg1);\r\n            this.writeOperator(Operators.setCoords);\r\n        }\r\n        else {\r\n            this.writePoint(arg1, arg2);\r\n            this.writeOperator(Operators.setCoords);\r\n        }\r\n    };\r\n    /**\r\n     * Shows the `text`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.showText = function (text) {\r\n        this.checkTextParam(text);\r\n        this.writeText(text);\r\n        this.writeOperator(Operators.setText);\r\n    };\r\n    /**\r\n     * Sets `text leading`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setLeading = function (leading) {\r\n        this.stream.write(PdfNumber.floatToString(leading));\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setTextLeading);\r\n    };\r\n    /**\r\n     * `Begins the path`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.beginPath = function (x, y) {\r\n        this.writePoint(x, y);\r\n        this.writeOperator(Operators.beginPath);\r\n    };\r\n    /**\r\n     * `Begins text`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.beginText = function () {\r\n        this.writeOperator(Operators.beginText);\r\n    };\r\n    /**\r\n     * `Ends text`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.endText = function () {\r\n        this.writeOperator(Operators.endText);\r\n    };\r\n    PdfStreamWriter.prototype.appendRectangle = function (arg1, arg2, arg3, arg4) {\r\n        if (arg1 instanceof RectangleF) {\r\n            this.appendRectangle(arg1.x, arg1.y, arg1.width, arg1.height);\r\n        }\r\n        else {\r\n            this.writePoint(arg1, arg2);\r\n            this.writePoint(arg3, arg4);\r\n            this.writeOperator(Operators.appendRectangle);\r\n        }\r\n    };\r\n    PdfStreamWriter.prototype.appendLineSegment = function (arg1, arg2) {\r\n        if (arg1 instanceof PointF) {\r\n            this.appendLineSegment(arg1.x, arg1.y);\r\n        }\r\n        else {\r\n            this.writePoint(arg1, arg2);\r\n            this.writeOperator(Operators.appendLineSegment);\r\n        }\r\n    };\r\n    /**\r\n     * Sets the `text rendering mode`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setTextRenderingMode = function (renderingMode) {\r\n        this.stream.write(renderingMode.toString());\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setRenderingMode);\r\n    };\r\n    /**\r\n     * Sets the `character spacing`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setCharacterSpacing = function (charSpacing) {\r\n        this.stream.write(PdfNumber.floatToString(charSpacing));\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.stream.write(Operators.setCharacterSpace);\r\n        this.stream.write(Operators.newLine);\r\n    };\r\n    /**\r\n     * Sets the `word spacing`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setWordSpacing = function (wordSpacing) {\r\n        this.stream.write(PdfNumber.floatToString(wordSpacing));\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setWordSpace);\r\n    };\r\n    PdfStreamWriter.prototype.showNextLineText = function (arg1, arg2) {\r\n        if (arg1 instanceof PdfString) {\r\n            this.checkTextParam(arg1);\r\n            this.writeText(arg1);\r\n            this.writeOperator(Operators.setTextOnNewLine);\r\n        }\r\n        else {\r\n            this.checkTextParam(arg1);\r\n            this.writeText(arg1, arg2);\r\n            this.writeOperator(Operators.setTextOnNewLine);\r\n        }\r\n    };\r\n    PdfStreamWriter.prototype.setColorSpace = function (arg1, arg2) {\r\n        if (arg1 instanceof PdfName && typeof arg2 === 'boolean') {\r\n            var temparg1 = arg1;\r\n            var temparg2 = arg2;\r\n            // if (temparg1 == null) {\r\n            //     throw new Error('ArgumentNullException:name');\r\n            // }\r\n            var op = (temparg2) ? Operators.selectcolorspaceforstroking : Operators.selectcolorspacefornonstroking;\r\n            this.stream.write(temparg1.toString());\r\n            this.stream.write(Operators.whiteSpace);\r\n            this.stream.write(op);\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n        else {\r\n            var temparg1 = arg1;\r\n            var temparg2 = arg2;\r\n            this.setColorSpace(new PdfName(temparg1), temparg2);\r\n        }\r\n    };\r\n    /**\r\n     * Modifies current `transformation matrix`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.modifyCtm = function (matrix) {\r\n        if (matrix == null) {\r\n            throw new Error('ArgumentNullException:matrix');\r\n        }\r\n        this.stream.write(matrix.toString());\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.modifyCtm);\r\n    };\r\n    PdfStreamWriter.prototype.setFont = function (font, name, size) {\r\n        if (typeof name === 'string') {\r\n            this.setFont(font, new PdfName(name), size);\r\n        }\r\n        else {\r\n            if (font == null) {\r\n                throw new Error('ArgumentNullException:font');\r\n            }\r\n            this.stream.write(name.toString());\r\n            this.stream.write(Operators.whiteSpace);\r\n            this.stream.write(PdfNumber.floatToString(size));\r\n            this.stream.write(Operators.whiteSpace);\r\n            this.writeOperator(Operators.setFont);\r\n        }\r\n    };\r\n    /**\r\n     * `Writes the operator`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.writeOperator = function (opcode) {\r\n        this.stream.write(opcode);\r\n        this.stream.write(Operators.newLine);\r\n    };\r\n    PdfStreamWriter.prototype.checkTextParam = function (text) {\r\n        if (text == null) {\r\n            throw new Error('ArgumentNullException:text');\r\n        }\r\n        if (typeof text === 'string' && text === '') {\r\n            throw new Error('ArgumentException:The text can not be an empty string, text');\r\n        }\r\n    };\r\n    PdfStreamWriter.prototype.writeText = function (arg1, arg2) {\r\n        if ((arg1 instanceof PdfString) && (typeof arg2 === 'undefined')) {\r\n            this.stream.write(arg1.pdfEncode());\r\n        }\r\n        else {\r\n            var start = void 0;\r\n            var end = void 0;\r\n            if (arg2) {\r\n                start = PdfString.hexStringMark[0];\r\n                end = PdfString.hexStringMark[1];\r\n            }\r\n            else {\r\n                start = PdfString.stringMark[0];\r\n                end = PdfString.stringMark[1];\r\n            }\r\n            this.stream.write(start);\r\n            this.stream.write(arg1);\r\n            this.stream.write(end);\r\n        }\r\n    };\r\n    PdfStreamWriter.prototype.writePoint = function (arg1, arg2) {\r\n        if ((arg1 instanceof PointF) && (typeof arg2 === 'undefined')) {\r\n            this.writePoint(arg1.x, arg1.y);\r\n        }\r\n        else {\r\n            var temparg1 = arg1;\r\n            this.stream.write(PdfNumber.floatToString(temparg1));\r\n            this.stream.write(Operators.whiteSpace);\r\n            // NOTE: Change Y co-ordinate because we shifted co-ordinate system only.\r\n            arg2 = this.updateY(arg2);\r\n            this.stream.write(PdfNumber.floatToString(arg2));\r\n            this.stream.write(Operators.whiteSpace);\r\n        }\r\n    };\r\n    /**\r\n     * `Updates y` co-ordinate.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.updateY = function (arg) {\r\n        return -arg;\r\n    };\r\n    /**\r\n     * `Writes string` to the file.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.write = function (string) {\r\n        var builder = '';\r\n        builder += string;\r\n        builder += Operators.newLine;\r\n        this.writeOperator(builder);\r\n    };\r\n    /**\r\n     * `Writes comment` to the file.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.writeComment = function (comment) {\r\n        if (comment != null && comment.length > 0) {\r\n            var builder = '';\r\n            builder += Operators.comment;\r\n            builder += Operators.whiteSpace;\r\n            builder += comment;\r\n            //builder.Append( Operators.NewLine );\r\n            this.writeOperator(builder);\r\n        }\r\n        else {\r\n            throw new Error('Invalid comment');\r\n        }\r\n    };\r\n    /**\r\n     * Sets the `color and space`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setColorAndSpace = function (color, colorSpace, forStroking) {\r\n        if (!color.isEmpty) {\r\n            // bool test = color is PdfExtendedColor;\r\n            this.stream.write(color.toString(colorSpace, forStroking));\r\n            this.stream.write(Operators.newLine);\r\n        }\r\n    };\r\n    // public setLineDashPattern(pattern : number[], patternOffset : number) : void\r\n    // {\r\n    //     let pat : PdfArray = new PdfArray(pattern);\r\n    //     let off : PdfNumber = new PdfNumber(patternOffset);\r\n    //     this.setLineDashPatternHelper(pat, off);\r\n    // }\r\n    // private setLineDashPatternHelper(pattern : PdfArray, patternOffset : PdfNumber) : void\r\n    // {\r\n    //     pattern.Save(this);\r\n    //     this.m_stream.write(Operators.whiteSpace);\r\n    //     patternOffset.Save(this);\r\n    //     this.m_stream.write(Operators.whiteSpace);\r\n    //     this.writeOperator(Operators.setDashPattern);\r\n    // }\r\n    /**\r\n     * Sets the `line dash pattern`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setLineDashPattern = function (pattern, patternOffset) {\r\n        // let pat : PdfArray = new PdfArray(pattern);\r\n        // let off : PdfNumber = new PdfNumber(patternOffset);\r\n        // this.setLineDashPatternHelper(pat, off);\r\n        this.setLineDashPatternHelper(pattern, patternOffset);\r\n    };\r\n    /**\r\n     * Sets the `line dash pattern`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setLineDashPatternHelper = function (pattern, patternOffset) {\r\n        var tempPattern = '[';\r\n        if (pattern.length > 1) {\r\n            for (var index = 0; index < pattern.length; index++) {\r\n                if (index === pattern.length - 1) {\r\n                    tempPattern += pattern[index].toString();\r\n                }\r\n                else {\r\n                    tempPattern += pattern[index].toString() + ' ';\r\n                }\r\n            }\r\n        }\r\n        tempPattern += '] ';\r\n        tempPattern += patternOffset.toString();\r\n        tempPattern += ' ' + Operators.setDashPattern;\r\n        this.stream.write(tempPattern);\r\n        this.stream.write(Operators.newLine);\r\n    };\r\n    /**\r\n     * Sets the `miter limit`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setMiterLimit = function (miterLimit) {\r\n        this.stream.write(PdfNumber.floatToString(miterLimit));\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setMiterLimit);\r\n    };\r\n    /**\r\n     * Sets the `width of the line`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setLineWidth = function (width) {\r\n        this.stream.write(PdfNumber.floatToString(width));\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setLineWidth);\r\n    };\r\n    /**\r\n     * Sets the `line cap`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setLineCap = function (lineCapStyle) {\r\n        this.stream.write((lineCapStyle).toString());\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setLineCapStyle);\r\n    };\r\n    /**\r\n     * Sets the `line join`.\r\n     * @private\r\n     */\r\n    PdfStreamWriter.prototype.setLineJoin = function (lineJoinStyle) {\r\n        this.stream.write((lineJoinStyle).toString());\r\n        this.stream.write(Operators.whiteSpace);\r\n        this.writeOperator(Operators.setLineJoinStyle);\r\n    };\r\n    Object.defineProperty(PdfStreamWriter.prototype, \"position\", {\r\n        //IPdfWriter members\r\n        /**\r\n         * Gets or sets the current `position` within the stream.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return this.stream.position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfStreamWriter.prototype, \"length\", {\r\n        /**\r\n         * Gets `stream length`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            var returnValue = 0;\r\n            if (this.stream.data.length !== 0 && this.stream.data.length !== -1) {\r\n                for (var index = 0; index < this.stream.data.length; index++) {\r\n                    returnValue += this.stream.data[index].length;\r\n                }\r\n            }\r\n            return returnValue;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PdfStreamWriter.prototype, \"document\", {\r\n        /**\r\n         * Gets and Sets the `current document`.\r\n         * @private\r\n         */\r\n        get: function () {\r\n            return null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /* tslint:disable-next-line:max-line-length */\r\n    PdfStreamWriter.prototype.appendBezierSegment = function (arg1, arg2, arg3, arg4, arg5, arg6) {\r\n        if (arg1 instanceof PointF && arg2 instanceof PointF && arg3 instanceof PointF) {\r\n            this.writePoint(arg1.x, arg1.y);\r\n            this.writePoint(arg2.x, arg2.y);\r\n            this.writePoint(arg3.x, arg3.y);\r\n        }\r\n        else {\r\n            this.writePoint(arg1, arg2);\r\n            this.writePoint(arg3, arg4);\r\n            this.writePoint(arg5, arg6);\r\n        }\r\n        this.writeOperator(Operators.appendbeziercurve);\r\n    };\r\n    PdfStreamWriter.prototype.setColourWithPattern = function (colours, patternName, forStroking) {\r\n        if ((colours != null)) {\r\n            var count = colours.length;\r\n            var i = 0;\r\n            for (i = 0; i < count; ++i) {\r\n                this.stream.write(colours[i].toString());\r\n                this.stream.write(Operators.whiteSpace);\r\n            }\r\n        }\r\n        if ((patternName != null)) {\r\n            this.stream.write(patternName.toString());\r\n            this.stream.write(Operators.whiteSpace);\r\n        }\r\n        if (forStroking) {\r\n            this.writeOperator(Operators.setColorAndPatternStroking);\r\n        }\r\n        else {\r\n            this.writeOperator(Operators.setColorAndPattern);\r\n        }\r\n    };\r\n    return PdfStreamWriter;\r\n}());\r\nexport { PdfStreamWriter };\r\n"]},"metadata":{},"sourceType":"module"}